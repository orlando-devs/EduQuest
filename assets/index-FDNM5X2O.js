(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function cx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var em={exports:{}},Qo={};var f_;function hx(){if(f_)return Qo;f_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Qo.Fragment=e,Qo.jsx=i,Qo.jsxs=i,Qo}var m_;function dx(){return m_||(m_=1,em.exports=hx()),em.exports}var p=dx(),tm={exports:{}},Ne={};var p_;function fx(){if(p_)return Ne;p_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=D&&O[D]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ie={};function de(O,K,ae){this.props=O,this.context=K,this.refs=ie,this.updater=ae||W}de.prototype.isReactComponent={},de.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},de.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _e(){}_e.prototype=de.prototype;function Te(O,K,ae){this.props=O,this.context=K,this.refs=ie,this.updater=ae||W}var xe=Te.prototype=new _e;xe.constructor=Te,re(xe,de.prototype),xe.isPureReactComponent=!0;var dt=Array.isArray;function Me(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,K,ae){var le=ae.ref;return{$$typeof:s,type:O,key:K,ref:le!==void 0?le:null,props:ae}}function j(O,K){return I(O.type,K,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function z(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return K[ae]})}var N=/\/+/g;function $e(O,K){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):K.toString(36)}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Me,Me):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,ae,le,ve){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(we){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case s:case e:ze=!0;break;case x:return ze=O._init,F(ze(O._payload),K,ae,le,ve)}}if(ze)return ve=ve(O),ze=le===""?"."+$e(O,0):le,dt(ve)?(ae="",ze!=null&&(ae=ze.replace(N,"$&/")+"/"),F(ve,K,ae,"",function(Hs){return Hs})):ve!=null&&(M(ve)&&(ve=j(ve,ae+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+ze)),K.push(ve)),1;ze=0;var Qe=le===""?".":le+":";if(dt(O))for(var Je=0;Je<O.length;Je++)le=O[Je],we=Qe+$e(le,Je),ze+=F(le,K,ae,we,ve);else if(Je=Q(O),typeof Je=="function")for(O=Je.call(O),Je=0;!(le=O.next()).done;)le=le.value,we=Qe+$e(le,Je++),ze+=F(le,K,ae,we,ve);else if(we==="object"){if(typeof O.then=="function")return F(Et(O),K,ae,le,ve);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ze}function se(O,K,ae){if(O==null)return O;var le=[],ve=0;return F(O,le,"","",function(we){return K.call(ae,we,ve++)}),le}function pe(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:se,forEach:function(O,K,ae){se(O,function(){K.apply(this,arguments)},ae)},count:function(O){var K=0;return se(O,function(){K++}),K},toArray:function(O){return se(O,function(K){return K})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ne.Activity=A,Ne.Children=Ke,Ne.Component=de,Ne.Fragment=i,Ne.Profiler=o,Ne.PureComponent=Te,Ne.StrictMode=r,Ne.Suspense=b,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(O,K,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=re({},O.props),ve=O.key;if(K!=null)for(we in K.key!==void 0&&(ve=""+K.key),K)!S.call(K,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&K.ref===void 0||(le[we]=K[we]);var we=arguments.length-2;if(we===1)le.children=ae;else if(1<we){for(var ze=Array(we),Qe=0;Qe<we;Qe++)ze[Qe]=arguments[Qe+2];le.children=ze}return I(O.type,ve,le)},Ne.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ne.createElement=function(O,K,ae){var le,ve={},we=null;if(K!=null)for(le in K.key!==void 0&&(we=""+K.key),K)S.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=K[le]);var ze=arguments.length-2;if(ze===1)ve.children=ae;else if(1<ze){for(var Qe=Array(ze),Je=0;Je<ze;Je++)Qe[Je]=arguments[Je+2];ve.children=Qe}if(O&&O.defaultProps)for(le in ze=O.defaultProps,ze)ve[le]===void 0&&(ve[le]=ze[le]);return I(O,we,ve)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:y,render:O}},Ne.isValidElement=M,Ne.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:pe}},Ne.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},Ne.startTransition=function(O){var K=R.T,ae={};R.T=ae;try{var le=O(),ve=R.S;ve!==null&&ve(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Me,Oe)}catch(we){Oe(we)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),R.T=K}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(O){return R.H.use(O)},Ne.useActionState=function(O,K,ae){return R.H.useActionState(O,K,ae)},Ne.useCallback=function(O,K){return R.H.useCallback(O,K)},Ne.useContext=function(O){return R.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,K){return R.H.useDeferredValue(O,K)},Ne.useEffect=function(O,K){return R.H.useEffect(O,K)},Ne.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(O,K,ae){return R.H.useImperativeHandle(O,K,ae)},Ne.useInsertionEffect=function(O,K){return R.H.useInsertionEffect(O,K)},Ne.useLayoutEffect=function(O,K){return R.H.useLayoutEffect(O,K)},Ne.useMemo=function(O,K){return R.H.useMemo(O,K)},Ne.useOptimistic=function(O,K){return R.H.useOptimistic(O,K)},Ne.useReducer=function(O,K,ae){return R.H.useReducer(O,K,ae)},Ne.useRef=function(O){return R.H.useRef(O)},Ne.useState=function(O){return R.H.useState(O)},Ne.useSyncExternalStore=function(O,K,ae){return R.H.useSyncExternalStore(O,K,ae)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.2.4",Ne}var g_;function tp(){return g_||(g_=1,tm.exports=fx()),tm.exports}var fe=tp();const mx=cx(fe);var nm={exports:{}},Yo={},im={exports:{}},sm={};var y_;function px(){return y_||(y_=1,(function(s){function e(F,se){var pe=F.length;F.push(se);e:for(;0<pe;){var Oe=pe-1>>>1,Ke=F[Oe];if(0<o(Ke,se))F[Oe]=se,F[pe]=Ke,pe=Oe;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var se=F[0],pe=F.pop();if(pe!==se){F[0]=pe;e:for(var Oe=0,Ke=F.length,O=Ke>>>1;Oe<O;){var K=2*(Oe+1)-1,ae=F[K],le=K+1,ve=F[le];if(0>o(ae,pe))le<Ke&&0>o(ve,ae)?(F[Oe]=ve,F[le]=pe,Oe=le):(F[Oe]=ae,F[K]=pe,Oe=K);else if(le<Ke&&0>o(ve,pe))F[Oe]=ve,F[le]=pe,Oe=le;else break e}}return se}function o(F,se){var pe=F.sortIndex-se.sortIndex;return pe!==0?pe:F.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,y=f.now();s.unstable_now=function(){return f.now()-y}}var b=[],_=[],x=1,A=null,D=3,Q=!1,W=!1,re=!1,ie=!1,de=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function xe(F){for(var se=i(_);se!==null;){if(se.callback===null)r(_);else if(se.startTime<=F)r(_),se.sortIndex=se.expirationTime,e(b,se);else break;se=i(_)}}function dt(F){if(re=!1,xe(F),!W)if(i(b)!==null)W=!0,Me||(Me=!0,z());else{var se=i(_);se!==null&&Et(dt,se.startTime-F)}}var Me=!1,R=-1,S=5,I=-1;function j(){return ie?!0:!(s.unstable_now()-I<S)}function M(){if(ie=!1,Me){var F=s.unstable_now();I=F;var se=!0;try{e:{W=!1,re&&(re=!1,_e(R),R=-1),Q=!0;var pe=D;try{t:{for(xe(F),A=i(b);A!==null&&!(A.expirationTime>F&&j());){var Oe=A.callback;if(typeof Oe=="function"){A.callback=null,D=A.priorityLevel;var Ke=Oe(A.expirationTime<=F);if(F=s.unstable_now(),typeof Ke=="function"){A.callback=Ke,xe(F),se=!0;break t}A===i(b)&&r(b),xe(F)}else r(b);A=i(b)}if(A!==null)se=!0;else{var O=i(_);O!==null&&Et(dt,O.startTime-F),se=!1}}break e}finally{A=null,D=pe,Q=!1}se=void 0}}finally{se?z():Me=!1}}}var z;if(typeof Te=="function")z=function(){Te(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$e=N.port2;N.port1.onmessage=M,z=function(){$e.postMessage(null)}}else z=function(){de(M,0)};function Et(F,se){R=de(function(){F(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(F){switch(D){case 1:case 2:case 3:var se=3;break;default:se=D}var pe=D;D=se;try{return F()}finally{D=pe}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var pe=D;D=F;try{return se()}finally{D=pe}},s.unstable_scheduleCallback=function(F,se,pe){var Oe=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Oe+pe:Oe):pe=Oe,F){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=pe+Ke,F={id:x++,callback:se,priorityLevel:F,startTime:pe,expirationTime:Ke,sortIndex:-1},pe>Oe?(F.sortIndex=pe,e(_,F),i(b)===null&&F===i(_)&&(re?(_e(R),R=-1):re=!0,Et(dt,pe-Oe))):(F.sortIndex=Ke,e(b,F),W||Q||(W=!0,Me||(Me=!0,z()))),F},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(F){var se=D;return function(){var pe=D;D=se;try{return F.apply(this,arguments)}finally{D=pe}}}})(sm)),sm}var __;function gx(){return __||(__=1,im.exports=px()),im.exports}var am={exports:{}},gn={};var v_;function yx(){if(v_)return gn;v_=1;var s=tp();function e(b){var _="https://react.dev/errors/"+b;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+b+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(b,_,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:b,containerInfo:_,implementation:x}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,_){if(b==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(b,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(b,_,null,x)},gn.flushSync=function(b){var _=f.T,x=r.p;try{if(f.T=null,r.p=2,b)return b()}finally{f.T=_,r.p=x,r.d.f()}},gn.preconnect=function(b,_){typeof b=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(b,_))},gn.prefetchDNS=function(b){typeof b=="string"&&r.d.D(b)},gn.preinit=function(b,_){if(typeof b=="string"&&_&&typeof _.as=="string"){var x=_.as,A=y(x,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?r.d.S(b,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:Q}):x==="script"&&r.d.X(b,{crossOrigin:A,integrity:D,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},gn.preinitModule=function(b,_){if(typeof b=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);r.d.M(b,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(b)},gn.preload=function(b,_){if(typeof b=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,A=y(x,_.crossOrigin);r.d.L(b,x,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},gn.preloadModule=function(b,_){if(typeof b=="string")if(_){var x=y(_.as,_.crossOrigin);r.d.m(b,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(b)},gn.requestFormReset=function(b){r.d.r(b)},gn.unstable_batchedUpdates=function(b,_){return b(_)},gn.useFormState=function(b,_,x){return f.H.useFormState(b,_,x)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.2.4",gn}var b_;function _x(){if(b_)return am.exports;b_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),am.exports=yx(),am.exports}var E_;function vx(){if(E_)return Yo;E_=1;var s=gx(),e=tp(),i=_x();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return b(h),t;if(d===l)return b(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=d;break}if(E===l){g=!0,l=h,a=d;break}E=E.sibling}if(!g){for(E=d.child;E;){if(E===a){g=!0,a=d,l=h;break}if(E===l){g=!0,l=d,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),_e=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case de:return"Profiler";case ie:return"StrictMode";case dt:return"Suspense";case Me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Te:return t.displayName||"Context";case _e:return(t._context.displayName||"Context")+".Consumer";case xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:$e(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return $e(t(n))}catch{}}return null}var Et=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Oe=[],Ke=-1;function O(t){return{current:t}}function K(t){0>Ke||(t.current=Oe[Ke],Oe[Ke]=null,Ke--)}function ae(t,n){Ke++,Oe[Ke]=t.current,t.current=n}var le=O(null),ve=O(null),we=O(null),ze=O(null);function Qe(t,n){switch(ae(we,n),ae(ve,t),ae(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Vy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Vy(n),t=zy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(le),ae(le,t)}function Je(){K(le),K(ve),K(we)}function Hs(t){t.memoizedState!==null&&ae(ze,t);var n=le.current,a=zy(n,t.type);n!==a&&(ae(ve,t),ae(le,a))}function Qa(t){ve.current===t&&(K(le),K(ve)),ze.current===t&&(K(ze),Ho._currentValue=pe)}var qn,Jt;function Hn(t){if(qn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);qn=n&&n[1]||"",Jt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qn+t+Jt}var Ui=!1;function Ai(t,n){if(!t||Ui)return"";Ui=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){B=H}t.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],E=d[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Ui=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Hn(a):""}function Ya(t,n){switch(t.tag){case 26:case 27:case 5:return Hn(t.type);case 16:return Hn("Lazy");case 13:return t.child!==n&&n!==null?Hn("Suspense Fallback"):Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return Ai(t.type,!1);case 11:return Ai(t.type.render,!1);case 1:return Ai(t.type,!0);case 31:return Hn("Activity");default:return""}}function Fn(t){try{var n="",a=null;do n+=Ya(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,It=s.unstable_scheduleCallback,Gn=s.unstable_cancelCallback,fn=s.unstable_shouldYield,ls=s.unstable_requestPaint,ut=s.unstable_now,si=s.unstable_getCurrentPriorityLevel,Fs=s.unstable_ImmediatePriority,Gs=s.unstable_UserBlockingPriority,Kn=s.unstable_NormalPriority,Xa=s.unstable_LowPriority,os=s.unstable_IdlePriority,$a=s.log,Li=s.unstable_setDisableYieldValue,mn=null,At=null;function En(t){if(typeof $a=="function"&&Li(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(mn,t)}catch{}}var Tt=Math.clz32?Math.clz32:us,Pi=Math.log,Qn=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(Pi(t)/Qn|0)|0}var Rn=256,In=262144,tt=4194304;function nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vt(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=nn(l):(g&=E,g!==0?h=nn(g):a||(a=E&~t,a!==0&&(h=nn(a))))):(E=l&~d,E!==0?h=nn(E):g!==0?h=nn(g):a||(a=l&~t,a!==0&&(h=nn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Zt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Gt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bi(){var t=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),t}function Si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ks(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qs(t,n,a,l,h,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-Tt(a),$=1<<G;E[G]=0,C[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~$}l!==0&&qi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function qi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Tt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function st(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Tt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Ja(t,n){var a=n&-n;return a=(a&42)!==0?1:pn(a),(a&(t.suspendedLanes|n))!==0?0:a}function pn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ur(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:r_(t.type))}function Tn(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var sn=Math.random().toString(36).slice(2),xt="__reactFiber$"+sn,yt="__reactProps$"+sn,Yn="__reactContainer$"+sn,cs="__reactEvents$"+sn,Za="__reactListeners$"+sn,Wt="__reactHandles$"+sn,Wa="__reactResources$"+sn,xn="__reactMarker$"+sn;function Ys(t){delete t[xt],delete t[yt],delete t[cs],delete t[Za],delete t[Wt]}function ri(t){var n=t[xt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Yn]||a[xt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Fy(t);t!==null;){if(a=t[xt])return a;t=Fy(t)}return n}t=a,a=t.parentNode}return null}function wn(t){if(t=t[xt]||t[Yn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function An(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function li(t){var n=t[Wa];return n||(n=t[Wa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(t){t[xn]=!0}var er=new Set,tr={};function oi(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(tr[t]=n,t=0;t<n.length;t++)er.add(n[t])}var nr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ir={},Xs={};function Lr(t){return ft.call(Xs,t)?!0:ft.call(ir,t)?!1:nr.test(t)?Xs[t]=!0:(ir[t]=!0,!1)}function $s(t,n,a){if(Lr(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Sn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Nt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function hs(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function w(t){if(!t._valueTracker){var n=Hi(t)?"checked":"value";t._valueTracker=hs(t,n,""+t[n])}}function Z(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Hi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ne(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ee=/[\n"\\]/g;function ue(t){return t.replace(ee,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Kt(t,n,a,l,h,d,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Pr(t,g,zt(n)):a!=null?Pr(t,g,zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+zt(E):t.removeAttribute("name")}function ds(t,n,a,l,h,d,g,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){w(t);return}a=a!=null?""+zt(a):"",n=n!=null?""+zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),w(t)}function Pr(t,n,a){n==="number"&&ne(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ci(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Du(t,n,a){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+zt(a):""}function Js(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=zt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),w(t)}function Dn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||ku.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function io(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&no(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&no(t,d,n[d])}function Br(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qr(t){return Zs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ni(){}var so=null;function hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ws=null,Fi=null;function sr(t){var n=wn(t);if(n&&(t=n.stateNode)){var a=t[yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Kt(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ue(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(r(90));Kt(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Z(l)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ci(t,!!a.multiple,n,!1)}}}var Hr=!1;function ea(t,n,a){if(Hr)return t(n,a);Hr=!0;try{var l=t(n);return l}finally{if(Hr=!1,(Ws!==null||Fi!==null)&&(Sc(),Ws&&(n=Ws,t=Fi,Fi=Ws=null,sr(n),t)))for(n=0;n<t.length;n++)sr(t[n])}}function Ci(t,n){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(di)try{var at={};Object.defineProperty(at,"passive",{get:function(){ar=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{ar=!1}var Gi=null,ao=null,rr=null;function ro(){if(rr)return rr;var t,n=ao,a=n.length,l,h="value"in Gi?Gi.value:Gi.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[d-l];l++);return rr=h.slice(t,1<l?1-l:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function fs(){return!0}function Ri(){return!1}function an(t){function n(a,l,h,d,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fs:Ri,this.isPropagationStopped=Ri,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),n}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=an(ms),ta=A({},ms,{view:0,detail:0}),lo=an(ta),na,Fr,Qi,Gr=A({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(na=t.screenX-Qi.screenX,Fr=t.screenY-Qi.screenY):Fr=na=0,Qi=t),na)},movementY:function(t){return"movementY"in t?t.movementY:Fr}}),oo=an(Gr),or=A({},Gr,{dataTransfer:0}),Ou=an(or),ju=A({},ta,{relatedTarget:0}),ur=an(ju),uo=A({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=an(uo),Kr=A({},ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=an(Kr),Uu=A({},ms,{data:0}),Yi=an(Uu),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bu[t])?!!n[t]:!1}function ia(){return qu}var Nn=A({},ta,{key:function(t){if(t.key){var n=Lu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=an(Nn),Fu=A({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=an(Fu),u=A({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),m=an(u),v=A({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=an(v),U=A({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=an(U),te=A({},ms,{newState:0,oldState:0}),Ie=an(te),Dt=[9,13,27,32],Ze=di&&"CompositionEvent"in window,_t=null;di&&"documentMode"in document&&(_t=document.documentMode);var fi=di&&"TextEvent"in window&&!_t,Xi=di&&(!Ze||_t&&8<_t&&11>=_t),Ii=" ",Di=!1;function cr(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yr=!1;function OE(t,n){switch(t){case"compositionend":return Qr(n);case"keypress":return n.which!==32?null:(Di=!0,Ii);case"textInput":return t=n.data,t===Ii&&Di?null:t;default:return null}}function jE(t,n){if(Yr)return t==="compositionend"||!Ze&&cr(t,n)?(t=ro(),rr=ao=Gi=null,Yr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xi&&n.locale!=="ko"?null:n.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!VE[t.type]:n==="textarea"}function Yp(t,n,a,l){Ws?Fi?Fi.push(l):Fi=[l]:Ws=l,n=Mc(n,"onChange"),0<n.length&&(a=new Ki("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var co=null,ho=null;function zE(t){Iy(t,0)}function Gu(t){var n=An(t);if(Z(n))return t}function Xp(t,n){if(t==="change")return n}var $p=!1;if(di){var rd;if(di){var ld="oninput"in document;if(!ld){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),ld=typeof Jp.oninput=="function"}rd=ld}else rd=!1;$p=rd&&(!document.documentMode||9<document.documentMode)}function Zp(){co&&(co.detachEvent("onpropertychange",Wp),ho=co=null)}function Wp(t){if(t.propertyName==="value"&&Gu(ho)){var n=[];Yp(n,ho,t,hi(t)),ea(zE,n)}}function UE(t,n,a){t==="focusin"?(Zp(),co=n,ho=a,co.attachEvent("onpropertychange",Wp)):t==="focusout"&&Zp()}function LE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(ho)}function PE(t,n){if(t==="click")return Gu(n)}function BE(t,n){if(t==="input"||t==="change")return Gu(n)}function qE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Xn=typeof Object.is=="function"?Object.is:qE;function fo(t,n){if(Xn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ft.call(n,h)||!Xn(t[h],n[h]))return!1}return!0}function eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tg(t,n){var a=eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=eg(a)}}function ng(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ng(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ne(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ne(t.document)}return n}function od(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var HE=di&&"documentMode"in document&&11>=document.documentMode,Xr=null,ud=null,mo=null,cd=!1;function sg(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||Xr==null||Xr!==ne(l)||(l=Xr,"selectionStart"in l&&od(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),mo&&fo(mo,l)||(mo=l,l=Mc(ud,"onSelect"),0<l.length&&(n=new Ki("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Xr)))}function hr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var $r={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},hd={},ag={};di&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function dr(t){if(hd[t])return hd[t];if(!$r[t])return t;var n=$r[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ag)return hd[t]=n[a];return t}var rg=dr("animationend"),lg=dr("animationiteration"),og=dr("animationstart"),FE=dr("transitionrun"),GE=dr("transitionstart"),KE=dr("transitioncancel"),ug=dr("transitionend"),cg=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function ki(t,n){cg.set(t,n),oi(n,[t])}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mi=[],Jr=0,fd=0;function Qu(){for(var t=Jr,n=fd=Jr=0;n<t;){var a=mi[n];mi[n++]=null;var l=mi[n];mi[n++]=null;var h=mi[n];mi[n++]=null;var d=mi[n];if(mi[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}d!==0&&hg(a,h,d)}}function Yu(t,n,a,l){mi[Jr++]=t,mi[Jr++]=n,mi[Jr++]=a,mi[Jr++]=l,fd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function md(t,n,a,l){return Yu(t,n,a,l),Xu(t)}function fr(t,n){return Yu(t,null,null,n),Xu(t)}function hg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Tt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function Xu(t){if(50<Vo)throw Vo=0,wf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zr={};function QE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,n,a,l){return new QE(t,n,a,l)}function pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gs(t,n){var a=t.alternate;return a===null?(a=$n(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $u(t,n,a,l,h,d){var g=0;if(l=t,typeof t=="function")pd(t)&&(g=1);else if(typeof t=="string")g=ZT(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=$n(31,a,n,h),t.elementType=I,t.lanes=d,t;case re:return mr(a.children,h,d,n);case ie:g=8,h|=24;break;case de:return t=$n(12,a,n,h|2),t.elementType=de,t.lanes=d,t;case dt:return t=$n(13,a,n,h),t.elementType=dt,t.lanes=d,t;case Me:return t=$n(19,a,n,h),t.elementType=Me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:g=10;break e;case _e:g=9;break e;case xe:g=11;break e;case R:g=14;break e;case S:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=$n(g,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function mr(t,n,a,l){return t=$n(7,t,l,n),t.lanes=a,t}function gd(t,n,a){return t=$n(6,t,null,n),t.lanes=a,t}function fg(t){var n=$n(18,null,null,0);return n.stateNode=t,n}function yd(t,n,a){return n=$n(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var mg=new WeakMap;function pi(t,n){if(typeof t=="object"&&t!==null){var a=mg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Fn(n)},mg.set(t,n),n)}return{value:t,source:n,stack:Fn(n)}}var Wr=[],el=0,Ju=null,po=0,gi=[],yi=0,sa=null,$i=1,Ji="";function ys(t,n){Wr[el++]=po,Wr[el++]=Ju,Ju=t,po=n}function pg(t,n,a){gi[yi++]=$i,gi[yi++]=Ji,gi[yi++]=sa,sa=t;var l=$i;t=Ji;var h=32-Tt(l)-1;l&=~(1<<h),a+=1;var d=32-Tt(n)+h;if(30<d){var g=h-h%5;d=(l&(1<<g)-1).toString(32),l>>=g,h-=g,$i=1<<32-Tt(n)+h|a<<h|l,Ji=d+t}else $i=1<<d|a<<h|l,Ji=t}function _d(t){t.return!==null&&(ys(t,1),pg(t,1,0))}function vd(t){for(;t===Ju;)Ju=Wr[--el],Wr[el]=null,po=Wr[--el],Wr[el]=null;for(;t===sa;)sa=gi[--yi],gi[yi]=null,Ji=gi[--yi],gi[yi]=null,$i=gi[--yi],gi[yi]=null}function gg(t,n){gi[yi++]=$i,gi[yi++]=Ji,gi[yi++]=sa,$i=n.id,Ji=n.overflow,sa=t}var rn=null,mt=null,He=!1,aa=null,_i=!1,bd=Error(r(519));function ra(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw go(pi(n,t)),bd}function yg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[xt]=t,n[yt]=l,a){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(a=0;a<Uo.length;a++)Ve(Uo[a],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),ds(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),Js(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Oy(n.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=Ni),n=!0):n=!1,n||ra(t,!0)}function _g(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:rn=rn.return}}function tl(t){if(t!==rn)return!1;if(!He)return _g(t),He=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Lf(t.type,t.memoizedProps)),a=!a),a&&mt&&ra(t),_g(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=Hy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=Hy(t)}else n===27?(n=mt,ba(t.type)?(t=Ff,Ff=null,mt=t):mt=n):mt=rn?bi(t.stateNode.nextSibling):null;return!0}function pr(){mt=rn=null,He=!1}function Ed(){var t=aa;return t!==null&&(jn===null?jn=t:jn.push.apply(jn,t),aa=null),t}function go(t){aa===null?aa=[t]:aa.push(t)}var Td=O(null),gr=null,_s=null;function la(t,n,a){ae(Td,n._currentValue),n._currentValue=a}function vs(t){t._currentValue=Td.current,K(Td)}function xd(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function wd(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var g=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),xd(d.return,a,t),l||(g=null);break e}d=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),xd(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function nl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Xn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ze.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ho):t=[Ho])}h=h.return}t!==null&&wd(n,t,a,l),n.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yr(t){gr=t,_s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return vg(gr,t)}function Wu(t,n){return gr===null&&yr(t),vg(t,n)}function vg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},_s===null){if(t===null)throw Error(r(308));_s=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _s=_s.next=n;return a}var YE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},XE=s.unstable_scheduleCallback,$E=s.unstable_NormalPriority,Ut={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new YE,data:new Map,refCount:0}}function yo(t){t.refCount--,t.refCount===0&&XE($E,function(){t.controller.abort()})}var _o=null,Sd=0,il=0,sl=null;function JE(t,n){if(_o===null){var a=_o=[];Sd=0,il=If(),sl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sd++,n.then(bg,bg),n}function bg(){if(--Sd===0&&_o!==null){sl!==null&&(sl.status="fulfilled");var t=_o;_o=null,il=0,sl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ZE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Eg=F.S;F.S=function(t,n){sy=ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&JE(t,n),Eg!==null&&Eg(t,n)};var _r=O(null);function Nd(){var t=_r.current;return t!==null?t:ct.pooledCache}function ec(t,n){n===null?ae(_r,_r.current):ae(_r,n.pool)}function Tg(){var t=Nd();return t===null?null:{parent:Ut._currentValue,pool:t}}var al=Error(r(460)),Cd=Error(r(474)),tc=Error(r(542)),nc={then:function(){}};function xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ni,Ni),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t;default:if(typeof n.status=="string")n.then(Ni,Ni);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t}throw br=n,al}}function vr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(br=a,al):a}}var br=null;function Ag(){if(br===null)throw Error(r(459));var t=br;return br=null,t}function Sg(t){if(t===al||t===tc)throw Error(r(483))}var rl=null,vo=0;function ic(t){var n=vo;return vo+=1,rl===null&&(rl=[]),wg(rl,t,n)}function bo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function sc(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ng(t){function n(V,k){if(t){var L=V.deletions;L===null?(V.deletions=[k],V.flags|=16):L.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)n(V,k),k=k.sibling;return null}function l(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=gs(V,k),V.index=0,V.sibling=null,V}function d(V,k,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<k?(V.flags|=67108866,k):L):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function g(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,k,L,Y){return k===null||k.tag!==6?(k=gd(L,V.mode,Y),k.return=V,k):(k=h(k,L),k.return=V,k)}function C(V,k,L,Y){var ge=L.type;return ge===re?G(V,k,L.props.children,Y,L.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&vr(ge)===k.type)?(k=h(k,L.props),bo(k,L),k.return=V,k):(k=$u(L.type,L.key,L.props,null,V.mode,Y),bo(k,L),k.return=V,k)}function P(V,k,L,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?(k=yd(L,V.mode,Y),k.return=V,k):(k=h(k,L.children||[]),k.return=V,k)}function G(V,k,L,Y,ge){return k===null||k.tag!==7?(k=mr(L,V.mode,Y,ge),k.return=V,k):(k=h(k,L),k.return=V,k)}function $(V,k,L){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=gd(""+k,V.mode,L),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:return L=$u(k.type,k.key,k.props,null,V.mode,L),bo(L,k),L.return=V,L;case W:return k=yd(k,V.mode,L),k.return=V,k;case S:return k=vr(k),$(V,k,L)}if(Et(k)||z(k))return k=mr(k,V.mode,L,null),k.return=V,k;if(typeof k.then=="function")return $(V,ic(k),L);if(k.$$typeof===Te)return $(V,Wu(V,k),L);sc(V,k)}return null}function B(V,k,L,Y){var ge=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:E(V,k,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ge?C(V,k,L,Y):null;case W:return L.key===ge?P(V,k,L,Y):null;case S:return L=vr(L),B(V,k,L,Y)}if(Et(L)||z(L))return ge!==null?null:G(V,k,L,Y,null);if(typeof L.then=="function")return B(V,k,ic(L),Y);if(L.$$typeof===Te)return B(V,k,Wu(V,L),Y);sc(V,L)}return null}function H(V,k,L,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(L)||null,E(k,V,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return V=V.get(Y.key===null?L:Y.key)||null,C(k,V,Y,ge);case W:return V=V.get(Y.key===null?L:Y.key)||null,P(k,V,Y,ge);case S:return Y=vr(Y),H(V,k,L,Y,ge)}if(Et(Y)||z(Y))return V=V.get(L)||null,G(k,V,Y,ge,null);if(typeof Y.then=="function")return H(V,k,L,ic(Y),ge);if(Y.$$typeof===Te)return H(V,k,L,Wu(k,Y),ge);sc(k,Y)}return null}function he(V,k,L,Y){for(var ge=null,Ye=null,me=k,ke=k=0,Le=null;me!==null&&ke<L.length;ke++){me.index>ke?(Le=me,me=null):Le=me.sibling;var Xe=B(V,me,L[ke],Y);if(Xe===null){me===null&&(me=Le);break}t&&me&&Xe.alternate===null&&n(V,me),k=d(Xe,k,ke),Ye===null?ge=Xe:Ye.sibling=Xe,Ye=Xe,me=Le}if(ke===L.length)return a(V,me),He&&ys(V,ke),ge;if(me===null){for(;ke<L.length;ke++)me=$(V,L[ke],Y),me!==null&&(k=d(me,k,ke),Ye===null?ge=me:Ye.sibling=me,Ye=me);return He&&ys(V,ke),ge}for(me=l(me);ke<L.length;ke++)Le=H(me,V,ke,L[ke],Y),Le!==null&&(t&&Le.alternate!==null&&me.delete(Le.key===null?ke:Le.key),k=d(Le,k,ke),Ye===null?ge=Le:Ye.sibling=Le,Ye=Le);return t&&me.forEach(function(Aa){return n(V,Aa)}),He&&ys(V,ke),ge}function be(V,k,L,Y){if(L==null)throw Error(r(151));for(var ge=null,Ye=null,me=k,ke=k=0,Le=null,Xe=L.next();me!==null&&!Xe.done;ke++,Xe=L.next()){me.index>ke?(Le=me,me=null):Le=me.sibling;var Aa=B(V,me,Xe.value,Y);if(Aa===null){me===null&&(me=Le);break}t&&me&&Aa.alternate===null&&n(V,me),k=d(Aa,k,ke),Ye===null?ge=Aa:Ye.sibling=Aa,Ye=Aa,me=Le}if(Xe.done)return a(V,me),He&&ys(V,ke),ge;if(me===null){for(;!Xe.done;ke++,Xe=L.next())Xe=$(V,Xe.value,Y),Xe!==null&&(k=d(Xe,k,ke),Ye===null?ge=Xe:Ye.sibling=Xe,Ye=Xe);return He&&ys(V,ke),ge}for(me=l(me);!Xe.done;ke++,Xe=L.next())Xe=H(me,V,ke,Xe.value,Y),Xe!==null&&(t&&Xe.alternate!==null&&me.delete(Xe.key===null?ke:Xe.key),k=d(Xe,k,ke),Ye===null?ge=Xe:Ye.sibling=Xe,Ye=Xe);return t&&me.forEach(function(ux){return n(V,ux)}),He&&ys(V,ke),ge}function ot(V,k,L,Y){if(typeof L=="object"&&L!==null&&L.type===re&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:e:{for(var ge=L.key;k!==null;){if(k.key===ge){if(ge=L.type,ge===re){if(k.tag===7){a(V,k.sibling),Y=h(k,L.props.children),Y.return=V,V=Y;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&vr(ge)===k.type){a(V,k.sibling),Y=h(k,L.props),bo(Y,L),Y.return=V,V=Y;break e}a(V,k);break}else n(V,k);k=k.sibling}L.type===re?(Y=mr(L.props.children,V.mode,Y,L.key),Y.return=V,V=Y):(Y=$u(L.type,L.key,L.props,null,V.mode,Y),bo(Y,L),Y.return=V,V=Y)}return g(V);case W:e:{for(ge=L.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===L.containerInfo&&k.stateNode.implementation===L.implementation){a(V,k.sibling),Y=h(k,L.children||[]),Y.return=V,V=Y;break e}else{a(V,k);break}else n(V,k);k=k.sibling}Y=yd(L,V.mode,Y),Y.return=V,V=Y}return g(V);case S:return L=vr(L),ot(V,k,L,Y)}if(Et(L))return he(V,k,L,Y);if(z(L)){if(ge=z(L),typeof ge!="function")throw Error(r(150));return L=ge.call(L),be(V,k,L,Y)}if(typeof L.then=="function")return ot(V,k,ic(L),Y);if(L.$$typeof===Te)return ot(V,k,Wu(V,L),Y);sc(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,k!==null&&k.tag===6?(a(V,k.sibling),Y=h(k,L),Y.return=V,V=Y):(a(V,k),Y=gd(L,V.mode,Y),Y.return=V,V=Y),g(V)):a(V,k)}return function(V,k,L,Y){try{vo=0;var ge=ot(V,k,L,Y);return rl=null,ge}catch(me){if(me===al||me===tc)throw me;var Ye=$n(29,me,null,V.mode);return Ye.lanes=Y,Ye.return=V,Ye}}}var Er=Ng(!0),Cg=Ng(!1),oa=!1;function Rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ca(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Xu(t),hg(t,null,a),n}return Yu(t,l,n,a),Xu(t)}function Eo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,st(t,a)}}function Dd(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var kd=!1;function To(){if(kd){var t=sl;if(t!==null)throw t}}function xo(t,n,a,l){kd=!1;var h=t.updateQueue;oa=!1;var d=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?d=P:g.next=P,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=C))}if(d!==null){var $=h.baseState;g=0,G=P=C=null,E=d;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ue&B)===B:(l&B)===B){B!==0&&B===il&&(kd=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,be=E;B=n;var ot=a;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){$=he.call(ot,$,B);break e}$=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,B=typeof he=="function"?he.call(ot,$,B):he,B==null)break e;$=A({},$,B);break e;case 2:oa=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=H,C=$):G=G.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=$),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),pa|=g,t.lanes=g,t.memoizedState=$}}function Rg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Ig(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Rg(a[t],n)}var ll=O(null),ac=O(0);function Dg(t,n){t=Cs,ae(ac,t),ae(ll,n),Cs=t|n.baseLanes}function Md(){ae(ac,Cs),ae(ll,ll.current)}function Od(){Cs=ac.current,K(ll),K(ac)}var Jn=O(null),vi=null;function ha(t){var n=t.alternate;ae(kt,kt.current&1),ae(Jn,t),vi===null&&(n===null||ll.current!==null||n.memoizedState!==null)&&(vi=t)}function jd(t){ae(kt,kt.current),ae(Jn,t),vi===null&&(vi=t)}function kg(t){t.tag===22?(ae(kt,kt.current),ae(Jn,t),vi===null&&(vi=t)):da()}function da(){ae(kt,kt.current),ae(Jn,Jn.current)}function Zn(t){K(Jn),vi===t&&(vi=null),K(kt)}var kt=O(0);function rc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qf(a)||Hf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bs=0,De=null,rt=null,Lt=null,lc=!1,ol=!1,Tr=!1,oc=0,wo=0,ul=null,WE=0;function Ct(){throw Error(r(321))}function Vd(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Xn(t[a],n[a]))return!1;return!0}function zd(t,n,a,l,h,d){return bs=d,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?p0:Zd,Tr=!1,d=a(l,h),Tr=!1,ol&&(d=Og(n,a,l,h)),Mg(t),d}function Mg(t){F.H=No;var n=rt!==null&&rt.next!==null;if(bs=0,Lt=rt=De=null,lc=!1,wo=0,ul=null,n)throw Error(r(300));t===null||Pt||(t=t.dependencies,t!==null&&Zu(t)&&(Pt=!0))}function Og(t,n,a,l){De=t;var h=0;do{if(ol&&(ul=null),wo=0,ol=!1,25<=h)throw Error(r(301));if(h+=1,Lt=rt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=g0,d=n(a,l)}while(ol);return d}function eT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Ao(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(De.flags|=1024),n}function Ud(){var t=oc!==0;return oc=0,t}function Ld(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Pd(t){if(lc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lc=!1}bs=0,Lt=rt=De=null,ol=!1,wo=oc=0,ul=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?De.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Mt(){if(rt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=Lt===null?De.memoizedState:Lt.next;if(n!==null)Lt=n,rt=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Lt===null?De.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(t){var n=wo;return wo+=1,ul===null&&(ul=[]),t=wg(ul,t,n),n=De,(Lt===null?n.memoizedState:Lt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?p0:Zd),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ao(t);if(t.$$typeof===Te)return ln(t)}throw Error(r(438,String(t)))}function Bd(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=uc(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function Es(t,n){return typeof n=="function"?n(t):n}function hc(t){var n=Mt();return qd(n,rt,t)}function qd(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var g=h.next;h.next=d.next,d.next=g}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=g=null,C=null,P=n,G=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Ue&$)===$:(bs&$)===$){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===il&&(G=!0);else if((bs&B)===B){P=P.next,B===il&&(G=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=$,g=d):C=C.next=$,De.lanes|=B,pa|=B;$=P.action,Tr&&a(d,$),d=P.hasEagerState?P.eagerState:a(d,$)}else B={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=B,g=d):C=C.next=B,De.lanes|=$,pa|=$;P=P.next}while(P!==null&&P!==n);if(C===null?g=d:C.next=E,!Xn(d,t.memoizedState)&&(Pt=!0,G&&(a=sl,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hd(t){var n=Mt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do d=t(d,g.action),g=g.next;while(g!==h);Xn(d,n.memoizedState)||(Pt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function jg(t,n,a){var l=De,h=Mt(),d=He;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Xn((rt||h).memoizedState,a);if(g&&(h.memoizedState=a,Pt=!0),h=h.queue,Kd(Ug.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,cl(9,{destroy:void 0},zg.bind(null,l,h,a,n),null),ct===null)throw Error(r(349));d||(bs&127)!==0||Vg(l,n,a)}return a}function Vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=uc(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function zg(t,n,a,l){n.value=a,n.getSnapshot=l,Lg(n)&&Pg(t)}function Ug(t,n,a){return a(function(){Lg(n)&&Pg(t)})}function Lg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Xn(t,a)}catch{return!0}}function Pg(t){var n=fr(t,2);n!==null&&Vn(n,t,2)}function Fd(t){var n=Cn();if(typeof t=="function"){var a=t;if(t=a(),Tr){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},n}function Bg(t,n,a,l){return t.baseState=a,qd(t,rt,typeof l=="function"?l:Es)}function tT(t,n,a,l,h){if(mc(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,qg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function qg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=F.T,g={};F.T=g;try{var E=a(h,l),C=F.S;C!==null&&C(g,E),Hg(t,n,E)}catch(P){Gd(t,n,P)}finally{d!==null&&g.types!==null&&(d.types=g.types),F.T=d}}else try{d=a(h,l),Hg(t,n,d)}catch(P){Gd(t,n,P)}}function Hg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fg(t,n,l)},function(l){return Gd(t,n,l)}):Fg(t,n,a)}function Fg(t,n,a){n.status="fulfilled",n.value=a,Gg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,qg(t,a)))}function Gd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Gg(n),n=n.next;while(n!==l)}t.action=null}function Gg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Kg(t,n){return n}function Qg(t,n){if(He){var a=ct.formState;if(a!==null){e:{var l=De;if(He){if(mt){t:{for(var h=mt,d=_i;h.nodeType!==8;){if(!d){h=null;break t}if(h=bi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){mt=bi(h.nextSibling),l=h.data==="F!";break e}}ra(l)}l=!1}l&&(n=a[0])}}return a=Cn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:n},a.queue=l,a=d0.bind(null,De,l),l.dispatch=a,l=Fd(!1),d=Jd.bind(null,De,!1,l.queue),l=Cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=tT.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Yg(t){var n=Mt();return Xg(n,rt,t)}function Xg(t,n,a){if(n=qd(t,n,Kg)[0],t=hc(Es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ao(n)}catch(g){throw g===al?tc:g}else l=n;n=Mt();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,cl(9,{destroy:void 0},nT.bind(null,h,a),null)),[l,d,t]}function nT(t,n){t.action=n}function $g(t){var n=Mt(),a=rt;if(a!==null)return Xg(n,a,t);Mt(),n=n.memoizedState,a=Mt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function cl(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=De.updateQueue,n===null&&(n=uc(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Jg(){return Mt().memoizedState}function dc(t,n,a,l){var h=Cn();De.flags|=t,h.memoizedState=cl(1|n,{destroy:void 0},a,l===void 0?null:l)}function fc(t,n,a,l){var h=Mt();l=l===void 0?null:l;var d=h.memoizedState.inst;rt!==null&&l!==null&&Vd(l,rt.memoizedState.deps)?h.memoizedState=cl(n,d,a,l):(De.flags|=t,h.memoizedState=cl(1|n,d,a,l))}function Zg(t,n){dc(8390656,8,t,n)}function Kd(t,n){fc(2048,8,t,n)}function iT(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=uc(),De.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Wg(t){var n=Mt().memoizedState;return iT({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function e0(t,n){return fc(4,2,t,n)}function t0(t,n){return fc(4,4,t,n)}function n0(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function i0(t,n,a){a=a!=null?a.concat([t]):null,fc(4,4,n0.bind(null,n,t),a)}function Qd(){}function s0(t,n){var a=Mt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Vd(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function a0(t,n){var a=Mt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Vd(n,l[1]))return l[0];if(l=t(),Tr){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function Yd(t,n,a){return a===void 0||(bs&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=ry(),De.lanes|=t,pa|=t,a)}function r0(t,n,a,l){return Xn(a,n)?a:ll.current!==null?(t=Yd(t,a,l),Xn(t,n)||(Pt=!0),t):(bs&42)===0||(bs&1073741824)!==0&&(Ue&261930)===0?(Pt=!0,t.memoizedState=a):(t=ry(),De.lanes|=t,pa|=t,n)}function l0(t,n,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var g=F.T,E={};F.T=E,Jd(t,!1,n,a);try{var C=h(),P=F.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=ZE(C,l);So(t,n,G,ti(t))}else So(t,n,l,ti(t))}catch($){So(t,n,{then:function(){},status:"rejected",reason:$},ti())}finally{se.p=d,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function sT(){}function Xd(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=o0(t).queue;l0(t,h,n,pe,a===null?sT:function(){return u0(t),a(l)})}function o0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:pe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function u0(t){var n=o0(t);n.next===null&&(n=t.alternate.memoizedState),So(t,n.next.queue,{},ti())}function $d(){return ln(Ho)}function c0(){return Mt().memoizedState}function h0(){return Mt().memoizedState}function aT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=ti();t=ua(a);var l=ca(n,t,a);l!==null&&(Vn(l,n,a),Eo(l,n,a)),n={cache:Ad()},t.payload=n;return}n=n.return}}function rT(t,n,a){var l=ti();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?f0(n,a):(a=md(t,n,a,l),a!==null&&(Vn(a,t,l),m0(a,n,l)))}function d0(t,n,a){var l=ti();So(t,n,a,l)}function So(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))f0(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,E=d(g,a);if(h.hasEagerState=!0,h.eagerState=E,Xn(E,g))return Yu(t,n,h,0),ct===null&&Qu(),!1}catch{}if(a=md(t,n,h,l),a!==null)return Vn(a,t,l),m0(a,n,l),!0}return!1}function Jd(t,n,a,l){if(l={lane:2,revertLane:If(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(n)throw Error(r(479))}else n=md(t,a,l,2),n!==null&&Vn(n,t,2)}function mc(t){var n=t.alternate;return t===De||n!==null&&n===De}function f0(t,n){ol=lc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function m0(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,st(t,a)}}var No={readContext:ln,use:cc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};No.useEffectEvent=Ct;var p0={readContext:ln,use:cc,useCallback:function(t,n){return Cn().memoizedState=[t,n===void 0?null:n],t},useContext:ln,useEffect:Zg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,dc(4194308,4,n0.bind(null,n,t),a)},useLayoutEffect:function(t,n){return dc(4194308,4,t,n)},useInsertionEffect:function(t,n){dc(4,2,t,n)},useMemo:function(t,n){var a=Cn();n=n===void 0?null:n;var l=t();if(Tr){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Cn();if(a!==void 0){var h=a(n);if(Tr){En(!0);try{a(n)}finally{En(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=rT.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var n=Cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Fd(t);var n=t.queue,a=d0.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Qd,useDeferredValue:function(t,n){var a=Cn();return Yd(a,t,n)},useTransition:function(){var t=Fd(!1);return t=l0.bind(null,De,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=De,h=Cn();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ct===null)throw Error(r(349));(Ue&127)!==0||Vg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Zg(Ug.bind(null,l,d,t),[t]),l.flags|=2048,cl(9,{destroy:void 0},zg.bind(null,l,d,a,n),null),a},useId:function(){var t=Cn(),n=ct.identifierPrefix;if(He){var a=Ji,l=$i;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=oc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=WE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:$d,useFormState:Qg,useActionState:Qg,useOptimistic:function(t){var n=Cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Jd.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:Bd,useCacheRefresh:function(){return Cn().memoizedState=aT.bind(null,De)},useEffectEvent:function(t){var n=Cn(),a={impl:t};return n.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Zd={readContext:ln,use:cc,useCallback:s0,useContext:ln,useEffect:Kd,useImperativeHandle:i0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:a0,useReducer:hc,useRef:Jg,useState:function(){return hc(Es)},useDebugValue:Qd,useDeferredValue:function(t,n){var a=Mt();return r0(a,rt.memoizedState,t,n)},useTransition:function(){var t=hc(Es)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:Ao(t),n]},useSyncExternalStore:jg,useId:c0,useHostTransitionStatus:$d,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,n){var a=Mt();return Bg(a,rt,t,n)},useMemoCache:Bd,useCacheRefresh:h0};Zd.useEffectEvent=Wg;var g0={readContext:ln,use:cc,useCallback:s0,useContext:ln,useEffect:Kd,useImperativeHandle:i0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:a0,useReducer:Hd,useRef:Jg,useState:function(){return Hd(Es)},useDebugValue:Qd,useDeferredValue:function(t,n){var a=Mt();return rt===null?Yd(a,t,n):r0(a,rt.memoizedState,t,n)},useTransition:function(){var t=Hd(Es)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:Ao(t),n]},useSyncExternalStore:jg,useId:c0,useHostTransitionStatus:$d,useFormState:$g,useActionState:$g,useOptimistic:function(t,n){var a=Mt();return rt!==null?Bg(a,rt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:h0};g0.useEffectEvent=Wg;function Wd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ef={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=ti(),h=ua(l);h.payload=n,a!=null&&(h.callback=a),n=ca(t,h,l),n!==null&&(Vn(n,t,l),Eo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=ti(),h=ua(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ca(t,h,l),n!==null&&(Vn(n,t,l),Eo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=ti(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=ca(t,l,a),n!==null&&(Vn(n,t,a),Eo(n,t,a))}};function y0(t,n,a,l,h,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!fo(a,l)||!fo(h,d):!0}function _0(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&ef.enqueueReplaceState(n,n.state,null)}function xr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function v0(t){Ku(t)}function b0(t){console.error(t)}function E0(t){Ku(t)}function pc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function T0(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function tf(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,n)},a}function x0(t){return t=ua(t),t.tag=3,t}function w0(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){T0(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){T0(n,a,l),typeof h!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function lT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&nl(n,a,h,!0),a=Jn.current,a!==null){switch(a.tag){case 31:case 13:return vi===null?Nc():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Nf(t,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Nf(t,l,h)),!1}throw Error(r(435,a.tag))}return Nf(t,l,h),Nc(),!1}if(He)return n=Jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==bd&&(t=Error(r(422),{cause:l}),go(pi(t,a)))):(l!==bd&&(n=Error(r(423),{cause:l}),go(pi(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=pi(l,a),h=tf(t.stateNode,l,h),Dd(t,h),Rt!==4&&(Rt=2)),!1;var d=Error(r(520),{cause:l});if(d=pi(d,a),jo===null?jo=[d]:jo.push(d),Rt!==4&&(Rt=2),n===null)return!0;l=pi(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=tf(a.stateNode,l,t),Dd(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ga===null||!ga.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=x0(h),w0(h,t,a,l),Dd(a,h),!1}a=a.return}while(a!==null);return!1}var nf=Error(r(461)),Pt=!1;function on(t,n,a,l){n.child=t===null?Cg(n,null,a,l):Er(n,t.child,a,l)}function A0(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return yr(n),l=zd(t,n,a,g,d,h),E=Ud(),t!==null&&!Pt?(Ld(t,n,h),Ts(t,n,h)):(He&&E&&_d(n),n.flags|=1,on(t,n,l,h),n.child)}function S0(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!pd(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,N0(t,n,d,l,h)):(t=$u(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!hf(t,h)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:fo,a(g,l)&&t.ref===n.ref)return Ts(t,n,h)}return n.flags|=1,t=gs(d,l),t.ref=n.ref,t.return=n,n.child=t}function N0(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(fo(d,l)&&t.ref===n.ref)if(Pt=!1,n.pendingProps=l=d,hf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return n.lanes=t.lanes,Ts(t,n,h)}return sf(t,n,a,l,h)}function C0(t,n,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return R0(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(n,d!==null?d.cachePool:null),d!==null?Dg(n,d):Md(),kg(n);else return l=n.lanes=536870912,R0(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ec(n,d.cachePool),Dg(n,d),da(),n.memoizedState=null):(t!==null&&ec(n,null),Md(),da());return on(t,n,h,a),n.child}function Co(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function R0(t,n,a,l,h){var d=Nd();return d=d===null?null:{parent:Ut._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&ec(n,null),Md(),kg(n),t!==null&&nl(t,n,l,!0),n.childLanes=h,null}function gc(t,n){return n=_c({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function I0(t,n,a){return Er(n,t.child,null,a),t=gc(n,n.pendingProps),t.flags|=2,Zn(n),n.memoizedState=null,t}function oT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=gc(n,l),n.lanes=536870912,Co(null,t);if(jd(n),(t=mt)?(t=qy(t,_i),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:$i,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},a=fg(t),a.return=n,n.child=a,rn=n,mt=null)):t=null,t===null)throw ra(n);return n.lanes=536870912,null}return gc(n,l)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(jd(n),h)if(n.flags&256)n.flags&=-257,n=I0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Pt||nl(t,n,a,!1),h=(a&t.childLanes)!==0,Pt||h){if(l=ct,l!==null&&(g=Ja(l,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,fr(t,g),Vn(l,t,g),nf;Nc(),n=I0(t,n,a)}else t=d.treeContext,mt=bi(g.nextSibling),rn=n,He=!0,aa=null,_i=!1,t!==null&&gg(n,t),n=gc(n,l),n.flags|=4096;return n}return t=gs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function yc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function sf(t,n,a,l,h){return yr(n),a=zd(t,n,a,l,void 0,h),l=Ud(),t!==null&&!Pt?(Ld(t,n,h),Ts(t,n,h)):(He&&l&&_d(n),n.flags|=1,on(t,n,a,h),n.child)}function D0(t,n,a,l,h,d){return yr(n),n.updateQueue=null,a=Og(n,l,a,h),Mg(t),l=Ud(),t!==null&&!Pt?(Ld(t,n,d),Ts(t,n,d)):(He&&l&&_d(n),n.flags|=1,on(t,n,a,d),n.child)}function k0(t,n,a,l,h){if(yr(n),n.stateNode===null){var d=Zr,g=a.contextType;typeof g=="object"&&g!==null&&(d=ln(g)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ef,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Rd(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?ln(g):Zr,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Wd(n,a,g,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&ef.enqueueReplaceState(d,d.state,null),xo(n,l,d,h),To(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,C=xr(a,E);d.props=C;var P=d.context,G=a.contextType;g=Zr,typeof G=="object"&&G!==null&&(g=ln(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||P!==g)&&_0(n,d,l,g),oa=!1;var B=n.memoizedState;d.state=B,xo(n,l,d,h),To(),P=n.memoizedState,E||B!==P||oa?(typeof $=="function"&&(Wd(n,a,$,l),P=n.memoizedState),(C=oa||y0(n,a,C,l,B,P,g))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),d.props=l,d.state=P,d.context=g,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Id(t,n),g=n.memoizedProps,G=xr(a,g),d.props=G,$=n.pendingProps,B=d.context,P=a.contextType,C=Zr,typeof P=="object"&&P!==null&&(C=ln(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==$||B!==C)&&_0(n,d,l,C),oa=!1,B=n.memoizedState,d.state=B,xo(n,l,d,h),To();var H=n.memoizedState;g!==$||B!==H||oa||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof E=="function"&&(Wd(n,a,E,l),H=n.memoizedState),(G=oa||y0(n,a,G,l,B,H,C)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,yc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Er(n,t.child,null,h),n.child=Er(n,null,a,h)):on(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Ts(t,n,h),t}function M0(t,n,a,l){return pr(),n.flags|=256,on(t,n,a,l),n.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(t){return{baseLanes:t,cachePool:Tg()}}function lf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=ei),t}function O0(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?ha(n):da(),(t=mt)?(t=qy(t,_i),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:$i,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},a=fg(t),a.return=n,n.child=a,rn=n,mt=null)):t=null,t===null)throw ra(n);return Hf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(da(),h=n.mode,E=_c({mode:"hidden",children:E},h),l=mr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=rf(a),l.childLanes=lf(t,g,a),n.memoizedState=af,Co(null,l)):(ha(n),of(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)n.flags&256?(ha(n),n.flags&=-257,n=uf(t,n,a)):n.memoizedState!==null?(da(),n.child=t.child,n.flags|=128,n=null):(da(),E=l.fallback,h=n.mode,l=_c({mode:"visible",children:l.children},h),E=mr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Er(n,t.child,null,a),l=n.child,l.memoizedState=rf(a),l.childLanes=lf(t,g,a),n.memoizedState=af,n=Co(null,l));else if(ha(n),Hf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(r(419)),l.stack="",l.digest=g,go({value:l,source:null,stack:null}),n=uf(t,n,a)}else if(Pt||nl(t,n,a,!1),g=(a&t.childLanes)!==0,Pt||g){if(g=ct,g!==null&&(l=Ja(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,fr(t,l),Vn(g,t,l),nf;qf(E)||Nc(),n=uf(t,n,a)}else qf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,mt=bi(E.nextSibling),rn=n,He=!0,aa=null,_i=!1,t!==null&&gg(n,t),n=of(n,l.children),n.flags|=4096);return n}return h?(da(),E=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=gs(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=gs(P,E):(E=mr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Co(null,l),l=n.child,E=t.child.memoizedState,E===null?E=rf(a):(h=E.cachePool,h!==null?(C=Ut._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Tg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=lf(t,g,a),n.memoizedState=af,Co(t.child,l)):(ha(n),a=t.child,t=a.sibling,a=gs(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function of(t,n){return n=_c({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function _c(t,n){return t=$n(22,t,null,n),t.lanes=0,t}function uf(t,n,a){return Er(n,t.child,null,a),t=of(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function j0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xd(t.return,n,a)}function cf(t,n,a,l,h,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=d)}function V0(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var g=kt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ae(kt,g),on(t,n,l,a),l=He?po:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j0(t,a,n);else if(t.tag===19)j0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),cf(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cf(n,!0,a,null,d,l);break;case"together":cf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ts(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),pa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(nl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=gs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=gs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function uT(t,n,a){switch(n.tag){case 3:Qe(n,n.stateNode.containerInfo),la(n,Ut,t.memoizedState.cache),pr();break;case 27:case 5:Hs(n);break;case 4:Qe(n,n.stateNode.containerInfo);break;case 10:la(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,jd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?O0(t,n,a):(ha(n),t=Ts(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(nl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return V0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(kt,kt.current),l)break;return null;case 22:return n.lanes=0,C0(t,n,a,n.pendingProps);case 24:la(n,Ut,t.memoizedState.cache)}return Ts(t,n,a)}function z0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Pt=!0;else{if(!hf(t,a)&&(n.flags&128)===0)return Pt=!1,uT(t,n,a);Pt=(t.flags&131072)!==0}else Pt=!1,He&&(n.flags&1048576)!==0&&pg(n,po,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=vr(n.elementType),n.type=t,typeof t=="function")pd(t)?(l=xr(t,l),n.tag=1,n=k0(null,n,t,l,a)):(n.tag=0,n=sf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===xe){n.tag=11,n=A0(null,n,t,l,a);break e}else if(h===R){n.tag=14,n=S0(null,n,t,l,a);break e}}throw n=$e(t)||t,Error(r(306,n,""))}}return n;case 0:return sf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=xr(l,n.pendingProps),k0(t,n,l,h,a);case 3:e:{if(Qe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Id(t,n),xo(n,l,null,a);var g=n.memoizedState;if(l=g.cache,la(n,Ut,l),l!==d.cache&&wd(n,[Ut],a,!0),To(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=M0(t,n,l,a);break e}else if(l!==h){h=pi(Error(r(424)),n),go(h),n=M0(t,n,l,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,mt=bi(t.firstChild),rn=n,He=!0,aa=null,_i=!0,a=Cg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(pr(),l===h){n=Ts(t,n,a);break e}on(t,n,l,a)}n=n.child}return n;case 26:return yc(t,n),t===null?(a=Yy(n.type,null,n.pendingProps,null))?n.memoizedState=a:He||(a=n.type,t=n.pendingProps,l=Oc(we.current).createElement(a),l[xt]=n,l[yt]=t,un(l,a,t),St(l),n.stateNode=l):n.memoizedState=Yy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hs(n),t===null&&He&&(l=n.stateNode=Gy(n.type,n.pendingProps,we.current),rn=n,_i=!0,h=mt,ba(n.type)?(Ff=h,mt=bi(l.firstChild)):mt=h),on(t,n,n.pendingProps.children,a),yc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=mt)&&(l=LT(l,n.type,n.pendingProps,_i),l!==null?(n.stateNode=l,rn=n,mt=bi(l.firstChild),_i=!1,h=!0):h=!1),h||ra(n)),Hs(n),h=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,Lf(h,d)?l=null:g!==null&&Lf(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=zd(t,n,eT,null,null,a),Ho._currentValue=h),yc(t,n),on(t,n,l,a),n.child;case 6:return t===null&&He&&((t=a=mt)&&(a=PT(a,n.pendingProps,_i),a!==null?(n.stateNode=a,rn=n,mt=null,t=!0):t=!1),t||ra(n)),null;case 13:return O0(t,n,a);case 4:return Qe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Er(n,null,l,a):on(t,n,l,a),n.child;case 11:return A0(t,n,n.type,n.pendingProps,a);case 7:return on(t,n,n.pendingProps,a),n.child;case 8:return on(t,n,n.pendingProps.children,a),n.child;case 12:return on(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,la(n,n.type,l.value),on(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,yr(n),h=ln(h),l=l(h),n.flags|=1,on(t,n,l,a),n.child;case 14:return S0(t,n,n.type,n.pendingProps,a);case 15:return N0(t,n,n.type,n.pendingProps,a);case 19:return V0(t,n,a);case 31:return oT(t,n,a);case 22:return C0(t,n,a,n.pendingProps);case 24:return yr(n),l=ln(Ut),t===null?(h=Nd(),h===null&&(h=ct,d=Ad(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Rd(n),la(n,Ut,h)):((t.lanes&a)!==0&&(Id(t,n),xo(n,null,null,a),To()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),la(n,Ut,l)):(l=d.cache,la(n,Ut,l),l!==h.cache&&wd(n,[Ut],a,!0))),on(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function xs(t){t.flags|=4}function df(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(cy())t.flags|=8192;else throw br=nc,Cd}else t.flags&=-16777217}function U0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wy(n))if(cy())t.flags|=8192;else throw br=nc,Cd}function vc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bi():536870912,t.lanes|=n,ml|=n)}function Ro(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function cT(t,n,a){var l=n.pendingProps;switch(vd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vs(Ut),Je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?xs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ed())),pt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(xs(n),d!==null?(pt(n),U0(n,d)):(pt(n),df(n,h,null,l,a))):d?d!==t.memoizedState?(xs(n),pt(n),U0(n,d)):(pt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xs(n),pt(n),df(n,h,t,l,a)),null;case 27:if(Qa(n),a=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return pt(n),null}t=le.current,tl(n)?yg(n):(t=Gy(h,l,a),n.stateNode=t,xs(n))}return pt(n),null;case 5:if(Qa(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return pt(n),null}if(d=le.current,tl(n))yg(n);else{var g=Oc(we.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}d[xt]=n,d[yt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=d;e:switch(un(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xs(n)}}return pt(n),df(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=we.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Oy(t.nodeValue,a)),t||ra(n,!0)}else t=Oc(t).createTextNode(l),t[xt]=n,n.stateNode=t}return pt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=tl(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),t=!1}else a=Ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Zn(n),n):(Zn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return pt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[xt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),h=!1}else h=Ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Zn(n),n):(Zn(n),null)}return Zn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),vc(n,n.updateQueue),pt(n),null);case 4:return Je(),t===null&&Of(n.stateNode.containerInfo),pt(n),null;case 10:return vs(n.type),pt(n),null;case 19:if(K(kt),l=n.memoizedState,l===null)return pt(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Ro(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=rc(t),d!==null){for(n.flags|=128,Ro(l,!1),t=d.updateQueue,n.updateQueue=t,vc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)dg(a,t),a=a.sibling;return ae(kt,kt.current&1|2),He&&ys(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ut()>wc&&(n.flags|=128,h=!0,Ro(l,!1),n.lanes=4194304)}else{if(!h)if(t=rc(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,vc(n,t),Ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!He)return pt(n),null}else 2*ut()-l.renderingStartTime>wc&&a!==536870912&&(n.flags|=128,h=!0,Ro(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ut(),t.sibling=null,a=kt.current,ae(kt,h?a&1|2:a&1),He&&ys(n,l.treeForkCount),t):(pt(n),null);case 22:case 23:return Zn(n),Od(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),a=n.updateQueue,a!==null&&vc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(_r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),vs(Ut),pt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function hT(t,n){switch(vd(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vs(Ut),Je(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qa(n),null;case 31:if(n.memoizedState!==null){if(Zn(n),n.alternate===null)throw Error(r(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(kt),null;case 4:return Je(),null;case 10:return vs(n.type),null;case 22:case 23:return Zn(n),Od(),t!==null&&K(_r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vs(Ut),null;case 25:return null;default:return null}}function L0(t,n){switch(vd(n),n.tag){case 3:vs(Ut),Je();break;case 26:case 27:case 5:Qa(n);break;case 4:Je();break;case 31:n.memoizedState!==null&&Zn(n);break;case 13:Zn(n);break;case 19:K(kt);break;case 10:vs(n.type);break;case 22:case 23:Zn(n),Od(),t!==null&&K(_r);break;case 24:vs(Ut)}}function Io(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){it(n,n.return,E)}}function fa(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,P=E;try{P()}catch(G){it(h,C,G)}}}l=l.next}while(l!==d)}}catch(G){it(n,n.return,G)}}function P0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ig(n,a)}catch(l){it(t,t.return,l)}}}function B0(t,n,a){a.props=xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,n,l)}}function Do(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,n,h)}}function Zi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,n,h)}else a.current=null}function q0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function ff(t,n,a){try{var l=t.stateNode;MT(l,t.type,a,n),l[yt]=n}catch(h){it(t,t.return,h)}}function H0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ba(t.type)||t.tag===4}function mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ni));else if(l!==4&&(l===27&&ba(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(pf(t,n,a),t=t.sibling;t!==null;)pf(t,n,a),t=t.sibling}function bc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ba(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bc(t,n,a),t=t.sibling;t!==null;)bc(t,n,a),t=t.sibling}function F0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);un(n,l,a),n[xt]=t,n[yt]=a}catch(d){it(t,t.return,d)}}var ws=!1,Bt=!1,gf=!1,G0=typeof WeakSet=="function"?WeakSet:Set,en=null;function dT(t,n){if(t=t.containerInfo,zf=Bc,t=ig(t),od(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,E=-1,C=-1,P=0,G=0,$=t,B=null;t:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==d||l!==0&&$.nodeType!==3||(C=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===t)break t;if(B===a&&++P===h&&(E=g),B===d&&++G===l&&(C=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uf={focusedElem:t,selectionRange:a},Bc=!1,en=n;en!==null;)if(n=en,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,en=t;else for(;en!==null;){switch(n=en,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=xr(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){it(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Bf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,en=t;break}en=n.return}}function K0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(t,a),l&4&&Io(5,a);break;case 1:if(Ss(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){it(a,a.return,g)}else{var h=xr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){it(a,a.return,g)}}l&64&&P0(a),l&512&&Do(a,a.return);break;case 3:if(Ss(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ig(t,n)}catch(g){it(a,a.return,g)}}break;case 27:n===null&&l&4&&F0(a);case 26:case 5:Ss(t,a),n===null&&l&4&&q0(a),l&512&&Do(a,a.return);break;case 12:Ss(t,a);break;case 31:Ss(t,a),l&4&&X0(t,a);break;case 13:Ss(t,a),l&4&&$0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ET.bind(null,a),BT(t,a))));break;case 22:if(l=a.memoizedState!==null||ws,!l){n=n!==null&&n.memoizedState!==null||Bt,h=ws;var d=Bt;ws=l,(Bt=n)&&!d?Ns(t,a,(a.subtreeFlags&8772)!==0):Ss(t,a),ws=h,Bt=d}break;case 30:break;default:Ss(t,a)}}function Q0(t){var n=t.alternate;n!==null&&(t.alternate=null,Q0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ys(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,kn=!1;function As(t,n,a){for(a=a.child;a!==null;)Y0(t,n,a),a=a.sibling}function Y0(t,n,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(mn,a)}catch{}switch(a.tag){case 26:Bt||Zi(a,n),As(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Zi(a,n);var l=vt,h=kn;ba(a.type)&&(vt=a.stateNode,kn=!1),As(t,n,a),Po(a.stateNode),vt=l,kn=h;break;case 5:Bt||Zi(a,n);case 6:if(l=vt,h=kn,vt=null,As(t,n,a),vt=l,kn=h,vt!==null)if(kn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(d){it(a,n,d)}else try{vt.removeChild(a.stateNode)}catch(d){it(a,n,d)}break;case 18:vt!==null&&(kn?(t=vt,Py(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tl(t)):Py(vt,a.stateNode));break;case 4:l=vt,h=kn,vt=a.stateNode.containerInfo,kn=!0,As(t,n,a),vt=l,kn=h;break;case 0:case 11:case 14:case 15:fa(2,a,n),Bt||fa(4,a,n),As(t,n,a);break;case 1:Bt||(Zi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&B0(a,n,l)),As(t,n,a);break;case 21:As(t,n,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,As(t,n,a),Bt=l;break;default:As(t,n,a)}}function X0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tl(t)}catch(a){it(n,n.return,a)}}}function $0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(a){it(n,n.return,a)}}function fT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new G0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new G0),n;default:throw Error(r(435,t.tag))}}function Ec(t,n){var a=fT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=TT.bind(null,t,l);l.then(h,h)}})}function Mn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(ba(E.type)){vt=E.stateNode,kn=!1;break e}break;case 5:vt=E.stateNode,kn=!1;break e;case 3:case 4:vt=E.stateNode.containerInfo,kn=!0;break e}E=E.return}if(vt===null)throw Error(r(160));Y0(d,g,h),vt=null,kn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)J0(n,t),n=n.sibling}var Mi=null;function J0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),On(t),l&4&&(fa(3,t,t.return),Io(3,t),fa(5,t,t.return));break;case 1:Mn(n,t),On(t),l&512&&(Bt||a===null||Zi(a,a.return)),l&64&&ws&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Mi;if(Mn(n,t),On(t),l&512&&(Bt||a===null||Zi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xn]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),un(d,l,a),d[xt]=t,St(d),l=d;break e;case"link":var g=Jy("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(d=g[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}d=h.createElement(l),un(d,l,a),h.head.appendChild(d);break;case"meta":if(g=Jy("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(d=g[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}d=h.createElement(l),un(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[xt]=t,St(d),l=d}t.stateNode=l}else Zy(h,t.type,t.stateNode);else t.stateNode=$y(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Zy(h,t.type,t.stateNode):$y(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ff(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mn(n,t),On(t),l&512&&(Bt||a===null||Zi(a,a.return)),a!==null&&l&4&&ff(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mn(n,t),On(t),l&512&&(Bt||a===null||Zi(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(he){it(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ff(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gf=!0);break;case 6:if(Mn(n,t),On(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){it(t,t.return,he)}}break;case 3:if(zc=null,h=Mi,Mi=jc(n.containerInfo),Mn(n,t),Mi=h,On(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(n.containerInfo)}catch(he){it(t,t.return,he)}gf&&(gf=!1,Z0(t));break;case 4:l=Mi,Mi=jc(t.stateNode.containerInfo),Mn(n,t),On(t),Mi=l;break;case 12:Mn(n,t),On(t);break;case 31:Mn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 13:Mn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=ut()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=ws,G=Bt;if(ws=P||h,Bt=G||C,Mn(n,t),Bt=G,ws=P,On(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ws||Bt||wr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,h)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){it(C,C.return,he)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){it(C,C.return,he)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?By(H,!0):By(C.stateNode,!1)}catch(he){it(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(t,a))));break;case 19:Mn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 30:break;case 21:break;default:Mn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(H0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=mf(t);bc(t,d,h);break;case 5:var g=a.stateNode;a.flags&32&&(Dn(g,""),a.flags&=-33);var E=mf(t);bc(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,P=mf(t);pf(t,P,C);break;default:throw Error(r(161))}}catch(G){it(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Z0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Z0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ss(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)K0(t,n.alternate,n),n=n.sibling}function wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fa(4,n,n.return),wr(n);break;case 1:Zi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&B0(n,n.return,a),wr(n);break;case 27:Po(n.stateNode);case 26:case 5:Zi(n,n.return),wr(n);break;case 22:n.memoizedState===null&&wr(n);break;case 30:wr(n);break;default:wr(n)}t=t.sibling}}function Ns(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:Ns(h,d,a),Io(4,d);break;case 1:if(Ns(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){it(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Rg(C[h],E)}catch(P){it(l,l.return,P)}}a&&g&64&&P0(d),Do(d,d.return);break;case 27:F0(d);case 26:case 5:Ns(h,d,a),a&&l===null&&g&4&&q0(d),Do(d,d.return);break;case 12:Ns(h,d,a);break;case 31:Ns(h,d,a),a&&g&4&&X0(h,d);break;case 13:Ns(h,d,a),a&&g&4&&$0(h,d);break;case 22:d.memoizedState===null&&Ns(h,d,a),Do(d,d.return);break;case 30:break;default:Ns(h,d,a)}n=n.sibling}}function yf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yo(a))}function _f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yo(t))}function Oi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)W0(t,n,a,l),n=n.sibling}function W0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Oi(t,n,a,l),h&2048&&Io(9,n);break;case 1:Oi(t,n,a,l);break;case 3:Oi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yo(t)));break;case 12:if(h&2048){Oi(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,E=d.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){it(n,n.return,C)}}else Oi(t,n,a,l);break;case 31:Oi(t,n,a,l);break;case 13:Oi(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,g=n.alternate,n.memoizedState!==null?d._visibility&2?Oi(t,n,a,l):ko(t,n):d._visibility&2?Oi(t,n,a,l):(d._visibility|=2,hl(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&yf(g,n);break;case 24:Oi(t,n,a,l),h&2048&&_f(n.alternate,n);break;default:Oi(t,n,a,l)}}function hl(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,g=n,E=a,C=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:hl(d,g,E,C,h),Io(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?hl(d,g,E,C,h):ko(d,g):(G._visibility|=2,hl(d,g,E,C,h)),h&&P&2048&&yf(g.alternate,g);break;case 24:hl(d,g,E,C,h),h&&P&2048&&_f(g.alternate,g);break;default:hl(d,g,E,C,h)}n=n.sibling}}function ko(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:ko(a,l),h&2048&&yf(l.alternate,l);break;case 24:ko(a,l),h&2048&&_f(l.alternate,l);break;default:ko(a,l)}n=n.sibling}}var Mo=8192;function dl(t,n,a){if(t.subtreeFlags&Mo)for(t=t.child;t!==null;)ey(t,n,a),t=t.sibling}function ey(t,n,a){switch(t.tag){case 26:dl(t,n,a),t.flags&Mo&&t.memoizedState!==null&&WT(a,Mi,t.memoizedState,t.memoizedProps);break;case 5:dl(t,n,a);break;case 3:case 4:var l=Mi;Mi=jc(t.stateNode.containerInfo),dl(t,n,a),Mi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Mo,Mo=16777216,dl(t,n,a),Mo=l):dl(t,n,a));break;default:dl(t,n,a)}}function ty(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];en=l,iy(l,t)}ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ny(t),t=t.sibling}function ny(t){switch(t.tag){case 0:case 11:case 15:Oo(t),t.flags&2048&&fa(9,t,t.return);break;case 3:Oo(t);break;case 12:Oo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Tc(t)):Oo(t);break;default:Oo(t)}}function Tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];en=l,iy(l,t)}ty(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fa(8,n,n.return),Tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(n));break;default:Tc(n)}t=t.sibling}}function iy(t,n){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:fa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else e:for(a=t;en!==null;){l=en;var h=l.sibling,d=l.return;if(Q0(l),l===a){en=null;break e}if(h!==null){h.return=d,en=h;break e}en=d}}}var mT={getCacheForType:function(t){var n=ln(Ut),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ln(Ut).controller.signal}},pT=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,je=null,Ue=0,nt=0,Wn=null,ma=!1,fl=!1,vf=!1,Cs=0,Rt=0,pa=0,Ar=0,bf=0,ei=0,ml=0,jo=null,jn=null,Ef=!1,xc=0,sy=0,wc=1/0,Ac=null,ga=null,Qt=0,ya=null,pl=null,Rs=0,Tf=0,xf=null,ay=null,Vo=0,wf=null;function ti(){return(We&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?If():Ur()}function ry(){if(ei===0)if((Ue&536870912)===0||He){var t=In;In<<=1,(In&3932160)===0&&(In=262144),ei=t}else ei=536870912;return t=Jn.current,t!==null&&(t.flags|=32),ei}function Vn(t,n,a){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(gl(t,0),_a(t,Ue,ei,!1)),Ks(t,a),((We&2)===0||t!==ct)&&(t===ct&&((We&2)===0&&(Ar|=a),Rt===4&&_a(t,Ue,ei,!1)),Wi(t))}function ly(t,n,a){if((We&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Zt(t,n),h=l?_T(t,n):Sf(t,n,!0),d=l;do{if(h===0){fl&&!l&&_a(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!gT(a)){h=Sf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=jo;var C=E.current.memoizedState.isDehydrated;if(C&&(gl(E,g).flags|=256),g=Sf(E,g,!1),g!==2){if(vf&&!C){E.errorRecoveryDisabledLanes|=d,Ar|=d,h=4;break e}d=jn,jn=h,d!==null&&(jn===null?jn=d:jn.push.apply(jn,d))}h=g}if(d=!1,h!==2)continue}}if(h===1){gl(t,0),_a(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:_a(l,n,ei,!ma);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=xc+300-ut(),10<h)){if(_a(l,n,ei,!ma),Vt(l,0,!0)!==0)break e;Rs=n,l.timeoutHandle=Uy(oy.bind(null,l,a,jn,Ac,Ef,n,ei,Ar,ml,ma,d,"Throttled",-0,0),h);break e}oy(l,a,jn,Ac,Ef,n,ei,Ar,ml,ma,d,null,-0,0)}}break}while(!0);Wi(t)}function oy(t,n,a,l,h,d,g,E,C,P,G,$,B,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},ey(n,d,$);var he=(d&62914560)===d?xc-ut():(d&4194048)===d?sy-ut():0;if(he=ex($,he),he!==null){Rs=d,t.cancelPendingCommit=he(gy.bind(null,t,n,d,a,l,h,g,E,C,G,$,null,B,H)),_a(t,d,g,!P);return}}gy(t,n,d,a,l,h,g,E,C)}function gT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Xn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(t,n,a,l){n&=~bf,n&=~Ar,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Tt(h),g=1<<d;l[d]=-1,h&=~g}a!==0&&qi(t,a,n)}function Sc(){return(We&6)===0?(zo(0),!1):!0}function Af(){if(je!==null){if(nt===0)var t=je.return;else t=je,_s=gr=null,Pd(t),rl=null,vo=0,t=je;for(;t!==null;)L0(t.alternate,t),t=t.return;je=null}}function gl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rs=0,Af(),ct=t,je=a=gs(t.current,null),Ue=n,nt=0,Wn=null,ma=!1,fl=Zt(t,n),vf=!1,ml=ei=bf=Ar=pa=Rt=0,jn=jo=null,Ef=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Tt(l),d=1<<h;n|=t[h],l&=~d}return Cs=n,Qu(),a}function uy(t,n){De=null,F.H=No,n===al||n===tc?(n=Ag(),nt=3):n===Cd?(n=Ag(),nt=4):nt=n===nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Wn=n,je===null&&(Rt=1,pc(t,pi(n,t.current)))}function cy(){var t=Jn.current;return t===null?!0:(Ue&4194048)===Ue?vi===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===vi:!1}function hy(){var t=F.H;return F.H=No,t===null?No:t}function dy(){var t=F.A;return F.A=mT,t}function Nc(){Rt=4,ma||(Ue&4194048)!==Ue&&Jn.current!==null||(fl=!0),(pa&134217727)===0&&(Ar&134217727)===0||ct===null||_a(ct,Ue,ei,!1)}function Sf(t,n,a){var l=We;We|=2;var h=hy(),d=dy();(ct!==t||Ue!==n)&&(Ac=null,gl(t,n)),n=!1;var g=Rt;e:do try{if(nt!==0&&je!==null){var E=je,C=Wn;switch(nt){case 8:Af(),g=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(n=!0);var P=nt;if(nt=0,Wn=null,yl(t,E,C,P),a&&fl){g=0;break e}break;default:P=nt,nt=0,Wn=null,yl(t,E,C,P)}}yT(),g=Rt;break}catch(G){uy(t,G)}while(!0);return n&&t.shellSuspendCounter++,_s=gr=null,We=l,F.H=h,F.A=d,je===null&&(ct=null,Ue=0,Qu()),g}function yT(){for(;je!==null;)fy(je)}function _T(t,n){var a=We;We|=2;var l=hy(),h=dy();ct!==t||Ue!==n?(Ac=null,wc=ut()+500,gl(t,n)):fl=Zt(t,n);e:do try{if(nt!==0&&je!==null){n=je;var d=Wn;t:switch(nt){case 1:nt=0,Wn=null,yl(t,n,d,1);break;case 2:case 9:if(xg(d)){nt=0,Wn=null,my(n);break}n=function(){nt!==2&&nt!==9||ct!==t||(nt=7),Wi(t)},d.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:xg(d)?(nt=0,Wn=null,my(n)):(nt=0,Wn=null,yl(t,n,d,7));break;case 5:var g=null;switch(je.tag){case 26:g=je.memoizedState;case 5:case 27:var E=je;if(g?Wy(g):E.stateNode.complete){nt=0,Wn=null;var C=E.sibling;if(C!==null)je=C;else{var P=E.return;P!==null?(je=P,Cc(P)):je=null}break t}}nt=0,Wn=null,yl(t,n,d,5);break;case 6:nt=0,Wn=null,yl(t,n,d,6);break;case 8:Af(),Rt=6;break e;default:throw Error(r(462))}}vT();break}catch(G){uy(t,G)}while(!0);return _s=gr=null,F.H=l,F.A=h,We=a,je!==null?0:(ct=null,Ue=0,Qu(),Rt)}function vT(){for(;je!==null&&!fn();)fy(je)}function fy(t){var n=z0(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,n===null?Cc(t):je=n}function my(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=D0(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=D0(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Pd(n);default:L0(a,n),n=je=dg(n,Cs),n=z0(a,n,Cs)}t.memoizedProps=t.pendingProps,n===null?Cc(t):je=n}function yl(t,n,a,l){_s=gr=null,Pd(n),rl=null,vo=0;var h=n.return;try{if(lT(t,h,n,a,Ue)){Rt=1,pc(t,pi(a,t.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;Rt=1,pc(t,pi(a,t.current)),je=null;return}n.flags&32768?(He||l===1?t=!0:fl||(Ue&536870912)!==0?t=!1:(ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),py(n,t)):Cc(n)}function Cc(t){var n=t;do{if((n.flags&32768)!==0){py(n,ma);return}t=n.return;var a=cT(n.alternate,n,Cs);if(a!==null){je=a;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);Rt===0&&(Rt=5)}function py(t,n){do{var a=hT(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);Rt=6,je=null}function gy(t,n,a,l,h,d,g,E,C){t.cancelPendingCommit=null;do Rc();while(Qt!==0);if((We&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=fd,Qs(t,a,d,g,E,C),t===ct&&(je=ct=null,Ue=0),pl=n,ya=t,Rs=a,Tf=d,xf=h,ay=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xT(Kn,function(){return Ey(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=se.p,se.p=2,g=We,We|=4;try{dT(t,n,a)}finally{We=g,se.p=h,F.T=l}}Qt=1,yy(),_y(),vy()}}function yy(){if(Qt===1){Qt=0;var t=ya,n=pl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var h=We;We|=4;try{J0(n,t);var d=Uf,g=ig(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(g!==E&&E&&E.ownerDocument&&ng(E.ownerDocument.documentElement,E)){if(C!==null&&od(E)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=E.textContent.length,be=Math.min(C.start,he),ot=C.end===void 0?be:Math.min(C.end,he);!H.extend&&be>ot&&(g=ot,ot=be,be=g);var V=tg(E,be),k=tg(E,ot);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var L=$.createRange();L.setStart(V.node,V.offset),H.removeAllRanges(),be>ot?(H.addRange(L),H.extend(k.node,k.offset)):(L.setEnd(k.node,k.offset),H.addRange(L))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Bc=!!zf,Uf=zf=null}finally{We=h,se.p=l,F.T=a}}t.current=n,Qt=2}}function _y(){if(Qt===2){Qt=0;var t=ya,n=pl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var h=We;We|=4;try{K0(t,n.alternate,n)}finally{We=h,se.p=l,F.T=a}}Qt=3}}function vy(){if(Qt===4||Qt===3){Qt=0,ls();var t=ya,n=pl,a=Rs,l=ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,pl=ya=null,by(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ga=null),ai(a),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=se.p,se.p=2,F.T=null;try{for(var d=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];d(E.value,{componentStack:E.stack})}}finally{F.T=n,se.p=h}}(Rs&3)!==0&&Rc(),Wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===wf?Vo++:(Vo=0,wf=t):Vo=0,zo(0)}}function by(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,yo(n)))}function Rc(){return yy(),_y(),vy(),Ey()}function Ey(){if(Qt!==5)return!1;var t=ya,n=Tf;Tf=0;var a=ai(Rs),l=F.T,h=se.p;try{se.p=32>a?32:a,F.T=null,a=xf,xf=null;var d=ya,g=Rs;if(Qt=0,pl=ya=null,Rs=0,(We&6)!==0)throw Error(r(331));var E=We;if(We|=4,ny(d.current),W0(d,d.current,g,a),We=E,zo(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(mn,d)}catch{}return!0}finally{se.p=h,F.T=l,by(t,n)}}function Ty(t,n,a){n=pi(a,n),n=tf(t.stateNode,n,2),t=ca(t,n,2),t!==null&&(Ks(t,2),Wi(t))}function it(t,n,a){if(t.tag===3)Ty(t,t,a);else for(;n!==null;){if(n.tag===3){Ty(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=pi(a,t),a=x0(2),l=ca(n,a,2),l!==null&&(w0(a,l,n,t),Ks(l,2),Wi(l));break}}n=n.return}}function Nf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(vf=!0,h.add(a),t=bT.bind(null,t,n,a),n.then(t,t))}function bT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(Ue&a)===a&&(Rt===4||Rt===3&&(Ue&62914560)===Ue&&300>ut()-xc?(We&2)===0&&gl(t,0):bf|=a,ml===Ue&&(ml=0)),Wi(t)}function xy(t,n){n===0&&(n=Bi()),t=fr(t,n),t!==null&&(Ks(t,n),Wi(t))}function ET(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),xy(t,a)}function TT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),xy(t,a)}function xT(t,n){return It(t,n)}var Ic=null,_l=null,Cf=!1,Dc=!1,Rf=!1,va=0;function Wi(t){t!==_l&&t.next===null&&(_l===null?Ic=_l=t:_l=_l.next=t),Dc=!0,Cf||(Cf=!0,AT())}function zo(t,n){if(!Rf&&Dc){Rf=!0;do for(var a=!1,l=Ic;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var g=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Tt(42|t)+1)-1,d&=h&~(g&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ny(l,d))}else d=Ue,d=Vt(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zt(l,d)||(a=!0,Ny(l,d));l=l.next}while(a);Rf=!1}}function wT(){wy()}function wy(){Dc=Cf=!1;var t=0;va!==0&&jT()&&(t=va);for(var n=ut(),a=null,l=Ic;l!==null;){var h=l.next,d=Ay(l,n);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(_l=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Qt!==0&&Qt!==5||zo(t),va!==0&&(va=0)}function Ay(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Tt(d),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&l)!==0)&&(h[g]=Gt(E,n)):C<=n&&(t.expiredLanes|=E),d&=~E}if(n=ct,a=Ue,a=Vt(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zt(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Gn(l),ai(a)){case 2:case 8:a=Gs;break;case 32:a=Kn;break;case 268435456:a=os;break;default:a=Kn}return l=Sy.bind(null,t),a=It(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Gn(l),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rc()&&t.callbackNode!==a)return null;var l=Ue;return l=Vt(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ly(t,l,n),Ay(t,ut()),t.callbackNode!=null&&t.callbackNode===a?Sy.bind(null,t):null)}function Ny(t,n){if(Rc())return null;ly(t,n,!0)}function AT(){zT(function(){(We&6)!==0?It(Fs,wT):wy()})}function If(){if(va===0){var t=il;t===0&&(t=Rn,Rn<<=1,(Rn&261888)===0&&(Rn=256)),va=t}return va}function Cy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qr(""+t)}function Ry(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function ST(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Cy((h[yt]||null).action),g=l.submitter;g&&(n=(n=g[yt]||null)?Cy(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var E=new Ki("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var C=g?Ry(h,g):new FormData(h);Xd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=g?Ry(h,g):new FormData(h),Xd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Df=0;Df<dd.length;Df++){var kf=dd[Df],NT=kf.toLowerCase(),CT=kf[0].toUpperCase()+kf.slice(1);ki(NT,"on"+CT)}ki(rg,"onAnimationEnd"),ki(lg,"onAnimationIteration"),ki(og,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(FE,"onTransitionRun"),ki(GE,"onTransitionStart"),ki(KE,"onTransitionCancel"),ki(ug,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uo));function Iy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=P;try{d(h)}catch(G){Ku(G)}h.currentTarget=null,d=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=P;try{d(h)}catch(G){Ku(G)}h.currentTarget=null,d=C}}}}function Ve(t,n){var a=n[cs];a===void 0&&(a=n[cs]=new Set);var l=t+"__bubble";a.has(l)||(Dy(n,t,2,!1),a.add(l))}function Mf(t,n,a){var l=0;n&&(l|=4),Dy(a,t,l,n)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[kc]){t[kc]=!0,er.forEach(function(a){a!=="selectionchange"&&(RT.has(a)||Mf(a,!1,t),Mf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[kc]||(n[kc]=!0,Mf("selectionchange",!1,n))}}function Dy(t,n,a,l){switch(r_(n)){case 2:var h=ix;break;case 8:h=sx;break;default:h=Xf}a=h.bind(null,n,a,t),h=void 0,!ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function jf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=d=g;continue e}E=E.parentNode}}l=l.return}ea(function(){var P=d,G=hi(a),$=[];e:{var B=cg.get(t);if(B!==void 0){var H=Ki,he=t;switch(t){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":H=Hu;break;case"focusin":he="focus",H=ur;break;case"focusout":he="blur",H=ur;break;case"beforeblur":case"afterblur":H=ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case rg:case lg:case og:H=Vu;break;case ug:H=T;break;case"scroll":case"scrollend":H=lo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ps;break;case"toggle":case"beforetoggle":H=Ie}var be=(n&4)!==0,ot=!be&&(t==="scroll"||t==="scrollend"),V=be?B!==null?B+"Capture":null:B;be=[];for(var k=P,L;k!==null;){var Y=k;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||V===null||(Y=Ci(k,V),Y!=null&&be.push(Lo(k,Y,L))),ot)break;k=k.return}0<be.length&&(B=new H(B,he,null,a,G),$.push({event:B,listeners:be}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==so&&(he=a.relatedTarget||a.fromElement)&&(ri(he)||he[Yn]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=P,he=he?ri(he):null,he!==null&&(ot=c(he),be=he.tag,he!==ot||be!==5&&be!==27&&be!==6)&&(he=null)):(H=null,he=P),H!==he)){if(be=oo,Y="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=ps,Y="onPointerLeave",V="onPointerEnter",k="pointer"),ot=H==null?B:An(H),L=he==null?B:An(he),B=new be(Y,k+"leave",H,a,G),B.target=ot,B.relatedTarget=L,Y=null,ri(G)===P&&(be=new be(V,k+"enter",he,a,G),be.target=L,be.relatedTarget=ot,Y=be),ot=Y,H&&he)t:{for(be=IT,V=H,k=he,L=0,Y=V;Y;Y=be(Y))L++;Y=0;for(var ge=k;ge;ge=be(ge))Y++;for(;0<L-Y;)V=be(V),L--;for(;0<Y-L;)k=be(k),Y--;for(;L--;){if(V===k||k!==null&&V===k.alternate){be=V;break t}V=be(V),k=be(k)}be=null}else be=null;H!==null&&ky($,B,H,be,!1),he!==null&&ot!==null&&ky($,ot,he,be,!0)}}e:{if(B=P?An(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ye=Xp;else if(Qp(B))if($p)Ye=BE;else{Ye=LE;var me=UE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Br(P.elementType)&&(Ye=Xp):Ye=PE;if(Ye&&(Ye=Ye(t,P))){Yp($,Ye,a,G);break e}me&&me(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Pr(B,"number",B.value)}switch(me=P?An(P):window,t){case"focusin":(Qp(me)||me.contentEditable==="true")&&(Xr=me,ud=P,mo=null);break;case"focusout":mo=ud=Xr=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,sg($,a,G);break;case"selectionchange":if(HE)break;case"keydown":case"keyup":sg($,a,G)}var ke;if(Ze)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Yr?cr(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Xi&&a.locale!=="ko"&&(Yr||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Yr&&(ke=ro()):(Gi=G,ao="value"in Gi?Gi.value:Gi.textContent,Yr=!0)),me=Mc(P,Le),0<me.length&&(Le=new Yi(Le,t,null,a,G),$.push({event:Le,listeners:me}),ke?Le.data=ke:(ke=Qr(a),ke!==null&&(Le.data=ke)))),(ke=fi?OE(t,a):jE(t,a))&&(Le=Mc(P,"onBeforeInput"),0<Le.length&&(me=new Yi("onBeforeInput","beforeinput",null,a,G),$.push({event:me,listeners:Le}),me.data=ke)),ST($,t,P,a,G)}Iy($,n)})}function Lo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Mc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ci(t,a),h!=null&&l.unshift(Lo(t,h,d)),h=Ci(t,n),h!=null&&l.push(Lo(t,h,d))),t.tag===3)return l;t=t.return}return[]}function IT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ky(t,n,a,l,h){for(var d=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=Ci(a,d),P!=null&&g.unshift(Lo(a,P,C))):h||(P=Ci(a,d),P!=null&&g.push(Lo(a,P,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var DT=/\r\n?/g,kT=/\u0000|\uFFFD/g;function My(t){return(typeof t=="string"?t:""+t).replace(DT,`
`).replace(kT,"")}function Oy(t,n){return n=My(n),My(t)===n}function lt(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Dn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":io(t,l,d);break;case"data":if(n!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ni);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),$s(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$s(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,$s(t,a,l))}}function Vf(t,n,a,l,h,d){switch(a){case"style":io(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$s(t,a,l)}}}function un(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,d,g,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),l&&lt(t,n,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=d=g=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:lt(t,n,l,G,a,null)}}ds(t,d,E,C,P,g,h,!1);return;case"select":Ve("invalid",t),l=g=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:lt(t,n,h,E,a,null)}n=d,a=g,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):a!=null&&ci(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:lt(t,n,g,E,a,null)}Js(t,l,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":lt(t,n,C,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Uo.length;l++)Ve(Uo[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,P,l,a,null)}return;default:if(Br(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Vf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&lt(t,n,E,l,a,null))}function MT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,g=null,E=null,C=null,P=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(H)||lt(t,n,H,null,l,$)}}for(var B in l){var H=l[B];if($=a[B],l.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&lt(t,n,B,H,l,$)}}Kt(t,g,E,C,P,G,d,h);return;case"select":H=g=E=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||lt(t,n,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":g=d;default:d!==C&&lt(t,n,h,d,l,C)}n=E,a=g,l=H,B!=null?ci(t,!!a,B,!1):!!l!=!!a&&(n!=null?ci(t,!!a,n,!0):ci(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,l,h)}for(g in l)if(h=l[g],d=a[g],l.hasOwnProperty(g)&&(h!=null||d!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&lt(t,n,g,h,l,d)}Du(t,B,H);return;case"option":for(var he in a)B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:lt(t,n,he,null,l,B));for(C in l)B=l[C],H=a[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":lt(t,n,C,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be)&&lt(t,n,be,null,l,B);for(P in l)if(B=l[P],H=a[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:lt(t,n,P,B,l,H)}return;default:if(Br(n)){for(var ot in a)B=a[ot],a.hasOwnProperty(ot)&&B!==void 0&&!l.hasOwnProperty(ot)&&Vf(t,n,ot,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Vf(t,n,G,B,l,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&lt(t,n,V,null,l,B);for($ in l)B=l[$],H=a[$],!l.hasOwnProperty($)||B===H||B==null&&H==null||lt(t,n,$,B,l,H)}function jy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,g=h.initiatorType,E=h.duration;if(d&&E&&jy(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],P=C.startTime;if(P>E)break;var G=C.transferSize,$=C.initiatorType;G&&jy($)&&(C=C.responseEnd,g+=G*(C<E?1:(E-P)/(C-P)))}if(--l,n+=8*(d+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zf=null,Uf=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function Vy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pf=null;function jT(){var t=window.event;return t&&t.type==="popstate"?t===Pf?!1:(Pf=t,!0):(Pf=null,!1)}var Uy=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(t){return Ly.resolve(null).then(t).catch(UT)}:Uy;function UT(t){setTimeout(function(){throw t})}function ba(t){return t==="head"}function Py(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Tl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Po(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Po(a);for(var d=a.firstChild;d;){var g=d.nextSibling,E=d.nodeName;d[xn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&Po(t.ownerDocument.body);a=h}while(a);Tl(n)}function By(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Bf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bf(a),Ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=bi(t.nextSibling),t===null)break}return null}function PT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=bi(t.nextSibling),t===null))return null;return t}function qy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=bi(t.nextSibling),t===null))return null;return t}function qf(t){return t.data==="$?"||t.data==="$~"}function Hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function bi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ff=null;function Hy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return bi(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Fy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Gy(t,n,a){switch(n=Oc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Po(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ys(t)}var Ei=new Map,Ky=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Is=se.d;se.d={f:qT,r:HT,D:FT,C:GT,L:KT,m:QT,X:XT,S:YT,M:$T};function qT(){var t=Is.f(),n=Sc();return t||n}function HT(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?u0(n):Is.r(t)}var vl=typeof document>"u"?null:document;function Qy(t,n,a){var l=vl;if(l&&typeof n=="string"&&n){var h=ue(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ky.has(h)||(Ky.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),un(n,"link",t),St(n),l.head.appendChild(n)))}}function FT(t){Is.D(t),Qy("dns-prefetch",t,null)}function GT(t,n){Is.C(t,n),Qy("preconnect",t,n)}function KT(t,n,a){Is.L(t,n,a);var l=vl;if(l&&t&&n){var h='link[rel="preload"][as="'+ue(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ue(a.imageSizes)+'"]')):h+='[href="'+ue(t)+'"]';var d=h;switch(n){case"style":d=bl(t);break;case"script":d=El(t)}Ei.has(d)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ei.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Bo(d))||n==="script"&&l.querySelector(qo(d))||(n=l.createElement("link"),un(n,"link",t),St(n),l.head.appendChild(n)))}}function QT(t,n){Is.m(t,n);var a=vl;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ue(l)+'"][href="'+ue(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=El(t)}if(!Ei.has(d)&&(t=A({rel:"modulepreload",href:t},n),Ei.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qo(d)))return}l=a.createElement("link"),un(l,"link",t),St(l),a.head.appendChild(l)}}}function YT(t,n,a){Is.S(t,n,a);var l=vl;if(l&&t){var h=li(l).hoistableStyles,d=bl(t);n=n||"default";var g=h.get(d);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Bo(d)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ei.get(d))&&Gf(t,a);var C=g=l.createElement("link");St(C),un(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(d,g)}}}function XT(t,n){Is.X(t,n);var a=vl;if(a&&t){var l=li(a).hoistableScripts,h=El(t),d=l.get(h);d||(d=a.querySelector(qo(h)),d||(t=A({src:t,async:!0},n),(n=Ei.get(h))&&Kf(t,n),d=a.createElement("script"),St(d),un(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $T(t,n){Is.M(t,n);var a=vl;if(a&&t){var l=li(a).hoistableScripts,h=El(t),d=l.get(h);d||(d=a.querySelector(qo(h)),d||(t=A({src:t,async:!0,type:"module"},n),(n=Ei.get(h))&&Kf(t,n),d=a.createElement("script"),St(d),un(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Yy(t,n,a,l){var h=(h=we.current)?jc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bl(a.href),a=li(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bl(a.href);var d=li(h).hoistableStyles,g=d.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=h.querySelector(Bo(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Ei.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ei.set(t,a),d||JT(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=El(a),a=li(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function bl(t){return'href="'+ue(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function Xy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function JT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),un(n,"link",a),St(n),t.head.appendChild(n))}function El(t){return'[src="'+ue(t)+'"]'}function qo(t){return"script[async]"+t}function $y(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ue(a.href)+'"]');if(l)return n.instance=l,St(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),un(l,"style",h),Vc(l,a.precedence,t),n.instance=l;case"stylesheet":h=bl(a.href);var d=t.querySelector(Bo(h));if(d)return n.state.loading|=4,n.instance=d,St(d),d;l=Xy(a),(h=Ei.get(h))&&Gf(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var g=d;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),un(d,"link",l),n.state.loading|=4,Vc(d,a.precedence,t),n.instance=d;case"script":return d=El(a.src),(h=t.querySelector(qo(d)))?(n.instance=h,St(h),h):(l=a,(h=Ei.get(d))&&(l=A({},a),Kf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),un(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vc(l,a.precedence,t));return n.instance}function Vc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var zc=null;function Jy(t,n,a){if(zc===null){var l=new Map,h=zc=new Map;h.set(a,l)}else h=zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[xn]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(d):l.set(g,[d])}}return l}function Zy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function ZT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function WT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=bl(l.href),d=n.querySelector(Bo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=n.ownerDocument||n,l=Xy(l),(h=Ei.get(h))&&Gf(l,h),d=d.createElement("link"),St(d);var g=d;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),un(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Qf=0;function ex(t,n){return t.stylesheets&&t.count===0&&Pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Qf===0&&(Qf=62500*OT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Qf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Pc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,n.forEach(tx,t),Lc=null,Uc.call(t))}function tx(t,n){if(!(n.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var g=h[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,h),a.set(g,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ho={$$typeof:Te,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function nx(t,n,a,l,h,d,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function e_(t,n,a,l,h,d,g,E,C,P,G,$){return t=new nx(t,n,a,g,C,P,G,$,E),n=1,d===!0&&(n|=24),d=$n(3,null,null,n),t.current=d,d.stateNode=t,n=Ad(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Rd(d),t}function t_(t){return t?(t=Zr,t):Zr}function n_(t,n,a,l,h,d){h=t_(h),l.context===null?l.context=h:l.pendingContext=h,l=ua(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ca(t,l,n),a!==null&&(Vn(a,t,n),Eo(a,t,n))}function i_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Yf(t,n){i_(t,n),(t=t.alternate)&&i_(t,n)}function s_(t){if(t.tag===13||t.tag===31){var n=fr(t,67108864);n!==null&&Vn(n,t,67108864),Yf(t,67108864)}}function a_(t){if(t.tag===13||t.tag===31){var n=ti();n=pn(n);var a=fr(t,n);a!==null&&Vn(a,t,n),Yf(t,n)}}var Bc=!0;function ix(t,n,a,l){var h=F.T;F.T=null;var d=se.p;try{se.p=2,Xf(t,n,a,l)}finally{se.p=d,F.T=h}}function sx(t,n,a,l){var h=F.T;F.T=null;var d=se.p;try{se.p=8,Xf(t,n,a,l)}finally{se.p=d,F.T=h}}function Xf(t,n,a,l){if(Bc){var h=$f(l);if(h===null)jf(t,n,l,qc,a),l_(t,l);else if(rx(h,t,n,a,l))l.stopPropagation();else if(l_(t,l),n&4&&-1<ax.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=nn(d.pendingLanes);if(g!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-Tt(g);E.entanglements[1]|=C,g&=~C}Wi(d),(We&6)===0&&(wc=ut()+500,zo(0))}}break;case 31:case 13:E=fr(d,2),E!==null&&Vn(E,d,2),Sc(),Yf(d,2)}if(d=$f(l),d===null&&jf(t,n,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jf(t,n,l,null,a)}}function $f(t){return t=hi(t),Jf(t)}var qc=null;function Jf(t){if(qc=null,t=ri(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qc=t,null}function r_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(si()){case Fs:return 2;case Gs:return 8;case Kn:case Xa:return 32;case os:return 268435456;default:return 32}default:return 32}}var Zf=!1,Ea=null,Ta=null,xa=null,Fo=new Map,Go=new Map,wa=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,n){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(n.pointerId)}}function Ko(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&s_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function rx(t,n,a,l,h){switch(n){case"focusin":return Ea=Ko(Ea,t,n,a,l,h),!0;case"dragenter":return Ta=Ko(Ta,t,n,a,l,h),!0;case"mouseover":return xa=Ko(xa,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Fo.set(d,Ko(Fo.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Go.set(d,Ko(Go.get(d)||null,t,n,a,l,h)),!0}return!1}function o_(t){var n=ri(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Tn(t.priority,function(){a_(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Tn(t.priority,function(){a_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=$f(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);so=l,a.target.dispatchEvent(l),so=null}else return n=wn(a),n!==null&&s_(n),t.blockedOn=a,!1;n.shift()}return!0}function u_(t,n,a){Hc(t)&&a.delete(n)}function lx(){Zf=!1,Ea!==null&&Hc(Ea)&&(Ea=null),Ta!==null&&Hc(Ta)&&(Ta=null),xa!==null&&Hc(xa)&&(xa=null),Fo.forEach(u_),Go.forEach(u_)}function Fc(t,n){t.blockedOn===n&&(t.blockedOn=null,Zf||(Zf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lx)))}var Gc=null;function c_(t){Gc!==t&&(Gc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Jf(l||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(n,3),n-=3,Xd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Tl(t){function n(C){return Fc(C,t)}Ea!==null&&Fc(Ea,t),Ta!==null&&Fc(Ta,t),xa!==null&&Fc(xa,t),Fo.forEach(n),Go.forEach(n);for(var a=0;a<wa.length;a++){var l=wa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)o_(a),a.blockedOn===null&&wa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],g=h[yt]||null;if(typeof d=="function")g||c_(a);else if(g){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,g=d[yt]||null)E=g.formAction;else if(Jf(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),c_(a)}}}function h_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Wf(t){this._internalRoot=t}Kc.prototype.render=Wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=ti();n_(a,l,t,n,null,null)},Kc.prototype.unmount=Wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;n_(t.current,2,null,t,null,null),Sc(),n[Yn]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ur();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wa.length&&n!==0&&n<wa[a].priority;a++);wa.splice(a,0,t),a===0&&o_(t)}};var d_=e.version;if(d_!=="19.2.4")throw Error(r(527,d_,"19.2.4"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var ox={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{mn=Qc.inject(ox),At=Qc}catch{}}return Yo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=v0,d=b0,g=E0;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=e_(t,1,!1,null,null,a,l,null,h,d,g,h_),t[Yn]=n.current,Of(t),new Wf(n)},Yo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=v0,g=b0,E=E0,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=e_(t,1,!0,n,a??null,l,h,C,d,g,E,h_),n.context=t_(null),a=n.current,l=ti(),l=pn(l),h=ua(l),h.callback=null,ca(a,h,l),a=l,n.current.lanes=a,Ks(n,a),Wi(n),t[Yn]=n.current,Of(t),new Kc(n)},Yo.version="19.2.4",Yo}var T_;function bx(){if(T_)return nm.exports;T_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=vx(),nm.exports}var Ex=bx();const Tx=()=>{};var x_={};const lb=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},xx=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],f=s[i++],y=s[i++],b=((o&7)<<18|(c&63)<<12|(f&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(b>>10)),e[r++]=String.fromCharCode(56320+(b&1023))}else{const c=s[i++],f=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,y=f?s[o+1]:0,b=o+2<s.length,_=b?s[o+2]:0,x=c>>2,A=(c&3)<<4|y>>4;let D=(y&15)<<2|_>>6,Q=_&63;b||(Q=64,f||(D=64)),r.push(i[x],i[A],i[D],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(lb(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):xx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||A==null)throw new wx;const D=c<<2|y>>4;if(r.push(D),_!==64){const Q=y<<4&240|_>>2;if(r.push(Q),A!==64){const W=_<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ax=function(s){const e=lb(s);return ob.encodeByteArray(e,!0)},gh=function(s){return Ax(s).replace(/\./g,"")},ub=function(s){try{return ob.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nx=()=>Sx().__FIREBASE_DEFAULTS__,Cx=()=>{if(typeof process>"u"||typeof x_>"u")return;const s=x_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Rx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ub(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return Tx()||Nx()||Cx()||Rx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},cb=s=>Vh()?.emulatorHosts?.[s],Ix=s=>{const e=cb(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},hb=()=>Vh()?.config,db=s=>Vh()?.[`_${s}`];class Dx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Yl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fb(s){return(await fetch(s,{credentials:"include"})).ok}function kx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[gh(JSON.stringify(i)),gh(JSON.stringify(f)),""].join(".")}const nu={};function Mx(){const s={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?s.emulator.push(e):s.prod.push(e);return s}function Ox(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let w_=!1;function mb(s,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||nu[s]===e||nu[s]||w_)return;nu[s]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=Mx().prod.length>0;function f(){const D=document.getElementById(r);D&&D.remove()}function y(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function b(D,Q){D.setAttribute("width","24"),D.setAttribute("id",Q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{w_=!0,f()},D}function x(D,Q){D.setAttribute("id",Q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=Ox(r),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),re=i("learnmore"),ie=document.getElementById(re)||document.createElement("a"),de=i("preprendIcon"),_e=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const Te=D.element;y(Te),x(ie,re);const xe=_();b(_e,de),Te.append(_e,W,ie,xe),document.body.appendChild(Te)}c?(W.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function Vx(){const s=Vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ux(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Lx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Px(){const s=bn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Bx(){return!Vx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qx(){try{return typeof indexedDB=="object"}catch{return!1}}function Hx(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Fx="FirebaseError";class qs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Fx,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Gx(c,r):"Error",y=`${this.serviceName}: ${f} (${o}).`;return new qs(o,y,r)}}function Gx(s,e){return s.replace(Kx,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Kx=/\{\$([^}]+)}/g;function Qx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ua(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(A_(c)&&A_(f)){if(!Ua(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function A_(s){return s!==null&&typeof s=="object"}function yu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yx(s,e){const i=new Xx(s,e);return i.subscribe.bind(i)}class Xx{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");$x(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $x(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function rm(){}function $t(s){return s&&s._delegate?s._delegate:s}class Ir{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sr="[DEFAULT]";class Jx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Dx;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Wx(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&f.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zx(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zx(s){return s===Sr?void 0:s}function Wx(s){return s.instantiationMode==="EAGER"}class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Jx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const t2={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},n2=Pe.INFO,i2={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},s2=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=i2[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=n2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const a2=(s,e)=>e.some(i=>s instanceof i);let S_,N_;function r2(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pb=new WeakMap,Cm=new WeakMap,gb=new WeakMap,lm=new WeakMap,ip=new WeakMap;function o2(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{i(Ma(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&pb.set(i,s)}).catch(()=>{}),ip.set(e,s),e}function u2(s){if(Cm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Cm.set(s,e)}let Rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||gb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ma(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function c2(s){Rm=s(Rm)}function h2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(om(this),e,...i);return gb.set(r,e.sort?e.sort():[e]),Ma(r)}:l2().includes(s)?function(...e){return s.apply(om(this),e),Ma(pb.get(this))}:function(...e){return Ma(s.apply(om(this),e))}}function d2(s){return typeof s=="function"?h2(s):(s instanceof IDBTransaction&&u2(s),a2(s,r2())?new Proxy(s,Rm):s)}function Ma(s){if(s instanceof IDBRequest)return o2(s);if(lm.has(s))return lm.get(s);const e=d2(s);return e!==s&&(lm.set(s,e),ip.set(e,s)),e}const om=s=>ip.get(s);function f2(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),y=Ma(f);return r&&f.addEventListener("upgradeneeded",b=>{r(Ma(f.result),b.oldVersion,b.newVersion,Ma(f.transaction),b)}),i&&f.addEventListener("blocked",b=>i(b.oldVersion,b.newVersion,b)),y.then(b=>{c&&b.addEventListener("close",()=>c()),o&&b.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const m2=["get","getKey","getAll","getAllKeys","count"],p2=["put","add","delete","clear"],um=new Map;function C_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=p2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||m2.includes(i)))return;const c=async function(f,...y){const b=this.transaction(f,o?"readwrite":"readonly");let _=b.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&b.done]))[0]};return um.set(e,c),c}c2(s=>({...s,get:(e,i,r)=>C_(e,i)||s.get(e,i,r),has:(e,i)=>!!C_(e,i)||s.has(e,i)}));class g2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(y2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function y2(s){return s.getComponent()?.type==="VERSION"}const Im="@firebase/app",R_="0.14.8";const js=new np("@firebase/app"),_2="@firebase/app-compat",v2="@firebase/analytics-compat",b2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",x2="@firebase/auth",w2="@firebase/auth-compat",A2="@firebase/database",S2="@firebase/data-connect",N2="@firebase/database-compat",C2="@firebase/functions",R2="@firebase/functions-compat",I2="@firebase/installations",D2="@firebase/installations-compat",k2="@firebase/messaging",M2="@firebase/messaging-compat",O2="@firebase/performance",j2="@firebase/performance-compat",V2="@firebase/remote-config",z2="@firebase/remote-config-compat",U2="@firebase/storage",L2="@firebase/storage-compat",P2="@firebase/firestore",B2="@firebase/ai",q2="@firebase/firestore-compat",H2="firebase",F2="12.9.0";const Dm="[DEFAULT]",G2={[Im]:"fire-core",[_2]:"fire-core-compat",[b2]:"fire-analytics",[v2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[x2]:"fire-auth",[w2]:"fire-auth-compat",[A2]:"fire-rtdb",[S2]:"fire-data-connect",[N2]:"fire-rtdb-compat",[C2]:"fire-fn",[R2]:"fire-fn-compat",[I2]:"fire-iid",[D2]:"fire-iid-compat",[k2]:"fire-fcm",[M2]:"fire-fcm-compat",[O2]:"fire-perf",[j2]:"fire-perf-compat",[V2]:"fire-rc",[z2]:"fire-rc-compat",[U2]:"fire-gcs",[L2]:"fire-gcs-compat",[P2]:"fire-fst",[q2]:"fire-fst-compat",[B2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};const yh=new Map,K2=new Map,km=new Map;function I_(s,e){try{s.container.addComponent(e)}catch(i){js.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Pl(s){const e=s.name;if(km.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,s);for(const i of yh.values())I_(i,s);for(const i of K2.values())I_(i,s);return!0}function sp(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function xi(s){return s==null?!1:s.settings!==void 0}const Q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new gu("app","Firebase",Q2);class Y2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}const Xl=F2;function yb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Oa.create("bad-app-name",{appName:String(o)});if(i||(i=hb()),!i)throw Oa.create("no-options");const c=yh.get(o);if(c){if(Ua(i,c.options)&&Ua(r,c.config))return c;throw Oa.create("duplicate-app",{appName:o})}const f=new e2(o);for(const b of km.values())f.addComponent(b);const y=new Y2(i,r,f);return yh.set(o,y),y}function _b(s=Dm){const e=yh.get(s);if(!e&&s===Dm&&hb())return yb();if(!e)throw Oa.create("no-app",{appName:s});return e}function ja(s,e,i){let r=G2[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(f.join(" "));return}Pl(new Ir(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const X2="firebase-heartbeat-database",$2=1,ou="firebase-heartbeat-store";let cm=null;function vb(){return cm||(cm=f2(X2,$2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ou)}catch(i){console.warn(i)}}}}).catch(s=>{throw Oa.create("idb-open",{originalErrorMessage:s.message})})),cm}async function J2(s){try{const i=(await vb()).transaction(ou),r=await i.objectStore(ou).get(bb(s));return await i.done,r}catch(e){if(e instanceof qs)js.warn(e.message);else{const i=Oa.create("idb-get",{originalErrorMessage:e?.message});js.warn(i.message)}}}async function D_(s,e){try{const r=(await vb()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,bb(s)),await r.done}catch(i){if(i instanceof qs)js.warn(i.message);else{const r=Oa.create("idb-set",{originalErrorMessage:i?.message});js.warn(r.message)}}}function bb(s){return`${s.name}!${s.options.appId}`}const Z2=1024,W2=30;class ew{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>W2){const o=iw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k_(),{heartbeatsToSend:i,unsentEntries:r}=tw(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return js.warn(e),""}}}function k_(){return new Date().toISOString().substring(0,10)}function tw(s,e=Z2){const i=[];let r=s.slice();for(const o of s){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),M_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),M_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class nw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qx()?Hx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await J2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function M_(s){return gh(JSON.stringify({version:2,heartbeats:s})).length}function iw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function sw(s){Pl(new Ir("platform-logger",e=>new g2(e),"PRIVATE")),Pl(new Ir("heartbeat",e=>new ew(e),"PRIVATE")),ja(Im,R_,s),ja(Im,R_,"esm2020"),ja("fire-js","")}sw("");var aw="firebase",rw="12.9.0";ja(aw,rw,"app");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Va,Eb;(function(){var s;function e(R,S){function I(){}I.prototype=S.prototype,R.F=S.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(j,M,z){for(var N=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)N[$e-2]=arguments[$e];return S.prototype[M].apply(j,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,I){I||(I=0);const j=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)j[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;M<16;++M)j[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=R.g[0],I=R.g[1],M=R.g[2];let z=R.g[3],N;N=S+(z^I&(M^z))+j[0]+3614090360&4294967295,S=I+(N<<7&4294967295|N>>>25),N=z+(M^S&(I^M))+j[1]+3905402710&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(I^z&(S^I))+j[2]+606105819&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(S^M&(z^S))+j[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(z^I&(M^z))+j[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=z+(M^S&(I^M))+j[5]+1200080426&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(I^z&(S^I))+j[6]+2821735955&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(S^M&(z^S))+j[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(z^I&(M^z))+j[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=z+(M^S&(I^M))+j[9]+2336552879&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(I^z&(S^I))+j[10]+4294925233&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(S^M&(z^S))+j[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(z^I&(M^z))+j[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=z+(M^S&(I^M))+j[13]+4254626195&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(I^z&(S^I))+j[14]+2792965006&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(S^M&(z^S))+j[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(M^z&(I^M))+j[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(S^I))+j[6]+3225465664&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(z^S))+j[11]+643717713&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^S&(M^z))+j[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(I^M))+j[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(S^I))+j[10]+38016083&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(z^S))+j[15]+3634488961&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^S&(M^z))+j[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(I^M))+j[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(S^I))+j[14]+3275163606&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(z^S))+j[3]+4107603335&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^S&(M^z))+j[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(I^M))+j[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(S^I))+j[2]+4243563512&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(z^S))+j[7]+1735328473&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^S&(M^z))+j[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(I^M^z)+j[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=z+(S^I^M)+j[8]+2272392833&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^I)+j[11]+1839030562&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^S)+j[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^z)+j[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=z+(S^I^M)+j[4]+1272893353&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^I)+j[7]+4139469664&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^S)+j[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^z)+j[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=z+(S^I^M)+j[0]+3936430074&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^I)+j[3]+3572445317&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^S)+j[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^z)+j[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=z+(S^I^M)+j[12]+3873151461&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^I)+j[15]+530742520&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^S)+j[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(M^(I|~z))+j[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=z+(I^(S|~M))+j[7]+1126891415&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~I))+j[14]+2878612391&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~S))+j[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~z))+j[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=z+(I^(S|~M))+j[3]+2399980690&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~I))+j[10]+4293915773&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~S))+j[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~z))+j[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=z+(I^(S|~M))+j[15]+4264355552&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~I))+j[6]+2734768916&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~S))+j[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~z))+j[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=z+(I^(S|~M))+j[11]+3174756917&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~I))+j[2]+718787259&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~S))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const I=S-this.blockSize,j=this.C;let M=this.h,z=0;for(;z<S;){if(M==0)for(;z<=I;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<S;)if(j[M++]=R.charCodeAt(z++),M==this.blockSize){o(this,j),M=0;break}}else for(;z<S;)if(j[M++]=R[z++],M==this.blockSize){o(this,j),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)R[S++]=this.g[I]>>>j&255;return R};function c(R,S){var I=y;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=S(R)}function f(R,S){this.h=S;const I=[];let j=!0;for(let M=R.length-1;M>=0;M--){const z=R[M]|0;j&&z==S||(I[M]=z,j=!1)}this.g=I}var y={};function b(R){return-128<=R&&R<128?c(R,function(S){return new f([S|0],S<0?-1:0)}):new f([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return ie(_(-R));const S=[];let I=1;for(let j=0;R>=I;j++)S[j]=R/I|0,I*=4294967296;return new f(S,0)}function x(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return ie(x(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let j=A;for(let z=0;z<R.length;z+=8){var M=Math.min(8,R.length-z);const N=parseInt(R.substring(z,z+M),S);M<8?(M=_(Math.pow(S,M)),j=j.j(M).add(_(N))):(j=j.j(I),j=j.add(_(N)))}return j}var A=b(0),D=b(1),Q=b(16777216);s=f.prototype,s.m=function(){if(re(this))return-ie(this).m();let R=0,S=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);R+=(j>=0?j:4294967296+j)*S,S*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(W(this))return"0";if(re(this))return"-"+ie(this).toString(R);const S=_(Math.pow(R,6));var I=this;let j="";for(;;){const M=xe(I,S).g;I=de(I,M.j(S));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=M,W(I))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function W(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function re(R){return R.h==-1}s.l=function(R){return R=de(this,R),re(R)?-1:W(R)?0:1};function ie(R){const S=R.g.length,I=[];for(let j=0;j<S;j++)I[j]=~R.g[j];return new f(I,~R.h).add(D)}s.abs=function(){return re(this)?ie(this):this},s.add=function(R){const S=Math.max(this.g.length,R.g.length),I=[];let j=0;for(let M=0;M<=S;M++){let z=j+(this.i(M)&65535)+(R.i(M)&65535),N=(z>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);j=N>>>16,z&=65535,N&=65535,I[M]=N<<16|z}return new f(I,I[I.length-1]&-2147483648?-1:0)};function de(R,S){return R.add(ie(S))}s.j=function(R){if(W(this)||W(R))return A;if(re(this))return re(R)?ie(this).j(ie(R)):ie(ie(this).j(R));if(re(R))return ie(this.j(ie(R)));if(this.l(Q)<0&&R.l(Q)<0)return _(this.m()*R.m());const S=this.g.length+R.g.length,I=[];for(var j=0;j<2*S;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let M=0;M<R.g.length;M++){const z=this.i(j)>>>16,N=this.i(j)&65535,$e=R.i(M)>>>16,Et=R.i(M)&65535;I[2*j+2*M]+=N*Et,_e(I,2*j+2*M),I[2*j+2*M+1]+=z*Et,_e(I,2*j+2*M+1),I[2*j+2*M+1]+=N*$e,_e(I,2*j+2*M+1),I[2*j+2*M+2]+=z*$e,_e(I,2*j+2*M+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new f(I,0)};function _e(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function Te(R,S){this.g=R,this.h=S}function xe(R,S){if(W(S))throw Error("division by zero");if(W(R))return new Te(A,A);if(re(R))return S=xe(ie(R),S),new Te(ie(S.g),ie(S.h));if(re(S))return S=xe(R,ie(S)),new Te(ie(S.g),S.h);if(R.g.length>30){if(re(R)||re(S))throw Error("slowDivide_ only works with positive integers.");for(var I=D,j=S;j.l(R)<=0;)I=dt(I),j=dt(j);var M=Me(I,1),z=Me(j,1);for(j=Me(j,2),I=Me(I,2);!W(j);){var N=z.add(j);N.l(R)<=0&&(M=M.add(I),z=N),j=Me(j,1),I=Me(I,1)}return S=de(R,M.j(S)),new Te(M,S)}for(M=A;R.l(S)>=0;){for(I=Math.max(1,Math.floor(R.m()/S.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=_(I),N=z.j(S);re(N)||N.l(R)>0;)I-=j,z=_(I),N=z.j(S);W(z)&&(z=D),M=M.add(z),R=de(R,N)}return new Te(M,R)}s.B=function(R){return xe(this,R).h},s.and=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)&R.i(j);return new f(I,this.h&R.h)},s.or=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)|R.i(j);return new f(I,this.h|R.h)},s.xor=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)^R.i(j);return new f(I,this.h^R.h)};function dt(R){const S=R.g.length+1,I=[];for(let j=0;j<S;j++)I[j]=R.i(j)<<1|R.i(j-1)>>>31;return new f(I,R.h)}function Me(R,S){const I=S>>5;S%=32;const j=R.g.length-I,M=[];for(let z=0;z<j;z++)M[z]=S>0?R.i(z+I)>>>S|R.i(z+I+1)<<32-S:R.i(z+I);return new f(M,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Eb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=x,Va=f}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tb,Zo,xb,rh,Mm,wb,Ab,Sb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},f=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=b,_.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var te=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)te[Ie-2]=arguments[Ie];return m.prototype[U].apply(T,te)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let te=0;te<q;te++)u[v+te]=U[te]}else u.push(U)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){f.setTimeout(()=>{throw u},0)}function de(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,v){const T=Te.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new re(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Me=!1,R=new _e,S=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(I)}};function I(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){ie(v)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function $e(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A($e,M),$e.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=we(u,m,T,U);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new se(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(pe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Qe={};function Je(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Je(u,m[q],v,T,U);return null}return v=Fn(v),u&&u[Et]?u.J(m,v,y(T)?!!T.capture:!1,U):Hs(u,m,v,!1,T,U)}function Hs(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const te=y(U)?!!U.capture:!!U;let Ie=Ai(u);if(Ie||(u[ze]=Ie=new le(u)),v=Ie.add(m,v,T,te,q),v.proxy)return v;if(T=Qa(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)z||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Hn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qa(){function u(v){return m.call(u.src,u.listener,v)}const m=Ui;return u}function qn(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)qn(u,m[q],v,T,U);else T=y(T)?!!T.capture:!!T,v=Fn(v),u&&u[Et]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=we(m,v,T,U),v>-1&&(pe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ai(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,v,T,U)),(v=u>-1?m[u]:null)&&Jt(v))}function Jt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])ve(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Hn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ai(m))?(ve(v,u),v.h==0&&(v.src=null,m[ze]=null)):pe(u)}}}function Hn(u){return u in Qe?Qe[u]:Qe[u]="on"+u}function Ui(u,m){if(u.da)u=!0;else{m=new $e(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Jt(u),u=v.call(T,m)}return u}function Ai(u){return u=u[ze],u instanceof le?u:null}var Ya="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fn(u){return typeof u=="function"?u:(u[Ya]||(u[Ya]=function(m){return u.handleEvent(m)}),u[Ya])}function ft(){j.call(this),this.i=new le(this),this.M=this,this.G=null}A(ft,j),ft.prototype[Et]=!0,ft.prototype.removeEventListener=function(u,m,v,T){qn(this,u,m,v,T)};function It(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var U=m;m=new M(T,u),ae(m,U)}U=!0;let q,te;if(v)for(te=v.length-1;te>=0;te--)q=m.g=v[te],U=Gn(q,T,!0,m)&&U;if(q=m.g=u,U=Gn(q,T,!0,m)&&U,U=Gn(q,T,!1,m)&&U,v)for(te=0;te<v.length;te++)q=m.g=v[te],U=Gn(q,T,!1,m)&&U}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)pe(v[T]);delete u.g[m],u.h--}}this.G=null},ft.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ft.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Gn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==v){const Ie=te.listener,Dt=te.ha||te.src;te.fa&&ve(u.i,te),U=Ie.call(Dt,T)!==!1&&U}}return U&&!T.defaultPrevented}function fn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function ls(u){u.g=fn(()=>{u.g=null,u.i&&(u.i=!1,ls(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ut extends j{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ls(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(u){j.call(this),this.h=u,this.g={}}A(si,j);var Fs=[];function Gs(u){Oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Jt(m)},u),u.g={}}si.prototype.N=function(){si.Z.N.call(this),Gs(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=f.JSON.stringify,Xa=f.JSON.parse,os=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function $a(){}function Li(){}var mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function At(){M.call(this,"d")}A(At,M);function En(){M.call(this,"c")}A(En,M);var Tt={},Pi=null;function Qn(){return Pi=Pi||new ft}Tt.Ia="serverreachability";function us(u){M.call(this,Tt.Ia,u)}A(us,M);function Rn(u){const m=Qn();It(m,new us(m))}Tt.STAT_EVENT="statevent";function In(u,m){M.call(this,Tt.STAT_EVENT,u),this.stat=m}A(In,M);function tt(u){const m=Qn();It(m,new In(m,u))}Tt.Ja="timingevent";function nn(u,m){M.call(this,Tt.Ja,u),this.size=m}A(nn,M);function Vt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Zt(){this.g=!0}Zt.prototype.ua=function(){this.g=!1};function Gt(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var te="",Ie=q.split("&");for(let Ze=0;Ze<Ie.length;Ze++){var Dt=Ie[Ze].split("=");if(Dt.length>1){const _t=Dt[0];Dt=Dt[1];const fi=_t.split("_");te=fi.length>=2&&fi[1]=="type"?te+(_t+"="+Dt+"&"):te+(_t+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+te})}function Bi(u,m,v,T,U,q,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+te})}function Si(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qs(u,v)+(T?" "+T:"")})}function Ks(u,m){u.info(function(){return"TIMEOUT: "+m})}Zt.prototype.info=function(){};function Qs(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return Kn(q)}catch{return m}}var qi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},st={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ja;function pn(){}A(pn,$a),pn.prototype.g=function(){return new XMLHttpRequest},Ja=new pn;function ai(u){return encodeURIComponent(String(u))}function Ur(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Tn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sn}function sn(){this.i=null,this.g="",this.h=!1}var xt={},yt={};function Yn(u,m,v){u.M=1,u.A=Z(Nt(m)),u.u=v,u.R=!0,cs(u,null)}function cs(u,m){u.F=Date.now(),xn(u),u.B=Nt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Br(v.i,"t",T),u.C=0,v=u.j.L,u.h=new sn,u.g=Bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ut(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Fs[0]=U.toString()),U=Fs);for(let q=0;q<U.length;q++){const te=Je(v,U[q],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Rn(),Gt(u.i,u.v,u.B,u.l,u.S,u.u)}Tn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ri(u)==3?m.j():this.Y(u)},Tn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Ri(this.g),Dt=this.g.ya(),Ze=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ie!=4||Dt==7||(Dt==8||Ze<=0?Rn(3):Rn(2)),ri(this);var m=this.g.ca();this.X=m;var v=Za(this);if(this.o=m==200,Bi(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var q=T;break t}}q=null}if(u=q)Si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,tt(12),An(this),wn(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<v.length;)if(_t=Wa(this,v),_t==yt){Ie==4&&(this.m=4,tt(14),u=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==xt){this.m=4,tt(15),Si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Si(this.i,this.l,_t,null),li(this,_t);if(Wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,tt(16),u=!1),this.o=this.o&&u,!u)Si(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),uo(te),te.P=!0,tt(11))}}else Si(this.i,this.l,v,null),li(this,v);Ie==4&&An(this),this.o&&!this.K&&(Ie==4?zu(this.j,this):(this.o=!1,xn(this)))}else ms(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),An(this),wn(this)}}}catch{}};function Za(u){if(!Wt(u))return u.g.la();const m=an(u.g);if(m==="")return"";let v="";const T=m.length,U=Ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),wn(u),"";u.h.i=new f.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Wt(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wa(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?yt:(v=Number(m.substring(v,T)),isNaN(v)?xt:(T+=1,T+v>m.length?yt:(m=m.slice(T,T+v),u.C=T+v,m)))}Tn.prototype.cancel=function(){this.K=!0,An(this)};function xn(u){u.T=Date.now()+u.H,Ys(u,u.H)}function Ys(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Vt(_(u.aa,u),m)}function ri(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Tn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ks(this.i,this.B),this.M!=2&&(Rn(),tt(17)),An(this),this.m=2,wn(this)):Ys(this,this.T-u)};function wn(u){u.j.I==0||u.K||zu(u.j,u)}function An(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Gs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Kr(v),na(v);else break e;ur(v),tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Vt(_(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Yi(v,11)}else if((u.L||v.g==u)&&Kr(v),!N(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ze=U[m];const _t=Ze[0];if(!(_t<=v.K))if(v.K=_t,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const fi=Ze[3];fi!=null&&(v.ka=fi,v.j.info("VER="+v.ka));const Xi=Ze[4];Xi!=null&&(v.za=Xi,v.j.info("SVER="+v.za));const Ii=Ze[5];Ii!=null&&typeof Ii=="number"&&Ii>0&&(T=1.5*Ii,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Di=u.g;if(Di){const cr=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var q=T.h;q.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(nr(q,q.h),q.h=null))}if(T.G){const Qr=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Qr&&(T.wa=Qr,w(T.J,T.G,Qr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Pu(T,T.L?T.ba:null,T.W),te.L){ir(T.h,te);var Ie=te,Dt=T.O;Dt&&(Ie.H=Dt),Ie.D&&(ri(Ie),xn(Ie)),T.g=te}else ju(T);v.i.length>0&&Qi(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Yi(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Yi(v,7):lo(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}Rn(4)}catch{}}var St=class{constructor(u,m){this.g=u,this.map=m}};function er(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function nr(u,m){u.g?u.g.add(m):u.h=m}function ir(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}er.prototype.cancel=function(){if(this.i=Xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,zt(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.u),this.h=u.h,hs(this,Mu(u.i)),this.m=u.m):u&&(m=String(u).match(Lr))?(this.l=!1,zt(this,m[1]||"",!0),this.o=ne(m[2]||""),this.g=ne(m[3]||"",!0),Hi(this,m[4]),this.h=ne(m[5]||"",!0),hs(this,m[6]||"",!0),this.m=ne(m[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ee(m,Kt,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ee(m,Kt,!0),"@"),u.push(ai(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ee(v,v.charAt(0)=="/"?Pr:ds,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ee(v,Du)),u.join("")},Sn.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?zt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Hi(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let te=0;te<U.length;){const Ie=U[te++];Ie=="."?T&&te==U.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&te==U.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?hs(m,Mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new Sn(u)}function zt(u,m,v){u.j=v?ne(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function hs(u,m,v){m instanceof Js?(u.i=m,qr(u.i,u.l)):(v||(m=ee(m,ci)),u.i=new Js(m,u.l))}function w(u,m,v){u.i.set(m,v)}function Z(u){return w(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ne(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ee(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ue),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ue(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Kt=/[#\/\?@]/g,ds=/[#\?:]/g,Pr=/[#\?]/g,ci=/[#\?@]/g,Du=/#/g;function Js(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Dn(u){u.g||(u.g=new Map,u.h=0,u.i&&$s(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Js.prototype,s.add=function(u,m){Dn(this),this.i=null,u=Zs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ku(u,m){Dn(u),m=Zs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function no(u,m){return Dn(u),m=Zs(u,m),u.g.has(m)}s.forEach=function(u,m){Dn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function io(u,m){Dn(u);let v=[];if(typeof m=="string")no(u,m)&&(v=v.concat(u.g.get(Zs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Dn(this),this.i=null,u=Zs(this,u),no(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=io(this,u),u.length>0?String(u[0]):m):m};function Br(u,m,v){ku(u,m),v.length>0&&(u.i=null,u.g.set(Zs(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=ai(v);v=io(this,v);for(let q=0;q<v.length;q++){let te=U;v[q]!==""&&(te+="="+ai(v[q])),u.push(te)}}return this.i=u.join("&")};function Mu(u){const m=new Js;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Zs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function qr(u,m){m&&!u.j&&(Dn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(ku(this,T),Br(this,U,v))},u)),u.j=m}function Ni(u,m){const v=new Zt;if(f.Image){const T=new Image;T.onload=x(hi,v,"TestLoadImage: loaded",!0,m,T),T.onerror=x(hi,v,"TestLoadImage: error",!1,m,T),T.onabort=x(hi,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(hi,v,"TestLoadImage: timeout",!1,m,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function so(u,m){const v=new Zt,T=new AbortController,U=setTimeout(()=>{T.abort(),hi(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?hi(v,"TestPingServer: ok",!0,m):hi(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),hi(v,"TestPingServer: error",!1,m)})}function hi(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Ws(){this.g=new os}function Fi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Fi,$a),Fi.prototype.g=function(){return new sr(this.i,this.h)};function sr(u,m){ft.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(sr,ft),s=sr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ea(this):Ci(this),this.readyState==3&&Hr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ea(this))},s.Na=function(u){this.g&&(this.response=u,ea(this))},s.ga=function(){this.g&&ea(this)};function ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function di(u){let m="";return Oe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ar(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=di(v),typeof u=="string"?v!=null&&ai(v):w(u,m,v))}function at(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(at,ft);var Gi=/^https?$/i,ao=["POST","PUT"];s=at.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ja.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){rr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(ao,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of v)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){rr(this,q)}};function rr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ro(u),fs(u)}function ro(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),fs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},s.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&Ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Ri(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let te=String(u.D).match(Lr)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),T=!Gi.test(te?te.toLowerCase():"")}v=T}if(v)It(u,"complete"),It(u,"success");else{u.o=6;try{var U=Ri(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ro(u)}}finally{fs(u)}}}}function fs(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||It(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ri(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Xa(m)}};function an(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ms(u){const m={};u=(u.g&&Ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(N(u[T]))continue;var v=Ur(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Ke(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ta(u){this.za=0,this.i=[],this.j=new Zt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ki("baseRetryDelayMs",5e3,u),this.Za=Ki("retryDelaySeedMs",1e4,u),this.Ta=Ki("forwardChannelMaxRetries",2,u),this.va=Ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new er(u&&u.concurrentRequestLimit),this.Ba=new Ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ta.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){tt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Pu(this,null,this.W),Qi(this)};function lo(u){if(Fr(u),u.I==3){var m=u.V++,v=Nt(u.J);if(w(v,"SID",u.M),w(v,"RID",m),w(v,"TYPE","terminate"),or(u,v),m=new Tn(u,u.j,m),m.M=2,m.A=Z(Nt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xn(m)}Lu(u)}function na(u){u.g&&(uo(u),u.g.cancel(),u.g=null)}function Fr(u){na(u),u.v&&(f.clearTimeout(u.v),u.v=null),Kr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Qi(u){if(!tr(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||S(),Me||(dt(),Me=!0),R.add(m,u),u.D=0}}function Gr(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Vt(_(u.Ea,u,m),Uu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Tn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ou(this,U,m),v=Nt(this.J),w(v,"RID",u),w(v,"CVER",22),this.G&&w(v,"X-HTTP-Session-Id",this.G),or(this,v),q&&(this.R?m="headers="+ai(di(q))+"&"+m:this.u&&ar(v,this.u,q)),nr(this.h,U),this.Ra&&w(v,"TYPE","init"),this.S?(w(v,"$req",m),w(v,"SID","null"),U.U=!0,Yn(U,v,null)):Yn(U,v,m),this.I=2}}else this.I==3&&(u?oo(this,u):this.i.length==0||tr(this.h)||oo(this))};function oo(u,m){var v;m?v=m.l:v=u.V++;const T=Nt(u.J);w(T,"SID",u.M),w(T,"RID",v),w(T,"AID",u.K),or(u,T),u.u&&u.o&&ar(T,u.u,u.o),v=new Tn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ou(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),nr(u.h,v),Yn(v,T,m)}function or(u,m){u.H&&Oe(u.H,function(v,T){w(m,T,v)}),u.l&&Oe({},function(v,T){w(m,T,v)})}function Ou(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Dt=["count="+v];Ie==-1?v>0?(Ie=U[0].g,Dt.push("ofs="+Ie)):Ie=0:Dt.push("ofs="+Ie);let Ze=!0;for(let _t=0;_t<v;_t++){var q=U[_t].g;const fi=U[_t].map;if(q-=Ie,q<0)Ie=Math.max(0,U[_t].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var te=fi instanceof Map?fi:Object.entries(fi);for(const[Xi,Ii]of te){let Di=Ii;y(Ii)&&(Di=Kn(Ii)),Dt.push(q+Xi+"="+encodeURIComponent(Di))}}catch(Xi){throw Dt.push(q+"type="+encodeURIComponent("_badmap")),Xi}}catch{T&&T(fi)}}if(Ze){te=Dt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function ju(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||S(),Me||(dt(),Me=!0),R.add(m,u),u.A=0}}function ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Vt(_(u.Da,u),Uu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Vt(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),na(this),Vu(this))};function uo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Vu(u){u.g=new Tn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);w(m,"RID","rpc"),w(m,"SID",u.M),w(m,"AID",u.K),w(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&w(m,"TO",u.ia),w(m,"TYPE","xmlhttp"),or(u,m),u.u&&u.o&&ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Z(Nt(m)),v.u=null,v.R=!0,cs(v,u)}s.Va=function(){this.C!=null&&(this.C=null,na(this),ur(this),tt(19))};function Kr(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function zu(u,m){var v=null;if(u.g==m){Kr(u),uo(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,ir(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Qn(),It(T,new nn(T,v)),Qi(u)}else ju(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Gr(u,m)||T==2&&ur(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Yi(u,5);break;case 4:Yi(u,10);break;case 3:Yi(u,6);break;default:Yi(u,2)}}}function Uu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Yi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zt(T,"https"),Z(T),U?Ni(T.toString(),v):so(T.toString(),v)}else tt(2);u.I=0,u.l&&u.l.pa(m),Lu(u),Fr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Lu(u){if(u.I=0,u.ja=[],u.l){const m=Xs(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Pu(u,m,v){var T=v instanceof Sn?Nt(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Hi(T,T.u);else{var U=f.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Sn(null);T&&zt(q,T),m&&(q.g=m),U&&Hi(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&w(T,v,m),w(T,"VER",u.ka),or(u,T),T}function Bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new at(new Fi({ab:v})):new at(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}s=qu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ia(){}ia.prototype.g=function(u,m){return new Nn(u,m)};function Nn(u,m){ft.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ps(this)}A(Nn,ft),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){lo(this.g)},Nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Kn(u),u=v);m.i.push(new St(m.Ya++,u)),m.I==3&&Qi(m)},Nn.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Nn.Z.N.call(this)};function Hu(u){At.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Hu,At);function Fu(){En.call(this),this.status=1}A(Fu,En);function ps(u){this.g=u}A(ps,qu),ps.prototype.ra=function(){It(this.g,"a")},ps.prototype.qa=function(u){It(this.g,new Hu(u))},ps.prototype.pa=function(u){It(this.g,new Fu)},ps.prototype.oa=function(){It(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Sb=function(){return new ia},Ab=function(){return Qn()},wb=Tt,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,rh=qi,st.COMPLETE="complete",xb=st,Li.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Zo=Li,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,Tb=at}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});let _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let $l="12.9.0";function lw(s){$l=s}const Dr=new np("@firebase/firestore");function Cl(){return Dr.logLevel}function ce(s,...e){if(Dr.logLevel<=Pe.DEBUG){const i=e.map(ap);Dr.debug(`Firestore (${$l}): ${s}`,...i)}}function Vs(s,...e){if(Dr.logLevel<=Pe.ERROR){const i=e.map(ap);Dr.error(`Firestore (${$l}): ${s}`,...i)}}function kr(s,...e){if(Dr.logLevel<=Pe.WARN){const i=e.map(ap);Dr.warn(`Firestore (${$l}): ${s}`,...i)}}function ap(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Nb(s,r,i)}function Nb(s,e,i){let r=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Vs(r),new Error(r)}function et(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||Nb(e,o,r)}function Ce(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends qs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Cb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ow{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(_n.UNAUTHENTICATED)))}shutdown(){}}class uw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class cw{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let r=this.i;const o=b=>this.i!==r?(r=this.i,i(b)):Promise.resolve();let c=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ms,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const b=c;e.enqueueRetryable((async()=>{await b.promise,await o(this.currentUser)}))},y=b=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((b=>y(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ms)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new Cb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class hw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class dw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new hw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=mw(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Be(s,e){return s<e?-1:s>e?1:0}function Om(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return hm(o)===hm(c)?Be(o,c):hm(o)?1:-1}return Be(s.length,e.length)}const pw=55296,gw=57343;function hm(s){const e=s.charCodeAt(0);return e>=pw&&e<=gw}function Bl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const V_="__name__";class es{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ee(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=es.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const r=es.isNumericId(e),o=es.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?es.extractNumericId(e).compare(es.extractNumericId(i)):Om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class ht extends es{construct(e,i,r){return new ht(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends es{construct(e,i,r){return new hn(e,i,r)}static isValidIdentifier(e){return yw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new hn([V_])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else y==="`"?(f=!f,o++):y!=="."||f?(r+=y,o++):(c(),o++)}if(c(),f)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(i)}static emptyPath(){return new hn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ht.fromString(e))}static fromName(e){return new ye(ht.fromString(e).popFirst(5))}static empty(){return new ye(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ht(e.slice()))}}function Rb(s,e,i){if(!i)throw new oe(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function _w(s,e,i,r){if(e===!0&&r===!0)throw new oe(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function z_(s){if(!ye.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function U_(s){if(ye.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ib(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function zh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function ii(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zh(s);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ft(s,e){const i={typeString:s};return e&&(i.value=e),i}function _u(s,e){if(!Ib(s))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new oe(X.INVALID_ARGUMENT,i);return!0}const L_=-62135596800,P_=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*P_);return new gt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<L_)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ft("string",gt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new gt(0,0))}static max(){return new Se(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uu=-1;function vw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new gt(i+1,0):new gt(i,r));return new La(o,ye.empty(),e)}function bw(s){return new La(s.readTime,s.key,uu)}class La{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new La(Se.min(),ye.empty(),uu)}static max(){return new La(Se.max(),ye.empty(),uu)}}function Ew(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const Tw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Jl(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Tw)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,c=0,f=!1;e.forEach((y=>{++o,y.next((()=>{++c,f&&c===o&&i()}),(b=>r(b)))})),f=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const c=e.length,f=new Array(c);let y=0;for(let b=0;b<c;b++){const _=b;i(e[_]).next((x=>{f[_]=x,++y,y===c&&r(f)}),(x=>o(x)))}}))}static doWhile(e,i){return new J(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function ww(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Zl(s){return s.name==="IndexedDbTransactionError"}class Uh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;const lp=-1;function Lh(s){return s==null}function _h(s){return s===0&&1/s==-1/0}function Aw(s){return typeof s=="number"&&Number.isInteger(s)&&!_h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Db="";function Sw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=B_(e)),e=Nw(s.get(i),e);return B_(e)}function Nw(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Db:i+="";break;default:i+=c}}return i}function B_(s){return s+Db+""}function q_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ga(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function kb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||cn.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??cn.RED,this.left=o??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new cn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new cn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new ni([])}unionWith(e){let i=new Xt(hn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ni(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Mb("Invalid base64 string: "+c):c}})(e);return new dn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new dn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const Cw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=Cw.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(s.seconds),nanos:Ot(s.nanos)}}function Ot(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ba(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}const Ob="server_timestamp",jb="__type__",Vb="__previous_value__",zb="__local_write_time__";function op(s){return(s?.mapValue?.fields||{})[jb]?.stringValue===Ob}function Ph(s){const e=s.mapValue.fields[Vb];return op(e)?Ph(e):e}function cu(s){const e=Pa(s.mapValue.fields[zb].timestampValue);return new gt(e.seconds,e.nanos)}class Rw{constructor(e,i,r,o,c,f,y,b,_,x,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=b,this.useFetchStreams=_,this.isUsingEmulator=x,this.apiKey=A}}const vh="(default)";class hu{constructor(e,i){this.projectId=e,this.database=i||vh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}function Iw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(s.options.projectId,e)}const Ub="__type__",Dw="__max__",$c={mapValue:{}},Lb="__vector__",bh="value";function qa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?op(s)?4:Mw(s)?9007199254740991:kw(s)?10:11:Ee(28295,{value:s})}function rs(s,e){if(s===e)return!0;const i=qa(s);if(i!==qa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return cu(s).isEqual(cu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Pa(o.timestampValue),y=Pa(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ba(o.bytesValue).isEqual(Ba(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ot(o.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ot(o.integerValue)===Ot(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Ot(o.doubleValue),y=Ot(c.doubleValue);return f===y?_h(f)===_h(y):isNaN(f)&&isNaN(y)}return!1})(s,e);case 9:return Bl(s.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},y=c.mapValue.fields||{};if(q_(f)!==q_(y))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(y[b]===void 0||!rs(f[b],y[b])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function du(s,e){return(s.values||[]).find((i=>rs(i,e)))!==void 0}function ql(s,e){if(s===e)return 0;const i=qa(s),r=qa(e);if(i!==r)return Be(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const y=Ot(c.integerValue||c.doubleValue),b=Ot(f.integerValue||f.doubleValue);return y<b?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1})(s,e);case 3:return F_(s.timestampValue,e.timestampValue);case 4:return F_(cu(s),cu(e));case 5:return Om(s.stringValue,e.stringValue);case 6:return(function(c,f){const y=Ba(c),b=Ba(f);return y.compareTo(b)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const y=c.split("/"),b=f.split("/");for(let _=0;_<y.length&&_<b.length;_++){const x=Be(y[_],b[_]);if(x!==0)return x}return Be(y.length,b.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const y=Be(Ot(c.latitude),Ot(f.latitude));return y!==0?y:Be(Ot(c.longitude),Ot(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return G_(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const y=c.fields||{},b=f.fields||{},_=y[bh]?.arrayValue,x=b[bh]?.arrayValue,A=Be(_?.values?.length||0,x?.values?.length||0);return A!==0?A:G_(_,x)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===$c.mapValue&&f===$c.mapValue)return 0;if(c===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const y=c.fields||{},b=Object.keys(y),_=f.fields||{},x=Object.keys(_);b.sort(),x.sort();for(let A=0;A<b.length&&A<x.length;++A){const D=Om(b[A],x[A]);if(D!==0)return D;const Q=ql(y[b[A]],_[x[A]]);if(Q!==0)return Q}return Be(b.length,x.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function F_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=Pa(s),r=Pa(e),o=Be(i.seconds,r.seconds);return o!==0?o:Be(i.nanos,r.nanos)}function G_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=ql(i[o],r[o]);if(c)return c}return Be(i.length,r.length)}function Hl(s){return jm(s)}function jm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Pa(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ba(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=jm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${jm(i.fields[f])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function lh(s){switch(qa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(s);return e?16+lh(e):16;case 5:return 2*s.stringValue.length;case 6:return Ba(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+lh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ga(r.fields,((c,f)=>{o+=c.length+lh(f)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function K_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Vm(s){return!!s&&"integerValue"in s}function up(s){return!!s&&"arrayValue"in s}function Q_(s){return!!s&&"nullValue"in s}function Y_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function oh(s){return!!s&&"mapValue"in s}function kw(s){return(s?.mapValue?.fields||{})[Ub]?.stringValue===Lb}function iu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ga(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=iu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=iu(s.arrayValue.values[i]);return e}return{...s}}function Mw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Dw}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!oh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(i)}setAll(e){let i=hn.emptyPath(),r={},o=[];e.forEach(((f,y)=>{if(!i.isImmediateParentOf(y)){const b=this.getFieldsMap(i);this.applyChanges(b,r,o),r={},o=[],i=y.popLast()}f?r[y.lastSegment()]=iu(f):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());oh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ga(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Pn(iu(this.value))}}function Pb(s){const e=[];return Ga(s.fields,((i,r)=>{const o=new hn([i]);if(oh(r)){const c=Pb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new ni(e)}class vn{constructor(e,i,r,o,c,f,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=y}static newInvalidDocument(e){return new vn(e,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(e,i,r,o){return new vn(e,1,i,Se.min(),r,o,0)}static newNoDocument(e,i){return new vn(e,2,i,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(e,i){return new vn(e,3,i,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,i){this.position=e,this.inclusive=i}}function X_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),i.key):r=ql(f,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function $_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!rs(s.position[i],e.position[i]))return!1;return!0}class Th{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ow(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Bb{}class Ht extends Bb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Vw(e,i,r):i==="array-contains"?new Lw(e,r):i==="in"?new Pw(e,r):i==="not-in"?new Bw(e,r):i==="array-contains-any"?new qw(e,r):new Ht(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new zw(e,r):new Uw(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ql(i,this.value)):i!==null&&qa(this.value)===qa(i)&&this.matchesComparison(ql(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends Bb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zi(e,i)}matches(e){return qb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qb(s){return s.op==="and"}function Hb(s){return jw(s)&&qb(s)}function jw(s){for(const e of s.filters)if(e instanceof zi)return!1;return!0}function zm(s){if(s instanceof Ht)return s.field.canonicalString()+s.op.toString()+Hl(s.value);if(Hb(s))return s.filters.map((e=>zm(e))).join(",");{const e=s.filters.map((i=>zm(i))).join(",");return`${s.op}(${e})`}}function Fb(s,e){return s instanceof Ht?(function(r,o){return o instanceof Ht&&r.op===o.op&&r.field.isEqual(o.field)&&rs(r.value,o.value)})(s,e):s instanceof zi?(function(r,o){return o instanceof zi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,y)=>c&&Fb(f,o.filters[y])),!0):!1})(s,e):void Ee(19439)}function Gb(s){return s instanceof Ht?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hl(i.value)}`})(s):s instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Gb).join(" ,")+"}"})(s):"Filter"}class Vw extends Ht{constructor(e,i,r){super(e,i,r),this.key=ye.fromName(r.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class zw extends Ht{constructor(e,i){super(e,"in",i),this.keys=Kb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Uw extends Ht{constructor(e,i){super(e,"not-in",i),this.keys=Kb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Kb(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class Lw extends Ht{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return up(i)&&du(i.arrayValue,this.value)}}class Pw extends Ht{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&du(this.value.arrayValue,i)}}class Bw extends Ht{constructor(e,i){super(e,"not-in",i)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!du(this.value.arrayValue,i)}}class qw extends Ht{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!up(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>du(this.value.arrayValue,r)))}}class Hw{constructor(e,i=null,r=[],o=[],c=null,f=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=y,this.Te=null}}function J_(s,e=null,i=[],r=[],o=null,c=null,f=null){return new Hw(s,e,i,r,o,c,f)}function cp(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>zm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Lh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Hl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Hl(r))).join(",")),e.Te=i}return e.Te}function hp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Ow(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Fb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!$_(s.startAt,e.startAt)&&$_(s.endAt,e.endAt)}function Um(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class vu{constructor(e,i=null,r=[],o=[],c=null,f="F",y=null,b=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=b,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Fw(s,e,i,r,o,c,f,y){return new vu(s,e,i,r,o,c,f,y)}function Bh(s){return new vu(s)}function Z_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Gw(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Qb(s){return s.collectionGroup!==null}function su(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new Xt(hn.comparator);return f.filters.forEach((b=>{b.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Th(c,r))})),i.has(hn.keyField().canonicalString())||e.Ie.push(new Th(hn.keyField(),r))}return e.Ie}function ts(s){const e=Ce(s);return e.Ee||(e.Ee=Kw(e,su(s))),e.Ee}function Kw(s,e){if(s.limitType==="F")return J_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Th(o.field,c)}));const i=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return J_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Lm(s,e){const i=s.filters.concat([e]);return new vu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Pm(s,e,i){return new vu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function qh(s,e){return hp(ts(s),ts(e))&&s.limitType===e.limitType}function Yb(s){return`${cp(ts(s))}|lt:${s.limitType}`}function Rl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Gb(o))).join(", ")}]`),Lh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Hl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Hl(o))).join(",")),`Target(${r})`})(ts(s))}; limitType=${s.limitType})`}function Hh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of su(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,y,b){const _=X_(f,y,b);return f.inclusive?_<=0:_<0})(r.startAt,su(r),o)||r.endAt&&!(function(f,y,b){const _=X_(f,y,b);return f.inclusive?_>=0:_>0})(r.endAt,su(r),o))})(s,e)}function Qw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Xb(s){return(e,i)=>{let r=!1;for(const o of su(s)){const c=Yw(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Yw(s,e,i){const r=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,f,y){const b=f.data.field(c),_=y.data.field(c);return b!==null&&_!==null?ql(b,_):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}class jr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return kb(this.inner)}size(){return this.innerSize}}const Xw=new wt(ye.comparator);function zs(){return Xw}const $b=new wt(ye.comparator);function Wo(...s){let e=$b;for(const i of s)e=e.insert(i.key,i);return e}function Jb(s){let e=$b;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Nr(){return au()}function Zb(){return au()}function au(){return new jr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const $w=new wt(ye.comparator),Jw=new Xt(ye.comparator);function qe(...s){let e=Jw;for(const i of s)e=e.add(i);return e}const Zw=new Xt(Be);function Ww(){return Zw}function dp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function Wb(s){return{integerValue:""+s}}function eA(s,e){return Aw(e)?Wb(e):dp(s,e)}class Fh{constructor(){this._=void 0}}function tA(s,e,i){return s instanceof fu?(function(o,c){const f={fields:{[jb]:{stringValue:Ob},[zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&op(c)&&(c=Ph(c)),c&&(f.fields[Vb]=c),{mapValue:f}})(i,e):s instanceof Fl?t1(s,e):s instanceof mu?n1(s,e):(function(o,c){const f=e1(o,c),y=W_(f)+W_(o.Ae);return Vm(f)&&Vm(o.Ae)?Wb(y):dp(o.serializer,y)})(s,e)}function nA(s,e,i){return s instanceof Fl?t1(s,e):s instanceof mu?n1(s,e):i}function e1(s,e){return s instanceof xh?(function(r){return Vm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class fu extends Fh{}class Fl extends Fh{constructor(e){super(),this.elements=e}}function t1(s,e){const i=i1(e);for(const r of s.elements)i.some((o=>rs(o,r)))||i.push(r);return{arrayValue:{values:i}}}class mu extends Fh{constructor(e){super(),this.elements=e}}function n1(s,e){let i=i1(e);for(const r of s.elements)i=i.filter((o=>!rs(o,r)));return{arrayValue:{values:i}}}class xh extends Fh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function W_(s){return Ot(s.integerValue||s.doubleValue)}function i1(s){return up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class s1{constructor(e,i){this.field=e,this.transform=i}}function iA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Fl&&o instanceof Fl||r instanceof mu&&o instanceof mu?Bl(r.elements,o.elements,rs):r instanceof xh&&o instanceof xh?rs(r.Ae,o.Ae):r instanceof fu&&o instanceof fu})(s.transform,e.transform)}class sA{constructor(e,i){this.version=e,this.transformResults=i}}class Bn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Gh{}function a1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Kh(s.key,Bn.none()):new bu(s.key,s.data,Bn.none());{const i=s.data,r=Pn.empty();let o=new Xt(hn.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Ka(s.key,r,new ni(o.toArray()),Bn.none())}}function aA(s,e,i){s instanceof bu?(function(o,c,f){const y=o.value.clone(),b=tv(o.fieldTransforms,c,f.transformResults);y.setAll(b),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ka?(function(o,c,f){if(!uh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const y=tv(o.fieldTransforms,c,f.transformResults),b=c.data;b.setAll(r1(o)),b.setAll(y),c.convertToFoundDocument(f.version,b).setHasCommittedMutations()})(s,e,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function ru(s,e,i,r){return s instanceof bu?(function(c,f,y,b){if(!uh(c.precondition,f))return y;const _=c.value.clone(),x=nv(c.fieldTransforms,b,f);return _.setAll(x),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ka?(function(c,f,y,b){if(!uh(c.precondition,f))return y;const _=nv(c.fieldTransforms,b,f),x=f.data;return x.setAll(r1(c)),x.setAll(_),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,f,y){return uh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(s,e,i)}function rA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=e1(r.transform,o||null);c!=null&&(i===null&&(i=Pn.empty()),i.set(r.field,c))}return i||null}function ev(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Bl(r,o,((c,f)=>iA(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class bu extends Gh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ka extends Gh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function r1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function tv(s,e,i){const r=new Map;et(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],f=c.transform,y=e.data.field(c.field);r.set(c.field,nA(f,y,i[o]))}return r}function nv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,f=i.data.field(o.field);r.set(o.field,tA(c,f,e))}return r}class Kh extends Gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lA extends Gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&aA(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ru(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ru(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Zb();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let y=this.applyToLocalView(f,c.mutatedFields);y=i.has(o.key)?null:y;const b=a1(f,y);b!==null&&r.set(o.key,b),f.isValidDocument()||f.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((i,r)=>ev(i,r)))&&Bl(this.baseMutations,e.baseMutations,((i,r)=>ev(i,r)))}}class fp{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return $w})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new fp(e,i,r,o)}}class uA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cA{constructor(e,i){this.count=e,this.unchangedNames=i}}var qt,Fe;function hA(s){switch(s){case X.OK:return Ee(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function l1(s){if(s===void 0)return Vs("GRPC error has no .code"),X.UNKNOWN;switch(s){case qt.OK:return X.OK;case qt.CANCELLED:return X.CANCELLED;case qt.UNKNOWN:return X.UNKNOWN;case qt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case qt.INTERNAL:return X.INTERNAL;case qt.UNAVAILABLE:return X.UNAVAILABLE;case qt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case qt.NOT_FOUND:return X.NOT_FOUND;case qt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case qt.ABORTED:return X.ABORTED;case qt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case qt.DATA_LOSS:return X.DATA_LOSS;default:return Ee(39323,{code:s})}}(Fe=qt||(qt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function dA(){return new TextEncoder}const fA=new Va([4294967295,4294967295],0);function iv(s){const e=dA().encode(s),i=new Eb;return i.update(e),new Uint8Array(i.digest())}function sv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Va([i,r],0),new Va([o,c],0)]}class mp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new eu(`Invalid padding: ${i}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new eu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Va.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Va.fromNumber(r)));return o.compare(fA)===1&&(o=new Va([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=iv(e),[r,o]=sv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new mp(c,o,i);return r.forEach((y=>f.insert(y))),f}insert(e){if(this.ge===0)return;const i=iv(e),[r,o]=sv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.be(f)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Qh(Se.min(),o,new wt(Be),zs(),qe())}}class Eu{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Eu(r,i,qe(),qe(),qe())}}class ch{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class o1{constructor(e,i){this.targetId=e,this.Ce=i}}class u1{constructor(e,i,r=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class av{constructor(){this.ve=0,this.Fe=rv(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),r=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:c})}})),new Eu(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=rv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mA{constructor(e){this.Ge=e,this.ze=new Map,this.je=zs(),this.He=Jc(),this.Je=Jc(),this.Ze=new wt(Be)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Um(c))if(r===0){const f=new ye(c.path);this.et(i,f,vn.newNoDocument(f,Se.min()))}else et(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const y=this.ut(e),b=y?this.ct(y,e,f):1;if(b!==0){this.it(i);const _=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let f,y;try{f=Ba(r).toUint8Array()}catch(b){if(b instanceof Mb)return kr("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{y=new mp(f,o,c)}catch(b){return kr(b instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const y=this.ot(f);if(y){if(c.current&&Um(y.target)){const b=new ye(y.target.path);this.It(b).has(f)||this.Et(f,b)||this.et(f,b,vn.newNoDocument(b,e))}c.Be&&(i.set(f,c.ke()),c.Ke())}}));let r=qe();this.Je.forEach(((c,f)=>{let y=!0;f.forEachWhile((b=>{const _=this.ot(b);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Qh(e,i,this.Ze,this.je,r);return this.je=zs(),this.He=Jc(),this.Je=Jc(),this.Ze=new wt(Be),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new av,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Xt(Be),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Xt(Be),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new av),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Jc(){return new wt(ye.comparator)}function rv(){return new wt(ye.comparator)}const pA={asc:"ASCENDING",desc:"DESCENDING"},gA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yA={and:"AND",or:"OR"};class _A{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bm(s,e){return s.useProto3Json||Lh(e)?e:{value:e}}function wh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function vA(s,e){return wh(s,e.toTimestamp())}function ns(s){return et(!!s,49232),Se.fromTimestamp((function(i){const r=Pa(i);return new gt(r.seconds,r.nanos)})(s))}function pp(s,e){return qm(s,e).canonicalString()}function qm(s,e){const i=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function h1(s){const e=ht.fromString(s);return et(g1(e),10190,{key:e.toString()}),e}function Hm(s,e){return pp(s.databaseId,e.path)}function dm(s,e){const i=h1(e);if(i.get(1)!==s.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(f1(i))}function d1(s,e){return pp(s.databaseId,e)}function bA(s){const e=h1(s);return e.length===4?ht.emptyPath():f1(e)}function Fm(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function f1(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function lv(s,e,i){return{name:Hm(s,e),fields:i.value.mapValue.fields}}function EA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(et(x===void 0||typeof x=="string",58123),dn.fromBase64String(x||"")):(et(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),dn.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&(function(_){const x=_.code===void 0?X.UNKNOWN:l1(_.code);return new oe(x,_.message||"")})(f);i=new u1(r,o,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=dm(s,r.document.name),c=ns(r.document.updateTime),f=r.document.createTime?ns(r.document.createTime):Se.min(),y=new Pn({mapValue:{fields:r.document.fields}}),b=vn.newFoundDocument(o,c,f,y),_=r.targetIds||[],x=r.removedTargetIds||[];i=new ch(_,x,b.key,b)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=dm(s,r.document),c=r.readTime?ns(r.readTime):Se.min(),f=vn.newNoDocument(o,c),y=r.removedTargetIds||[];i=new ch([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=dm(s,r.document),c=r.removedTargetIds||[];i=new ch([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new cA(o,c),y=r.targetId;i=new o1(y,f)}}return i}function TA(s,e){let i;if(e instanceof bu)i={update:lv(s,e.key,e.value)};else if(e instanceof Kh)i={delete:Hm(s,e.key)};else if(e instanceof Ka)i={update:lv(s,e.key,e.data),updateMask:DA(e.fieldMask)};else{if(!(e instanceof lA))return Ee(16599,{dt:e.type});i={verify:Hm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const y=f.transform;if(y instanceof fu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Fl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof xh)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw Ee(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:vA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function xA(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(o,c){let f=o.updateTime?ns(o.updateTime):ns(c);return f.isEqual(Se.min())&&(f=ns(c)),new sA(f,o.transformResults||[])})(i,e)))):[]}function wA(s,e){return{documents:[d1(s,e.path)]}}function AA(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=d1(s,o);const c=(function(_){if(_.length!==0)return p1(zi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(_){if(_.length!==0)return _.map((x=>(function(D){return{field:Il(D.field),direction:CA(D.dir)}})(x)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const y=Bm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function SA(s){let e=bA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){et(r===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(A){const D=m1(A);return D instanceof zi&&Hb(D)?D.getFilters():[D]})(i.where));let f=[];i.orderBy&&(f=(function(A){return A.map((D=>(function(W){return new Th(Dl(W.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let D;return D=typeof A=="object"?A.value:A,Lh(D)?null:D})(i.limit));let b=null;i.startAt&&(b=(function(A){const D=!!A.before,Q=A.values||[];return new Eh(Q,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const D=!A.before,Q=A.values||[];return new Eh(Q,D)})(i.endAt)),Fw(e,o,f,c,y,"F",b,_)}function NA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function m1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Dl(i.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Dl(i.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(i.unaryFilter.field);return Ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Dl(i.unaryFilter.field);return Ht.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ht.create(Dl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((r=>m1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function CA(s){return pA[s]}function RA(s){return gA[s]}function IA(s){return yA[s]}function Il(s){return{fieldPath:s.canonicalString()}}function Dl(s){return hn.fromServerFormat(s.fieldPath)}function p1(s){return s instanceof Ht?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NAN"}};if(Q_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NAN"}};if(Q_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(i.field),op:RA(i.op),value:i.value}}})(s):s instanceof zi?(function(i){const r=i.getFilters().map((o=>p1(o)));return r.length===1?r[0]:{compositeFilter:{op:IA(i.op),filters:r}}})(s):Ee(54877,{filter:s})}function DA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function g1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function y1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ka{constructor(e,i,r,o,c=Se.min(),f=Se.min(),y=dn.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=b}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kA{constructor(e){this.yt=e}}function MA(s){const e=SA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pm(e,e.limit,"L"):e}class OA{constructor(){this.Sn=new jA}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(La.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(La.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class jA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Xt(ht.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Xt(ht.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(_1,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Gl(0)}static ar(){return new Gl(-1)}}const uv="LruGarbageCollector",VA=1048576;function cv([s,e],[i,r]){const o=Be(s,i);return o===0?Be(e,r):o}class zA{constructor(e){this.Pr=e,this.buffer=new Xt(cv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();cv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class UA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Zl(i)?ce(uv,"Ignoring IndexedDB error during garbage collection: ",i):await Jl(i)}await this.Ar(3e5)}))}}class LA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Uh.ce);const r=new zA(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ov)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,f,y,b,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,y=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,b=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),Cl()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-x}ms
	Determined least recently used ${o} in `+(y-f)+`ms
	Removed ${c} targets in `+(b-y)+`ms
	Removed ${A} documents in `+(_-b)+`ms
Total Duration: ${_-x}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function PA(s,e){return new LA(s,e)}class BA{constructor(){this.changes=new jr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class HA{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ru(r.mutation,o,ni.empty(),gt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=qe()){const o=Nr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let f=Wo();return c.forEach(((y,b)=>{f=f.insert(y,b.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const r=Nr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,qe())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,y)=>{i.set(f,y)}))}))}computeViews(e,i,r,o){let c=zs();const f=au(),y=(function(){return au()})();return i.forEach(((b,_)=>{const x=r.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof Ka)?c=c.insert(_.key,_):x!==void 0?(f.set(_.key,x.mutation.getFieldMask()),ru(x.mutation,_,x.mutation.getFieldMask(),gt.now())):f.set(_.key,ni.empty())})),this.recalculateAndSaveOverlays(e,c).next((b=>(b.forEach(((_,x)=>f.set(_,x))),i.forEach(((_,x)=>y.set(_,new qA(x,f.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=au();let o=new wt(((f,y)=>f-y)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const y of f)y.keys().forEach((b=>{const _=i.get(b);if(_===null)return;let x=r.get(b)||ni.empty();x=y.applyToLocalView(_,x),r.set(b,x);const A=(o.get(y.batchId)||qe()).add(b);o=o.insert(y.batchId,A)}))})).next((()=>{const f=[],y=o.getReverseIterator();for(;y.hasNext();){const b=y.getNext(),_=b.key,x=b.value,A=Zb();x.forEach((D=>{if(!c.has(D)){const Q=a1(i.get(D),r.get(D));Q!==null&&A.set(D,Q),c=c.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,A))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return Gw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Qb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):J.resolve(Nr());let y=uu,b=c;return f.next((_=>J.forEach(_,((x,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(x)?J.resolve():this.remoteDocumentCache.getEntry(e,x).next((D=>{b=b.insert(x,D)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,b,_,qe()))).next((x=>({batchId:y,changes:Jb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((r=>{let o=Wo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let f=Wo();return this.indexManager.getCollectionParents(e,c).next((y=>J.forEach(y,(b=>{const _=(function(A,D){return new vu(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,b.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((x=>{x.forEach(((A,D)=>{f=f.insert(A,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((f=>{c.forEach(((b,_)=>{const x=_.getKey();f.get(x)===null&&(f=f.insert(x,vn.newInvalidDocument(x)))}));let y=Wo();return f.forEach(((b,_)=>{const x=c.get(b);x!==void 0&&ru(x.mutation,_,ni.empty(),gt.now()),Hh(i,_)&&(y=y.insert(b,_))})),y}))}}class FA{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ns(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:MA(o.bundledQuery),readTime:ns(o.readTime)}})(i)),J.resolve()}}class GA{constructor(){this.overlays=new wt(ye.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Nr();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=Nr(),c=i.length+1,f=new ye(i.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const b=y.getNext().value,_=b.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&b.largestBatchId>r&&o.set(b.getKey(),b)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new wt(((_,x)=>_-x));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let x=c.get(_.largestBatchId);x===null&&(x=Nr(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const y=Nr(),b=c.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((_,x)=>y.set(_,x))),!(y.size()>=o)););return J.resolve(y)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new uA(i,r));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class KA{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class gp{constructor(){this.kr=new Xt(tn.Kr),this.qr=new Xt(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new tn(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new tn(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ye(new ht([])),r=new tn(i,e),o=new tn(i,e+1),c=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ye(new ht([])),r=new tn(i,e),o=new tn(i,e+1);let c=qe();return this.qr.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new tn(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ye.comparator(e.key,i.key)||Be(e.Hr,i.Hr)}static Ur(e,i){return Be(e.Hr,i.Hr)||ye.comparator(e.key,i.key)}}class QA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(tn.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oA(c,i,r,o);this.mutationQueue.push(f);for(const y of o)this.Jr=this.Jr.add(new tn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?lp:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(f=>{const y=this.Zr(f.Hr);c.push(y)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Xt(Be);return i.forEach((o=>{const c=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(y=>{r=r.add(y.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const f=new tn(new ye(c),0);let y=new Xt(Be);return this.Jr.forEachWhile((b=>{const _=b.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(b.Hr)),!0)}),f),J.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(i.mutations,(o=>{const c=new tn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new tn(i,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class YA{constructor(e){this.ti=e,this.docs=(function(){return new wt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,f=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(e,i){let r=zs();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():vn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=zs();const f=i.path,y=new ye(f.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(y);for(;b.hasNext();){const{key:_,value:{document:x}}=b.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||Ew(bw(x),r)<=0||(o.has(x.key)||Hh(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Ee(9500)}ni(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new XA(this)}getSize(e){return J.resolve(this.size)}}class XA extends BA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class $A{constructor(e){this.persistence=e,this.ri=new jr((i=>cp(i)),hp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new gp,this.targetCount=0,this.oi=Gl._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Gl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((f,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),J.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class v1{constructor(e,i){this._i={},this.overlays={},this.ai=new Uh(0),this.ui=!1,this.ui=!0,this.ci=new KA,this.referenceDelegate=e(this),this.li=new $A(this),this.indexManager=new OA,this.remoteDocumentCache=(function(o){return new YA(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new kA(i),this.Pi=new FA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new GA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new QA(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const o=new JA(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class JA extends xw{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new gp,this.Ai=null}static Vi(e){return new yp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=ye.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Ah{constructor(e,i){this.persistence=e,this.fi=new jr((r=>Sw(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=PA(this,i)}static Vi(e,i){return new Ah(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,i).next((y=>{y||(r++,c.removeEntry(f,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=lh(e.data.value)),i}wr(e,i,r){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _p{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new _p(e,i.fromCache,r,o)}}class ZA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Bx()?8:ww(bn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new ZA;return this.ys(e,i,f).next((y=>{if(c.result=y,this.As)return this.ws(e,i,f,y.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Cl()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Rl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Cl()<=Pe.DEBUG&&ce("QueryEngine","Query:",Rl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Cl()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Rl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(i))):J.resolve())}gs(e,i){if(Z_(i))return J.resolve(null);let r=ts(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Pm(i,null,"F"),r=ts(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=qe(...c);return this.fs.getDocuments(e,f).next((y=>this.indexManager.getMinOffset(e,r).next((b=>{const _=this.bs(i,y);return this.Ss(i,_,f,b.readTime)?this.gs(e,Pm(i,null,"F")):this.Ds(e,_,i,b)}))))})))))}ps(e,i,r,o){return Z_(i)||o.isEqual(Se.min())?J.resolve(null):this.fs.getDocuments(e,r).next((c=>{const f=this.bs(i,c);return this.Ss(i,f,r,o)?J.resolve(null):(Cl()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rl(i)),this.Ds(e,f,i,vw(o,uu)).next((y=>y)))}))}bs(e,i){let r=new Xt(Xb(e));return i.forEach(((o,c)=>{Hh(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return Cl()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Rl(i)),this.fs.getDocumentsMatchingQuery(e,i,La.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const vp="LocalStore",eS=3e8;class tS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new wt(Be),this.Fs=new jr((c=>cp(c)),hp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function nS(s,e,i,r){return new tS(s,e,i,r)}async function b1(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],y=[];let b=qe();for(const _ of o){f.push(_.batchId);for(const x of _.mutations)b=b.add(x.key)}for(const _ of c){y.push(_.batchId);for(const x of _.mutations)b=b.add(x.key)}return i.localDocuments.getDocuments(r,b).next((_=>({Ns:_,removedBatchIds:f,addedBatchIds:y})))}))}))}function iS(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,b,_,x){const A=_.batch,D=A.keys();let Q=J.resolve();return D.forEach((W=>{Q=Q.next((()=>x.getEntry(b,W))).next((re=>{const ie=_.docVersions.get(W);et(ie!==null,48541),re.version.compareTo(ie)<0&&(A.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),x.addEntry(re)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(b,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let b=qe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(b=b.add(y.batch.mutations[_].key));return b})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function E1(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function sS(s,e){const i=Ce(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((x,A)=>{const D=o.get(A);if(!D)return;y.push(i.li.removeMatchingKeys(c,x.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,x.addedDocuments,A))));let Q=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Q=Q.withResumeToken(dn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):x.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(x.resumeToken,r)),o=o.insert(A,Q),(function(re,ie,de){return re.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=eS?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(D,Q,x)&&y.push(i.li.updateTargetData(c,Q))}));let b=zs(),_=qe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),y.push(aS(c,f,e.documentUpdates).next((x=>{b=x.Bs,_=x.Ls}))),!r.isEqual(Se.min())){const x=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(x)}return J.waitFor(y).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,b,_))).next((()=>b))})).then((c=>(i.vs=o,c)))}function aS(s,e,i){let r=qe(),o=qe();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let f=zs();return i.forEach(((y,b)=>{const _=c.get(y);b.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),b.isNoDocument()&&b.version.isEqual(Se.min())?(e.removeEntry(y,b.readTime),f=f.insert(y,b)):!_.isValidDocument()||b.version.compareTo(_.version)>0||b.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(b),f=f.insert(y,b)):ce(vp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",b.version)})),{Bs:f,Ls:o}}))}function rS(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=lp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lS(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(r).next((f=>(o=new ka(e,f,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Gm(s,e,i){const r=Ce(s),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Zl(f))throw f;ce(vp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function hv(s,e,i){const r=Ce(s);let o=Se.min(),c=qe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(b,_,x){const A=Ce(b),D=A.Fs.get(x);return D!==void 0?J.resolve(A.vs.get(D)):A.li.getTargetData(_,x)})(r,f,ts(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,y.targetId).next((b=>{c=b}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,i?o:Se.min(),i?c:qe()))).next((y=>(oS(r,Qw(e),y),{documents:y,ks:c})))))}function oS(s,e,i){let r=s.Ms.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class dv{constructor(){this.activeTargetIds=Ww()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uS{constructor(){this.vo=new dv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new dv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cS{Mo(e){}shutdown(){}}const fv="ConnectivityMonitor";class mv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Km(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const fm="RestConnection",hS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class dS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const f=Km(),y=this.Qo(e,i.toUriEncodedString());ce(fm,`Sending RPC '${e}' ${f}:`,y,r);const b={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(b,o,c);const{host:_}=new URL(y),x=Yl(_);return this.zo(e,y,b,r,x).then((A=>(ce(fm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw kr(fm,`RPC '${e}' ${f} failed with error: `,A,"url: ",y,"request:",r),A}))}jo(e,i,r,o,c,f){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=hS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class fS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const yn="WebChannelConnection",Xo=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class jl extends dS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!jl.c_){const e=Ab();Xo(e,wb.STAT_EVENT,(i=>{i.stat===Mm.PROXY?ce(yn,"STAT_EVENT: detected buffering proxy"):i.stat===Mm.NOPROXY&&ce(yn,"STAT_EVENT: detected no buffering proxy")})),jl.c_=!0}}zo(e,i,r,o,c){const f=Km();return new Promise(((y,b)=>{const _=new Tb;_.setWithCredentials(!0),_.listenOnce(xb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case rh.NO_ERROR:const A=_.getResponseJson();ce(yn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),y(A);break;case rh.TIMEOUT:ce(yn,`RPC '${e}' ${f} timed out`),b(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const D=_.getStatus();if(ce(yn,`RPC '${e}' ${f} failed with status:`,D,"response text:",_.getResponseText()),D>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const re=(function(de){const _e=de.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_e)>=0?_e:X.UNKNOWN})(W.status);b(new oe(re,W.message))}else b(new oe(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else b(new oe(X.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(yn,`RPC '${e}' ${f} completed.`)}}));const x=JSON.stringify(o);ce(yn,`RPC '${e}' ${f} sending request:`,o),_.send(i,"POST",x,r,15)}))}T_(e,i,r){const o=Km(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const _=c.join("");ce(yn,`Creating RPC '${e}' stream ${o}: ${_}`,y);const x=f.createWebChannel(_,y);this.I_(x);let A=!1,D=!1;const Q=new fS({Ho:W=>{D?ce(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(A||(ce(yn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),ce(yn,`RPC '${e}' stream ${o} sending:`,W),x.send(W))},Jo:()=>x.close()});return Xo(x,Zo.EventType.OPEN,(()=>{D||(ce(yn,`RPC '${e}' stream ${o} transport opened.`),Q.i_())})),Xo(x,Zo.EventType.CLOSE,(()=>{D||(D=!0,ce(yn,`RPC '${e}' stream ${o} transport closed`),Q.o_(),this.E_(x))})),Xo(x,Zo.EventType.ERROR,(W=>{D||(D=!0,kr(yn,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),Q.o_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),Xo(x,Zo.EventType.MESSAGE,(W=>{if(!D){const re=W.data[0];et(!!re,16349);const ie=re,de=ie?.error||ie[0]?.error;if(de){ce(yn,`RPC '${e}' stream ${o} received error:`,de);const _e=de.status;let Te=(function(Me){const R=qt[Me];if(R!==void 0)return l1(R)})(_e),xe=de.message;_e==="NOT_FOUND"&&xe.includes("database")&&xe.includes("does not exist")&&xe.includes(this.databaseId.database)&&kr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Te===void 0&&(Te=X.INTERNAL,xe="Unknown error status: "+_e+" with message "+de.message),D=!0,Q.o_(new oe(Te,xe)),x.close()}else ce(yn,`RPC '${e}' stream ${o} received:`,re),Q.__(re)}})),jl.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Sb()}}function mS(s){return new jl(s)}function mm(){return typeof document<"u"?document:null}function Yh(s){return new _A(s,!0)}jl.c_=!1;class T1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const pv="PersistentStream";class x1{constructor(e,i,r,o,c,f,y,b){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Vs(i.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(pv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ce(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pS extends x1{constructor(e,i,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=EA(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?ns(f.readTime):Se.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Fm(this.serializer),i.addTarget=(function(c,f){let y;const b=f.target;if(y=Um(b)?{documents:wA(c,b)}:{query:AA(c,b).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=c1(c,f.resumeToken);const _=Bm(c,f.expectedCount);_!==null&&(y.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){y.readTime=wh(c,f.snapshotVersion.toTimestamp());const _=Bm(c,f.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=NA(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Fm(this.serializer),i.removeTarget=e,this.K_(i)}}class gS extends x1{constructor(e,i,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=xA(e.writeResults,e.commitTime),r=ns(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Fm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>TA(this.serializer,r)))};this.K_(i)}}class yS{}class _S extends yS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,qm(i,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(X.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.jo(e,qm(i,r),o,f,y,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vS(s,e,i,r){return new _S(s,e,i,r)}class bS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Mr="RemoteStore";class ES{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{Vr(this)&&(ce(Mr,"Restarting streams for network reachability change."),await(async function(b){const _=Ce(b);_.Ea.add(4),await Tu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Xh(_)})(this))}))})),this.Va=new bS(r,o)}}async function Xh(s){if(Vr(s))for(const e of s.Ra)await e(!0)}async function Tu(s){for(const e of s.Ra)await e(!1)}function w1(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xp(i)?Tp(i):Wl(i).O_()&&Ep(i,e))}function bp(s,e){const i=Ce(s),r=Wl(i);i.Ia.delete(e),r.O_()&&A1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Vr(i)&&i.Va.set("Unknown"))}function Ep(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Wl(s).Z_(e)}function A1(s,e){s.da.$e(e),Wl(s).X_(e)}function Tp(s){s.da=new mA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Wl(s).start(),s.Va.ua()}function xp(s){return Vr(s)&&!Wl(s).x_()&&s.Ia.size>0}function Vr(s){return Ce(s).Ea.size===0}function S1(s){s.da=void 0}async function TS(s){s.Va.set("Online")}async function xS(s){s.Ia.forEach(((e,i)=>{Ep(s,e)}))}async function wS(s,e){S1(s),xp(s)?(s.Va.ha(e),Tp(s)):s.Va.set("Unknown")}async function AS(s,e,i){if(s.Va.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,f),o.Ia.delete(y),o.da.removeTarget(y))})(s,e)}catch(r){ce(Mr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(s,r)}else if(e instanceof ch?s.da.Xe(e):e instanceof o1?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const r=await E1(s.localStore);i.compareTo(r)>=0&&await(function(c,f){const y=c.da.Tt(f);return y.targetChanges.forEach(((b,_)=>{if(b.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(b.resumeToken,f))}})),y.targetMismatches.forEach(((b,_)=>{const x=c.Ia.get(b);if(!x)return;c.Ia.set(b,x.withResumeToken(dn.EMPTY_BYTE_STRING,x.snapshotVersion)),A1(c,b);const A=new ka(x.target,b,_,x.sequenceNumber);Ep(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){ce(Mr,"Failed to raise snapshot:",r),await Sh(s,r)}}async function Sh(s,e,i){if(!Zl(e))throw e;s.Ea.add(1),await Tu(s),s.Va.set("Offline"),i||(i=()=>E1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(Mr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Xh(s)}))}function N1(s,e){return e().catch((i=>Sh(s,i,e)))}async function $h(s){const e=Ce(s),i=Ha(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lp;for(;SS(e);)try{const o=await rS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,NS(e,o)}catch(o){await Sh(e,o)}C1(e)&&R1(e)}function SS(s){return Vr(s)&&s.Ta.length<10}function NS(s,e){s.Ta.push(e);const i=Ha(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function C1(s){return Vr(s)&&!Ha(s).x_()&&s.Ta.length>0}function R1(s){Ha(s).start()}async function CS(s){Ha(s).ra()}async function RS(s){const e=Ha(s);for(const i of s.Ta)e.ea(i.mutations)}async function IS(s,e,i){const r=s.Ta.shift(),o=fp.from(r,e,i);await N1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await $h(s)}async function DS(s,e){e&&Ha(s).Y_&&await(async function(r,o){if((function(f){return hA(f)&&f!==X.ABORTED})(o.code)){const c=r.Ta.shift();Ha(r).B_(),await N1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await $h(r)}})(s,e),C1(s)&&R1(s)}async function gv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ce(Mr,"RemoteStore received new credentials");const r=Vr(i);i.Ea.add(3),await Tu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Xh(i)}async function kS(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Xh(i)):e||(i.Ea.add(2),await Tu(i),i.Va.set("Unknown"))}function Wl(s){return s.ma||(s.ma=(function(i,r,o){const c=Ce(i);return c.sa(),new pS(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:TS.bind(null,s),Yo:xS.bind(null,s),t_:wS.bind(null,s),J_:AS.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),xp(s)?Tp(s):s.Va.set("Unknown")):(await s.ma.stop(),S1(s))}))),s.ma}function Ha(s){return s.fa||(s.fa=(function(i,r,o){const c=Ce(i);return c.sa(),new gS(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:CS.bind(null,s),t_:DS.bind(null,s),ta:RS.bind(null,s),na:IS.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await $h(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(Mr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class wp{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const f=Date.now()+r,y=new wp(e,i,f,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(s,e){if(Vs("AsyncQueue",`${e}: ${s}`),Zl(s))return new oe(X.UNAVAILABLE,`${e}: ${s}`);throw s}class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ye.comparator(i.key,r.key):(i,r)=>ye.comparator(i.key,r.key),this.keyedMap=Wo(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class yv{constructor(){this.ga=new wt(ye.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Kl{constructor(e,i,r,o,c,f,y,b,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=b,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,c){const f=[];return i.forEach((y=>{f.push({type:0,doc:y})})),new Kl(e,i,Vl.emptySet(i),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class MS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class OS{constructor(){this.queries=_v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ce(i),c=o.queries;o.queries=_v(),c.forEach(((f,y)=>{for(const b of y.ba)b.onError(r)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function _v(){return new jr((s=>Yb(s)),qh)}async function Sp(s,e){const i=Ce(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new MS,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const y=Ap(f,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Cp(i)}async function Np(s,e){const i=Ce(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function jS(s,e){const i=Ce(s);let r=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const y of f.ba)y.Fa(o)&&(r=!0);f.wa=o}}r&&Cp(i)}function VS(s,e,i){const r=Ce(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function Cp(s){s.Ca.forEach((e=>{e.next()}))}var Qm,vv;(vv=Qm||(Qm={})).Ma="default",vv.Cache="cache";class Rp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class I1{constructor(e){this.key=e}}class D1{constructor(e){this.key=e}}class zS{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=Xb(e),this.tu=new Vl(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new yv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,y=!1;const b=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,A)=>{const D=o.get(x),Q=Hh(this.query,A)?A:null,W=!!D&&this.mutatedKeys.has(D.key),re=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ie=!1;D&&Q?D.data.isEqual(Q.data)?W!==re&&(r.track({type:3,doc:Q}),ie=!0):this.su(D,Q)||(r.track({type:2,doc:Q}),ie=!0,(b&&this.eu(Q,b)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!D&&Q?(r.track({type:0,doc:Q}),ie=!0):D&&!Q&&(r.track({type:1,doc:D}),ie=!0,(b||_)&&(y=!0)),ie&&(Q?(f=f.add(Q),c=re?c.add(x):c.delete(x)):(f=f.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const x=this.query.limitType==="F"?f.last():f.first();f=f.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:f,iu:r,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((x,A)=>(function(Q,W){const re=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:ie})}};return re(Q)-re(W)})(x.type,A.type)||this.eu(x.doc,A.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],b=this.Ya.size===0&&this.current&&!o?1:0,_=b!==this.Xa;return this.Xa=b,f.length!==0||_?{snapshot:new Kl(this.query,e.tu,c,f,e.mutatedKeys,b===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new D1(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new I1(r))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ip="SyncEngine";class US{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class LS{constructor(e){this.key=e,this.hu=!1}}class PS{constructor(e,i,r,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new jr((y=>Yb(y)),qh),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(ye.comparator),this.Au=new Map,this.Vu=new gp,this.du={},this.mu=new Map,this.fu=Gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BS(s,e,i=!0){const r=z1(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await k1(r,e,i,!0),o}async function qS(s,e){const i=z1(s);await k1(i,e,!0,!1)}async function k1(s,e,i,r){const o=await lS(s.localStore,ts(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,i);let y;return r&&(y=await HS(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&i&&w1(s.remoteStore,o),y}async function HS(s,e,i,r,o){s.pu=(A,D,Q)=>(async function(re,ie,de,_e){let Te=ie.view.ru(de);Te.Ss&&(Te=await hv(re.localStore,ie.query,!1).then((({documents:R})=>ie.view.ru(R,Te))));const xe=_e&&_e.targetChanges.get(ie.targetId),dt=_e&&_e.targetMismatches.get(ie.targetId)!=null,Me=ie.view.applyChanges(Te,re.isPrimaryClient,xe,dt);return Ev(re,ie.targetId,Me.au),Me.snapshot})(s,A,D,Q);const c=await hv(s.localStore,e,!0),f=new zS(e,c.ks),y=f.ru(c.documents),b=Eu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=f.applyChanges(y,s.isPrimaryClient,b);Ev(s,i,_.au);const x=new US(e,i,f);return s.Tu.set(e,x),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function FS(s,e,i){const r=Ce(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!qh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&bp(r.remoteStore,o.targetId),Ym(r,o.targetId)})).catch(Jl)):(Ym(r,o.targetId),await Gm(r.localStore,o.targetId,!0))}async function GS(s,e){const i=Ce(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),bp(i.remoteStore,r.targetId))}async function KS(s,e,i){const r=WS(s);try{const o=await(function(f,y){const b=Ce(f),_=gt.now(),x=y.reduce(((Q,W)=>Q.add(W.key)),qe());let A,D;return b.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=zs(),re=qe();return b.xs.getEntries(Q,x).next((ie=>{W=ie,W.forEach(((de,_e)=>{_e.isValidDocument()||(re=re.add(de))}))})).next((()=>b.localDocuments.getOverlayedDocuments(Q,W))).next((ie=>{A=ie;const de=[];for(const _e of y){const Te=rA(_e,A.get(_e.key).overlayedDocument);Te!=null&&de.push(new Ka(_e.key,Te,Pb(Te.value.mapValue),Bn.exists(!0)))}return b.mutationQueue.addMutationBatch(Q,_,de,y)})).next((ie=>{D=ie;const de=ie.applyToLocalDocumentSet(A,re);return b.documentOverlayCache.saveOverlays(Q,ie.batchId,de)}))})).then((()=>({batchId:D.batchId,changes:Jb(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,y,b){let _=f.du[f.currentUser.toKey()];_||(_=new wt(Be)),_=_.insert(y,b),f.du[f.currentUser.toKey()]=_})(r,o.batchId,i),await xu(r,o.changes),await $h(r.remoteStore)}catch(o){const c=Ap(o,"Failed to persist write");i.reject(c)}}async function M1(s,e){const i=Ce(s);try{const r=await sS(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await xu(i,r,e)}catch(r){await Jl(r)}}function bv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,f)=>{const y=f.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(f,y){const b=Ce(f);b.onlineState=y;let _=!1;b.queries.forEach(((x,A)=>{for(const D of A.ba)D.va(y)&&(_=!0)})),_&&Cp(b)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QS(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new wt(ye.comparator);f=f.insert(c,vn.newNoDocument(c,Se.min()));const y=qe().add(c),b=new Qh(Se.min(),new Map,new wt(Be),f,y);await M1(r,b),r.Ru=r.Ru.remove(c),r.Au.delete(e),Dp(r)}else await Gm(r.localStore,e,!1).then((()=>Ym(r,e,i))).catch(Jl)}async function YS(s,e){const i=Ce(s),r=e.batch.batchId;try{const o=await iS(i.localStore,e);j1(i,r,null),O1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xu(i,o)}catch(o){await Jl(o)}}async function XS(s,e,i){const r=Ce(s);try{const o=await(function(f,y){const b=Ce(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return b.mutationQueue.lookupMutationBatch(_,y).next((A=>(et(A!==null,37113),x=A.keys(),b.mutationQueue.removeMutationBatch(_,A)))).next((()=>b.mutationQueue.performConsistencyCheck(_))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(_,x,y))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>b.localDocuments.getDocuments(_,x)))}))})(r.localStore,e);j1(r,e,i),O1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await xu(r,o)}catch(o){await Jl(o)}}function O1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function j1(s,e,i){const r=Ce(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Ym(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||V1(s,r)}))}function V1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(bp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Dp(s))}function Ev(s,e,i){for(const r of i)r instanceof I1?(s.Vu.addReference(r.key,e),$S(s,r)):r instanceof D1?(ce(Ip,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||V1(s,r.key)):Ee(19791,{wu:r})}function $S(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ce(Ip,"New document in limbo: "+i),s.Eu.add(r),Dp(s))}function Dp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(ht.fromString(e)),r=s.fu.next();s.Au.set(r,new LS(i)),s.Ru=s.Ru.insert(i,r),w1(s.remoteStore,new ka(ts(Bh(i.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function xu(s,e,i){const r=Ce(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,b)=>{f.push(r.pu(b,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const x=_?!_.fromCache:i?.targetChanges.get(b.targetId)?.current;r.sharedClientState.updateQueryState(b.targetId,x?"current":"not-current")}if(_){o.push(_);const x=_p.Es(b.targetId,_);c.push(x)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(b,_){const x=Ce(b);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(D=>J.forEach(D.Ts,(Q=>x.persistence.referenceDelegate.addReference(A,D.targetId,Q))).next((()=>J.forEach(D.Is,(Q=>x.persistence.referenceDelegate.removeReference(A,D.targetId,Q)))))))))}catch(A){if(!Zl(A))throw A;ce(vp,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const Q=x.vs.get(D),W=Q.snapshotVersion,re=Q.withLastLimboFreeSnapshotVersion(W);x.vs=x.vs.insert(D,re)}}})(r.localStore,c))}async function JS(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ce(Ip,"User change. New user:",e.toKey());const r=await b1(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((y=>{y.forEach((b=>{b.reject(new oe(X.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(i,r.Ns)}}function ZS(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const y=i.Tu.get(f);o=o.unionWith(y.view.nu)}return o}}function z1(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QS.bind(null,e),e.Pu.J_=jS.bind(null,e.eventManager),e.Pu.yu=VS.bind(null,e.eventManager),e}function WS(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XS.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nS(this.persistence,new WA,e.initialUser,this.serializer)}Cu(e){return new v1(yp.Vi,this.serializer)}Du(e){return new uS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class eN extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UA(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new v1((r=>Ah.Vi(r,i)),this.serializer)}}class Xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JS.bind(null,this.syncEngine),await kS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OS})()}createDatastore(e){const i=Yh(e.databaseInfo.databaseId),r=mS(e.databaseInfo);return vS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,f,y){return new ES(r,o,c,f,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>bv(this.syncEngine,i,0)),(function(){return mv.v()?new mv:new cS})())}createSyncEngine(e,i){return(function(o,c,f,y,b,_,x){const A=new PS(o,c,f,y,b,_);return x&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);ce(Mr,"RemoteStore shutting down."),r.Ea.add(5),await Tu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};class kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Fa="FirestoreClient";class tN{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{ce(Fa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ce(Fa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ap(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function pm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Fa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await b1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Tv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await nN(s);ce(Fa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>gv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>gv(e.remoteStore,o))),s._onlineComponents=e}async function nN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Fa,"Using user provided OfflineComponentProvider");try{await pm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;kr("Error using user provided cache. Falling back to memory cache: "+i),await pm(s,new Nh)}}else ce(Fa,"Using default OfflineComponentProvider"),await pm(s,new eN(void 0));return s._offlineComponents}async function U1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Fa,"Using user provided OnlineComponentProvider"),await Tv(s,s._uninitializedComponentsProvider._online)):(ce(Fa,"Using default OnlineComponentProvider"),await Tv(s,new Xm))),s._onlineComponents}function iN(s){return U1(s).then((e=>e.syncEngine))}async function Ch(s){const e=await U1(s),i=e.eventManager;return i.onListen=BS.bind(null,e.syncEngine),i.onUnlisten=FS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=qS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=GS.bind(null,e.syncEngine),i}function sN(s,e,i,r){const o=new kp(r),c=new Rp(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>Sp(await Ch(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Np(await Ch(s),c)))}}function aN(s,e,i={}){const r=new Ms;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,b,_){const x=new kp({next:D=>{x.Nu(),f.enqueueAndForget((()=>Np(c,A)));const Q=D.docs.has(y);!Q&&D.fromCache?_.reject(new oe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&D.fromCache&&b&&b.source==="server"?_.reject(new oe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new Rp(Bh(y.path),x,{includeMetadataChanges:!0,Ka:!0});return Sp(c,A)})(await Ch(s),s.asyncQueue,e,i,r))),r.promise}function rN(s,e,i={}){const r=new Ms;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,b,_){const x=new kp({next:D=>{x.Nu(),f.enqueueAndForget((()=>Np(c,A))),D.fromCache&&b.source==="server"?_.reject(new oe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new Rp(y,x,{includeMetadataChanges:!0,Ka:!0});return Sp(c,A)})(await Ch(s),s.asyncQueue,e,i,r))),r.promise}function lN(s,e){const i=new Ms;return s.asyncQueue.enqueueAndForget((async()=>KS(await iN(s),e,i))),i.promise}function L1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const oN="ComponentProvider",xv=new Map;function uN(s,e,i,r,o){return new Rw(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,L1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const P1="firestore.googleapis.com",wv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P1,this.ssl=wv}else this.host=e.host,this.ssl=e.ssl??wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VA)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_w("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ow;switch(r.type){case"firstParty":return new dw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=xv.get(i);r&&(ce(oN,"Removing Datastore"),xv.delete(i),r.terminate())})(this),Promise.resolve()}}function cN(s,e,i,r={}){s=ii(s,Jh);const o=Yl(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(fb(`https://${y}`),mb("Firestore",!0)),c.host!==P1&&c.host!==y&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...c,host:y,ssl:o,emulatorOptions:r};if(!Ua(b,f)&&(s._setSettings(b),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=_n.MOCK_USER;else{_=kx(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new _n(A)}s._authCredentials=new uw(new Cb(_,x))}}class zr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class jt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(_u(i,jt._jsonSchema))return new jt(e,r||null,new ye(ht.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Ft("string",jt._jsonSchemaVersion),referencePath:Ft("string")};class za extends zr{constructor(e,i,r){super(e,i,Bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ye(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function zn(s,e,...i){if(s=$t(s),Rb("collection","path",e),s instanceof Jh){const r=ht.fromString(e,...i);return U_(r),new za(s,null,r)}{if(!(s instanceof jt||s instanceof za))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...i));return U_(r),new za(s.firestore,null,r)}}function kl(s,e,...i){if(s=$t(s),arguments.length===1&&(e=rp.newId()),Rb("doc","path",e),s instanceof Jh){const r=ht.fromString(e,...i);return z_(r),new jt(s,null,new ye(r))}{if(!(s instanceof jt||s instanceof za))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...i));return z_(r),new jt(s.firestore,s instanceof za?s.converter:null,new ye(r))}}const Sv="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&ce(Sv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=mm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=mm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Zl(e))throw e;ce(Sv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",Cv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=wp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Cv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Us extends Jh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Nv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function hN(s,e){const i=typeof s=="object"?s:_b(),r=typeof s=="string"?s:vh,o=sp(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Ix("firestore");c&&cN(o,...c)}return o}function wu(s){if(s._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dN(s),s._firestoreClient}function dN(s){const e=s._freezeSettings(),i=uN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new tN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(dn.fromBase64String(e))}catch(i){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,wi._jsonSchema))return wi.fromBase64String(e.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:Ft("string",wi._jsonSchemaVersion),bytes:Ft("string")};class Zh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Au{constructor(e){this._methodName=e}}class is{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(_u(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Ft("string",is._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Vi(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ft("string",Vi._jsonSchemaVersion),vectorValues:Ft("object")};const fN=/^__.*__$/;class mN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms):new bu(e,this.data,i,this.fieldTransforms)}}class B1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function q1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Wh{constructor(e,i,r,o,c,f){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Rh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(q1(this.dataSource)&&fN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class pN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Yh(e)}createContext(e,i,r,o=!1){return new Wh({dataSource:e,methodName:i,targetDoc:r,path:hn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ed(s){const e=s._freezeSettings(),i=Yh(s._databaseId);return new pN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function H1(s,e,i,r,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);jp("Data must be an object, but it was:",f,r);const y=K1(r,f);let b,_;if(c.merge)b=new ni(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const x=[];for(const A of c.mergeFields){const D=Ql(e,A,i);if(!f.contains(D))throw new oe(X.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);X1(x,D)||x.push(D)}b=new ni(x),_=f.fieldTransforms.filter((A=>b.covers(A.field)))}else b=null,_=f.fieldTransforms;return new mN(new Pn(y),b,_)}class td extends Au{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof td}}function gN(s,e,i){return new Wh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mp extends Au{_toFieldTransform(e){return new s1(e.path,new fu)}isEqual(e){return e instanceof Mp}}class Op extends Au{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=gN(this,e,!0),r=this.Ac.map((c=>eo(c,i))),o=new Fl(r);return new s1(e.path,o)}isEqual(e){return e instanceof Op&&Ua(this.Ac,e.Ac)}}function F1(s,e,i,r){const o=s.createContext(1,e,i);jp("Data must be an object, but it was:",o,r);const c=[],f=Pn.empty();Ga(r,((b,_)=>{const x=Y1(e,b,i);_=$t(_);const A=o.childContextForFieldPath(x);if(_ instanceof td)c.push(x);else{const D=eo(_,A);D!=null&&(c.push(x),f.set(x,D))}}));const y=new ni(c);return new B1(f,y,o.fieldTransforms)}function G1(s,e,i,r,o,c){const f=s.createContext(1,e,i),y=[Ql(e,r,i)],b=[o];if(c.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)y.push(Ql(e,c[D])),b.push(c[D+1]);const _=[],x=Pn.empty();for(let D=y.length-1;D>=0;--D)if(!X1(_,y[D])){const Q=y[D];let W=b[D];W=$t(W);const re=f.childContextForFieldPath(Q);if(W instanceof td)_.push(Q);else{const ie=eo(W,re);ie!=null&&(_.push(Q),x.set(Q,ie))}}const A=new ni(_);return new B1(x,A,f.fieldTransforms)}function yN(s,e,i,r=!1){return eo(i,s.createContext(r?4:3,e))}function eo(s,e){if(Q1(s=$t(s)))return jp("Unsupported field value:",e,s),K1(s,e);if(s instanceof Au)return(function(r,o){if(!q1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const y of r){let b=eo(y,o.childContextForArray(f));b==null&&(b={nullValue:"NULL_VALUE"}),c.push(b),f++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=gt.fromDate(r);return{timestampValue:wh(o.serializer,c)}}if(r instanceof gt){const c=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(o.serializer,c)}}if(r instanceof is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wi)return{bytesValue:c1(o.serializer,r._byteString)};if(r instanceof jt){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Vi)return(function(f,y){const b=f instanceof Vi?f.toArray():f;return{mapValue:{fields:{[Ub]:{stringValue:Lb},[bh]:{arrayValue:{values:b.map((x=>{if(typeof x!="number")throw y.createError("VectorValues must only contain numeric values.");return dp(y.serializer,x)}))}}}}}})(r,o);if(y1(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${zh(r)}`)})(s,e)}function K1(s,e){const i={};return kb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(s,((r,o)=>{const c=eo(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function Q1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof is||s instanceof wi||s instanceof jt||s instanceof Au||s instanceof Vi||y1(s))}function jp(s,e,i){if(!Q1(i)||!Ib(i)){const r=zh(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Ql(s,e,i){if((e=$t(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return Y1(s,e);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const _N=new RegExp("[~\\*/\\[\\]]");function Y1(s,e,i){if(e.search(_N)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Zh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Rh(s,e,i,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let b="";return(c||f)&&(b+=" (found",c&&(b+=` in field ${r}`),f&&(b+=` in document ${o}`),b+=")"),new oe(X.INVALID_ARGUMENT,y+s+b)}function X1(s,e){return s.some((i=>i.isEqual(e)))}class vN{convertValue(e,i="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ga(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[bh].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new Vi(i)}convertGeoPoint(e){return new is(Ot(e.latitude),Ot(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const i=Pa(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ht.fromString(e);et(g1(r),9688,{name:e});const o=new hu(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return o.isEqual(i)||Vs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Vp extends vN{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function gm(){return new Mp("serverTimestamp")}function Rv(...s){return new Op("arrayUnion",s)}const Iv="@firebase/firestore",Dv="4.11.0";function kv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class $1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Ql("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bN extends $1{data(){return super.data()}}function J1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class EN extends zp{}function Ti(s,e,...i){let r=[];e instanceof zp&&r.push(e),r=r.concat(i),(function(c){const f=c.filter((b=>b instanceof Up)).length,y=c.filter((b=>b instanceof nd)).length;if(f>1||f>0&&y>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class nd extends EN{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new nd(e,i,r)}_apply(e){const i=this._parse(e);return Z1(e._query,i),new zr(e.firestore,e.converter,Lm(e._query,i))}_parse(e){const i=ed(e.firestore);return(function(c,f,y,b,_,x,A){let D;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Ov(A,x);const W=[];for(const re of A)W.push(Mv(b,c,re));D={arrayValue:{values:W}}}else D=Mv(b,c,A)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Ov(A,x),D=yN(y,f,A,x==="in"||x==="not-in");return Ht.create(_,x,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Un(s,e,i){const r=e,o=Ql("where",s);return nd._create(o,r,i)}class Up extends zp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Up(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:zi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let f=o;const y=c.getFlattenedFilters();for(const b of y)Z1(f,b),f=Lm(f,b)})(e._query,i),new zr(e.firestore,e.converter,Lm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Mv(s,e,i){if(typeof(i=$t(i))=="string"){if(i==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qb(e)&&i.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ht.fromString(i));if(!ye.isDocumentKey(r))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return K_(s,new ye(r))}if(i instanceof jt)return K_(s,i._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(i)}.`)}function Ov(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z1(s,e){const i=(function(o,c){for(const f of o)for(const y of f.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function W1(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class tu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cr extends $1{constructor(e,i,r,o,c,f){super(e,i,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Ql("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Cr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Cr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cr._jsonSchema={type:Ft("string",Cr._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class hh extends Cr{data(e={}){return super.data(e)}}class Rr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new hh(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((y=>{const b=new hh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new tu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:b,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const b=new hh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new tu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return y.type!==0&&(_=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),x=f.indexOf(y.doc.key)),{type:TN(y.type),doc:b,oldIndex:_,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}Rr._jsonSchemaVersion="firestore/querySnapshot/1.0",Rr._jsonSchema={type:Ft("string",Rr._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class xN{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ed(e)}set(e,i,r){this._verifyNotCommitted();const o=ym(e,this._firestore),c=W1(o.converter,i,r),f=H1(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,r);return this._mutations.push(f.toMutation(o._key,Bn.none())),this}update(e,i,r,...o){this._verifyNotCommitted();const c=ym(e,this._firestore);let f;return f=typeof(i=$t(i))=="string"||i instanceof Zh?G1(this._dataReader,"WriteBatch.update",c._key,i,r,o):F1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(f.toMutation(c._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=ym(e,this._firestore);return this._mutations=this._mutations.concat(new Kh(i._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ym(s,e){if((s=$t(s)).firestore!==e)throw new oe(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function wN(s){s=ii(s,jt);const e=ii(s.firestore,Us),i=wu(e);return aN(i,s._key).then((r=>eE(e,s,r)))}function xl(s){s=ii(s,zr);const e=ii(s.firestore,Us),i=wu(e),r=new Vp(e);return J1(s._query),rN(i,s._query).then((o=>new Rr(e,r,s,o)))}function _m(s,e,i,...r){s=ii(s,jt);const o=ii(s.firestore,Us),c=ed(o);let f;return f=typeof(e=$t(e))=="string"||e instanceof Zh?G1(c,"updateDoc",s._key,e,i,r):F1(c,"updateDoc",s._key,e),id(o,[f.toMutation(s._key,Bn.exists(!0))])}function jv(s){return id(ii(s.firestore,Us),[new Kh(s._key,Bn.none())])}function Wc(s,e){const i=ii(s.firestore,Us),r=kl(s),o=W1(s.converter,e),c=ed(s.firestore);return id(i,[H1(c,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then((()=>r))}function wl(s,...e){s=$t(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,f,y;if(s instanceof jt)f=ii(s.firestore,Us),y=Bh(s._key.path),c={next:_=>{e[r]&&e[r](eE(f,s,_))},error:e[r+1],complete:e[r+2]};else{const _=ii(s,zr);f=ii(_.firestore,Us),y=_._query;const x=new Vp(f);c={next:A=>{e[r]&&e[r](new Rr(f,x,_,A))},error:e[r+1],complete:e[r+2]},J1(s._query)}const b=wu(f);return sN(b,y,o,c)}function id(s,e){const i=wu(s);return lN(i,e)}function eE(s,e,i){const r=i.docs.get(e._key),o=new Vp(s);return new Cr(s,o,e._key,r,new tu(i.hasPendingWrites,i.fromCache),e.converter)}function AN(s){return s=ii(s,Us),wu(s),new xN(s,(e=>id(s,e)))}(function(e,i=!0){lw(Xl),Pl(new Ir("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),y=new Us(new cw(r.getProvider("auth-internal")),new fw(f,r.getProvider("app-check-internal")),Iw(f,o),f);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),ja(Iv,Dv,e),ja(Iv,Dv,"esm2020")})();function tE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SN=tE,nE=new gu("auth","Firebase",tE());const Ih=new np("@firebase/auth");function NN(s,...e){Ih.logLevel<=Pe.WARN&&Ih.warn(`Auth (${Xl}): ${s}`,...e)}function dh(s,...e){Ih.logLevel<=Pe.ERROR&&Ih.error(`Auth (${Xl}): ${s}`,...e)}function Ls(s,...e){throw Lp(s,...e)}function ss(s,...e){return Lp(s,...e)}function iE(s,e,i){const r={...SN(),[e]:i};return new gu("auth","Firebase",r).create(e,{appName:s.name})}function Os(s){return iE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return nE.create(s,...e)}function Ae(s,e,...i){if(!s)throw Lp(e,...i)}function Ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw dh(e),new Error(e)}function Ps(s,e){s||Ds(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function CN(){return Vv()==="http:"||Vv()==="https:"}function Vv(){return typeof self<"u"&&self.location?.protocol||null}function RN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CN()||Ux()||"connection"in navigator)?navigator.onLine:!0}function IN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Su{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ps(i>e,"Short delay should be less than long delay!"),this.isMobile=jx()||Lx()}get(){return RN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pp(s,e){Ps(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class sE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MN=new Su(3e4,6e4);function Nu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function to(s,e,i,r,o={}){return aE(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const y=yu({key:s.config.apiKey,...f}).slice(1),b=await s._getAdditionalHeaders();b["Content-Type"]="application/json",s.languageCode&&(b["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:b,...c};return zx()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Yl(s.emulatorConfig.host)&&(_.credentials="include"),sE.fetch()(await rE(s,s.config.apiHost,i,y),_)})}async function aE(s,e,i){s._canInitEmulator=!1;const r={...DN,...e};try{const o=new ON(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw eh(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const y=c.ok?f.errorMessage:f.error.message,[b,_]=y.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(s,"credential-already-in-use",f);if(b==="EMAIL_EXISTS")throw eh(s,"email-already-in-use",f);if(b==="USER_DISABLED")throw eh(s,"user-disabled",f);const x=r[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw iE(s,x,_);Ls(s,x)}}catch(o){if(o instanceof qs)throw o;Ls(s,"network-request-failed",{message:String(o)})}}async function Bp(s,e,i,r,o={}){const c=await to(s,e,i,r,o);return"mfaPendingCredential"in c&&Ls(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function rE(s,e,i,r){const o=`${e}${i}?${r}`,c=s,f=c.config.emulator?Pp(s.config,o):`${s.config.apiScheme}://${o}`;return kN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class ON{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),MN.get())})}}function eh(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=ss(s,e,r);return o.customData._tokenResponse=i,o}async function jN(s,e){return to(s,"POST","/v1/accounts:delete",e)}async function Dh(s,e){return to(s,"POST","/v1/accounts:lookup",e)}function lu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VN(s,e=!1){const i=$t(s),r=await i.getIdToken(e),o=qp(r);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:lu(vm(o.auth_time)),issuedAtTime:lu(vm(o.iat)),expirationTime:lu(vm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function vm(s){return Number(s)*1e3}function qp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ub(i);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function zv(s){const e=qp(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pu(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof qs&&zN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function zN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class UN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kh(s){const e=s.auth,i=await s.getIdToken(),r=await pu(s,Dh(e,{idToken:i}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?lE(o.providerUserInfo):[],f=PN(s.providerData,c),y=s.isAnonymous,b=!(s.email&&o.passwordHash)&&!f?.length,_=y?b:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,x)}async function LN(s){const e=$t(s);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function lE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function BN(s,e){const i=await aE(s,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await rE(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:y,body:r};return s.emulatorConfig&&Yl(s.emulatorConfig.host)&&(b.credentials="include"),sE.fetch()(f,b)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qN(s,e){return to(s,"POST","/v2/accounts:revokeToken",Nu(s,e))}class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=zv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await BN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,f=new zl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Ds("not implemented")}}function Sa(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ji{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new UN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return VN(this,e)}reload(){return LN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await pu(this,jN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,f=i.photoURL??void 0,y=i.tenantId??void 0,b=i._redirectEventId??void 0,_=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:Q,providerData:W,stsTokenManager:re}=i;Ae(A&&re,e,"internal-error");const ie=zl.fromJSON(this.name,re);Ae(typeof A=="string",e,"internal-error"),Sa(r,e.name),Sa(o,e.name),Ae(typeof D=="boolean",e,"internal-error"),Ae(typeof Q=="boolean",e,"internal-error"),Sa(c,e.name),Sa(f,e.name),Sa(y,e.name),Sa(b,e.name),Sa(_,e.name),Sa(x,e.name);const de=new ji({uid:A,auth:e,email:o,emailVerified:D,displayName:r,isAnonymous:Q,photoURL:f,phoneNumber:c,tenantId:y,stsTokenManager:ie,createdAt:_,lastLoginAt:x});return W&&Array.isArray(W)&&(de.providerData=W.map(_e=>({..._e}))),b&&(de._redirectEventId=b),de}static async _fromIdTokenResponse(e,i,r=!1){const o=new zl;o.updateFromServerResponse(i);const c=new ji({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await kh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?lE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,y=new zl;y.updateFromIdToken(r);const b=new ji({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(b,_),b}}const Uv=new Map;function ks(s){Ps(s instanceof Function,"Expected a class definition");let e=Uv.get(s);return e?(Ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Uv.set(s,e),e)}class oE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}oE.type="NONE";const Lv=oE;function fh(s,e,i){return`firebase:${s}:${e}:${i}`}class Ul{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,c),this.fullPersistenceKey=fh("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Dh(this.auth,{idToken:e}).catch(()=>{});return i?ji._fromGetAccountInfoResponse(this.auth,i,e):null}return ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Ul(ks(Lv),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ks(Lv);const f=fh(r,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const x=await _._get(f);if(x){let A;if(typeof x=="string"){const D=await Dh(e,{idToken:x}).catch(()=>{});if(!D)break;A=await ji._fromGetAccountInfoResponse(e,D,x)}else A=ji._fromJSON(e,x);_!==c&&(y=A),c=_;break}}catch{}const b=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!b.length?new Ul(c,e,r):(c=b[0],y&&await c._set(f,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Ul(c,e,r))}}function Pv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mE(e))return"Blackberry";if(pE(e))return"Webos";if(cE(e))return"Safari";if((e.includes("chrome/")||hE(e))&&!e.includes("edge/"))return"Chrome";if(fE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function uE(s=bn()){return/firefox\//i.test(s)}function cE(s=bn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hE(s=bn()){return/crios\//i.test(s)}function dE(s=bn()){return/iemobile/i.test(s)}function fE(s=bn()){return/android/i.test(s)}function mE(s=bn()){return/blackberry/i.test(s)}function pE(s=bn()){return/webos/i.test(s)}function Hp(s=bn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function HN(s=bn()){return Hp(s)&&!!window.navigator?.standalone}function FN(){return Px()&&document.documentMode===10}function gE(s=bn()){return Hp(s)||fE(s)||pE(s)||mE(s)||/windows phone/i.test(s)||dE(s)}function yE(s,e=[]){let i;switch(s){case"Browser":i=Pv(bn());break;case"Worker":i=`${Pv(bn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xl}/${r}`}class GN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((f,y)=>{try{const b=e(c);f(b)}catch(b){y(b)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function KN(s,e={}){return to(s,"GET","/v2/passwordPolicy",Nu(s,e))}const QN=6;class YN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class XN{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.beforeStateQueue=new GN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ks(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Dh(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===f)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(Os(this));const i=e?$t(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KN(this),i=new YN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await qN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ks(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[ks(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(y,this,"internal-error"),y.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const b=e.addObserver(i,r,o);return()=>{f=!0,b()}}else{const b=e.addObserver(i);return()=>{f=!0,b()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Cu(s){return $t(s)}class Bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yx(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $N(s){Fp=s}function JN(s){return Fp.loadJS(s)}function ZN(){return Fp.gapiScript}function WN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function eC(s,e){const i=sp(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ua(c,e??{}))return o;Ls(o,"already-initialized")}return i.initialize({options:e})}function tC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ks);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function nC(s,e,i){const r=Cu(s);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=_E(e),{host:f,port:y}=iC(e),b=y===null?"":`:${y}`,_={url:`${c}//${f}${b}/`},x=Object.freeze({host:f,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Ua(_,r.config.emulator)&&Ua(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Yl(f)?(fb(`${c}//${f}${b}`),mb("Auth",!0)):sC()}function _E(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function iC(s){const e=_E(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:qv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:qv(f)}}}function qv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function sC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class vE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,i){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function Ll(s,e){return Bp(s,"POST","/v1/accounts:signInWithIdp",Nu(s,e))}const aC="http://localhost";class Or extends vE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const f=new Or(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Ll(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ll(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ll(e,i)}buildRequest(){const e={requestUri:aC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=yu(i)}return e}}class bE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ru extends bE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ca extends Ru{constructor(){super("facebook.com")}static credential(e){return Or._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ca.PROVIDER_ID="facebook.com";class Ra extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Or._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ra.credential(i,r)}catch{return null}}}Ra.GOOGLE_SIGN_IN_METHOD="google.com";Ra.PROVIDER_ID="google.com";class Ia extends Ru{constructor(){super("github.com")}static credential(e){return Or._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";class Da extends Ru{constructor(){super("twitter.com")}static credential(e,i){return Or._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Da.credential(i,r)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";async function rC(s,e){return Bp(s,"POST","/v1/accounts:signUp",Nu(s,e))}class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await ji._fromIdTokenResponse(e,r,o),f=Hv(r);return new Bs({user:c,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=Hv(r);return new Bs({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function Hv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function lC(s){if(xi(s.app))return Promise.reject(Os(s));const e=Cu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Bs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await rC(e,{returnSecureToken:!0}),r=await Bs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class Mh extends qs{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new Mh(e,i,r,o)}}function EE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(s,c,e,r):c})}async function oC(s,e,i=!1){const r=await pu(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Bs._forOperation(s,"link",r)}async function uC(s,e,i=!1){const{auth:r}=s;if(xi(r.app))return Promise.reject(Os(r));const o="reauthenticate";try{const c=await pu(s,EE(r,o,e,s),i);Ae(c.idToken,r,"internal-error");const f=qp(c.idToken);Ae(f,r,"internal-error");const{sub:y}=f;return Ae(s.uid===y,r,"user-mismatch"),Bs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ls(r,"user-mismatch"),c}}async function cC(s,e,i=!1){if(xi(s.app))return Promise.reject(Os(s));const r="signIn",o=await EE(s,r,e),c=await Bs._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}async function hC(s,e){return Bp(s,"POST","/v1/accounts:signInWithCustomToken",Nu(s,e))}async function dC(s,e){if(xi(s.app))return Promise.reject(Os(s));const i=Cu(s),r=await hC(i,{token:e,returnSecureToken:!0}),o=await Bs._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(o.user),o}function fC(s,e,i,r){return $t(s).onIdTokenChanged(e,i,r)}function mC(s,e,i){return $t(s).beforeAuthStateChanged(e,i)}function pC(s,e,i,r){return $t(s).onAuthStateChanged(e,i,r)}const Oh="__sak";class TE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gC=1e3,yC=10;class xE extends TE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,y,b)=>{this.notifyListeners(f,b)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);FN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yC):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}xE.type="LOCAL";const _C=xE;class wE extends TE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}wE.type="SESSION";const AE=wE;function vC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new sd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(f).map(async _=>_(i.origin,c)),b=await vC(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:b})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];function Gp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class bC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((y,b)=>{const _=Gp("",20);o.port1.start();const x=setTimeout(()=>{b(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(D.data.response);break;default:clearTimeout(x),clearTimeout(c),b(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function as(){return window}function EC(s){as().location.href=s}function SE(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function TC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){return navigator?.serviceWorker?.controller||null}function wC(){return SE()?self:null}const NE="firebaseLocalStorageDb",AC=1,jh="firebaseLocalStorage",CE="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ad(s,e){return s.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function SC(){const s=indexedDB.deleteDatabase(NE);return new Iu(s).toPromise()}function Zm(){const s=indexedDB.open(NE,AC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(jh,{keyPath:CE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await SC(),e(await Zm()))})})}async function Fv(s,e,i){const r=ad(s,!0).put({[CE]:e,value:i});return new Iu(r).toPromise()}async function NC(s,e){const i=ad(s,!1).get(e),r=await new Iu(i).toPromise();return r===void 0?null:r.value}function Gv(s,e){const i=ad(s,!0).delete(e);return new Iu(i).toPromise()}const CC=800,RC=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>RC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(wC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await Fv(e,Oh,"1"),await Gv(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>NC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ad(o,!1).getAll();return new Iu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const IC=RE;new Su(3e4,6e4);function DC(s,e){return e?ks(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Kp extends vE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ll(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function kC(s){return cC(s.auth,new Kp(s),s.bypassAuthState)}function MC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),uC(i,new Kp(s),s.bypassAuthState)}async function OC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),oC(i,new Kp(s),s.bypassAuthState)}class IE{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:f,type:y}=e;if(f){this.reject(f);return}const b={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(b))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kC;case"linkViaPopup":case"linkViaRedirect":return OC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:Ls(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jC=new Su(2e3,1e4);class Ol extends IE{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jC.get())};e()}}Ol.currentPopupAction=null;const VC="pendingRedirect",mh=new Map;class zC extends IE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await UC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UC(s,e){const i=BC(e),r=PC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function LC(s,e){mh.set(s._key(),e)}function PC(s){return ks(s._redirectPersistence)}function BC(s){return fh(VC,s.config.apiKey,s.name)}async function qC(s,e,i=!1){if(xi(s.app))return Promise.reject(Os(s));const r=Cu(s),o=DC(r,e),f=await new zC(r,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const HC=600*1e3;class FC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!DE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ss(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(e))}saveEventToCache(e){this.cachedEventUids.add(Kv(e)),this.lastProcessedEventTime=Date.now()}}function Kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function DE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function GC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DE(s);default:return!1}}async function KC(s,e={}){return to(s,"GET","/v1/projects",e)}const QC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YC=/^https?/;async function XC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await KC(s);for(const i of e)try{if($C(i))return}catch{}Ls(s,"unauthorized-domain")}function $C(s){const e=$m(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!YC.test(i))return!1;if(QC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const JC=new Su(3e4,6e4);function Qv(){const s=as().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ZC(s){return new Promise((e,i)=>{function r(){Qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qv(),i(ss(s,"network-request-failed"))},timeout:JC.get()})}if(as().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(as().gapi?.load)r();else{const o=WN("iframefcb");return as()[o]=()=>{gapi.load?r():i(ss(s,"network-request-failed"))},JN(`${ZN()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw ph=null,e})}let ph=null;function WC(s){return ph=ph||ZC(s),ph}const eR=new Su(5e3,15e3),tR="__/auth/iframe",nR="emulator/auth/iframe",iR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aR(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Pp(e,nR):`https://${s.config.authDomain}/${tR}`,r={apiKey:e.apiKey,appName:s.name,v:Xl},o=sR.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${yu(r).slice(1)}`}async function rR(s){const e=await WC(s),i=as().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:aR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iR,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=ss(s,"network-request-failed"),y=as().setTimeout(()=>{c(f)},eR.get());function b(){as().clearTimeout(y),o(r)}r.ping(b).then(b,()=>{c(f)})}))}const lR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oR=500,uR=600,cR="_blank",hR="http://localhost";class Yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dR(s,e,i,r=oR,o=uR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const b={...lR,width:r.toString(),height:o.toString(),top:c,left:f},_=bn().toLowerCase();i&&(y=hE(_)?cR:i),uE(_)&&(e=e||hR,b.scrollbars="yes");const x=Object.entries(b).reduce((D,[Q,W])=>`${D}${Q}=${W},`,"");if(HN(_)&&y!=="_self")return fR(e||"",y),new Yv(null);const A=window.open(e||"",y,x);Ae(A,s,"popup-blocked");try{A.focus()}catch{}return new Yv(A)}function fR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const mR="__/auth/handler",pR="emulator/auth/handler",gR=encodeURIComponent("fac");async function Xv(s,e,i,r,o,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Xl,eventId:o};if(e instanceof bE){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",Qx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,A]of Object.entries({}))f[x]=A}if(e instanceof Ru){const x=e.getScopes().filter(A=>A!=="");x.length>0&&(f.scopes=x.join(","))}s.tenantId&&(f.tid=s.tenantId);const y=f;for(const x of Object.keys(y))y[x]===void 0&&delete y[x];const b=await s._getAppCheckToken(),_=b?`#${gR}=${encodeURIComponent(b)}`:"";return`${yR(s)}?${yu(y).slice(1)}${_}`}function yR({config:s}){return s.emulator?Pp(s,pR):`https://${s.authDomain}/${mR}`}const bm="webStorageSupport";class _R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=qC,this._overrideRedirectResult=LC}async _openPopup(e,i,r,o){Ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Xv(e,i,r,$m(),o);return dR(e,c,Gp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Xv(e,i,r,$m(),o);return EC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ps(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await rR(e),r=new FC(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(bm,{type:bm},o=>{const c=o?.[0]?.[bm];c!==void 0&&i(!!c),Ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=XC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return gE()||cE()||Hp()}}const vR=_R;var $v="@firebase/auth",Jv="1.12.0";class bR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ER(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TR(s){Pl(new Ir("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=r.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const b={apiKey:f,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yE(s)},_=new XN(r,o,c,b);return tC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Pl(new Ir("auth-internal",e=>{const i=Cu(e.getProvider("auth").getImmediate());return(r=>new bR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja($v,Jv,ER(s)),ja($v,Jv,"esm2020")}const xR=300,wR=db("authIdTokenMaxAge")||xR;let Zv=null;const AR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>wR)return;const o=i?.token;Zv!==o&&(Zv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SR(s=_b()){const e=sp(s,"auth");if(e.isInitialized())return e.getImmediate();const i=eC(s,{popupRedirectResolver:vR,persistence:[IC,_C,AE]}),r=db("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=AR(c.toString());mC(i,f,()=>f(i.currentUser)),fC(i,y=>f(y))}}const o=cb("auth");return o&&nC(i,`http://${o}`),i}function NR(){return document.getElementsByTagName("head")?.[0]??document}$N({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=ss("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",NR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TR("Browser");const kE=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const CR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const RR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const Wv=s=>{const e=RR(s);return e.charAt(0).toUpperCase()+e.slice(1)};var IR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DR=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const kR=fe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:f,...y},b)=>fe.createElement("svg",{ref:b,...IR,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:kE("lucide",o),...!c&&!DR(y)&&{"aria-hidden":"true"},...y},[...f.map(([_,x])=>fe.createElement(_,x)),...Array.isArray(c)?c:[c]]));const Re=(s,e)=>{const i=fe.forwardRef(({className:r,...o},c)=>fe.createElement(kR,{ref:c,iconNode:e,className:kE(`lucide-${CR(Wv(s))}`,`lucide-${s}`,r),...o}));return i.displayName=Wv(s),i};const MR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Em=Re("arrow-right",MR);const OR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],th=Re("award",OR);const jR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],VR=Re("bell",jR);const zR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nh=Re("book-open",zR);const UR=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],eb=Re("book",UR);const LR=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],tb=Re("building-2",LR);const PR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BR=Re("chevron-right",PR);const qR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Al=Re("circle-check-big",qR);const HR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ih=Re("circle-plus",HR);const FR=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GR=Re("circle-play",FR);const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Tm=Re("circle-user",KR);const QR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sl=Re("clock",QR);const YR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nb=Re("copy",YR);const XR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$R=Re("eye-off",XR);const JR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZR=Re("eye",JR);const WR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eI=Re("funnel",WR);const tI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],nI=Re("hash",tI);const iI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sI=Re("house",iI);const aI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xm=Re("key",aI);const rI=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],$o=Re("list",rI);const lI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jo=Re("loader-circle",lI);const oI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wm=Re("lock",oI);const uI=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],cI=Re("log-in",uI);const hI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ib=Re("log-out",hI);const dI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sb=Re("mail",dI);const fI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ab=Re("menu",fI);const mI=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pI=Re("message-square",mI);const gI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],yI=Re("panels-top-left",gI);const _I=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vI=Re("pen-line",_I);const bI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],EI=Re("save",bI);const TI=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Nl=Re("school",TI);const xI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wI=Re("search",xI);const AI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],SI=Re("send",AI);const NI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CI=Re("settings",NI);const RI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Wm=Re("shield-alert",RI);const II=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DI=Re("sparkles",II);const kI=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],MI=Re("square-check-big",kI);const OI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Am=Re("target",OI);const jI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ep=Re("trash-2",jI);const VI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zI=Re("triangle-alert",VI);const UI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],LI=Re("user-plus",UI);const PI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BI=Re("user",PI);const qI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sh=Re("users",qI);const HI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ME=Re("x",HI),FI=`
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }
  .animate-fade-up {
    animation: fadeUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .skeleton {
    background: linear-gradient(to right, #f1f5f9 4%, #e2e8f0 25%, #f1f5f9 36%);
    background-size: 1000px 100%;
    animation: shimmer 2s infinite linear;
  }
  .glass-panel {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.5);
  }
`,Sm=()=>p.jsxs("div",{className:"bg-white p-6 rounded-[24px] border border-slate-100 shadow-sm h-48 flex flex-col justify-between",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl skeleton"}),p.jsx("div",{className:"w-8 h-8 rounded-lg skeleton"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("div",{className:"h-6 w-3/4 rounded-lg skeleton"}),p.jsx("div",{className:"h-4 w-1/2 rounded-lg skeleton"})]})]});class GI extends mx.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("EduQuest Crash:",e,i)}render(){return this.state.hasError?p.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-6 text-center font-sans animate-fade-up",children:p.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-md w-full border border-red-100",children:[p.jsx(Wm,{size:48,className:"text-red-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"Terjadi Kesalahan"}),p.jsx("p",{className:"text-slate-500 mb-6",children:"Aplikasi mengalami kendala teknis."}),p.jsx("button",{onClick:()=>{this.setState({hasError:!1}),window.location.reload()},className:"bg-slate-900 text-white px-6 py-3 rounded-xl font-bold w-full hover:scale-105 transition-transform",children:"Muat Ulang"})]})}):this.props.children}}const Na={classes:[],quizzes:[],results:[]};let Nm=null,Ml=null,Ge=null,bt=!1;const Yt=typeof __app_id<"u"?__app_id:"default-app-id";try{if(typeof __firebase_config<"u"&&__firebase_config)try{const s=JSON.parse(__firebase_config);Nm=yb(s),Ml=SR(Nm),Ge=hN(Nm)}catch{bt=!0}else bt=!0}catch{bt=!0}const rb=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<6;i++)e+=s.charAt(Math.floor(Math.random()*s.length));return e},KI=s=>[...s].sort((e,i)=>{if(!e.name||!i.name)return 0;const r=/^(\d+)([a-zA-Z]*)/,o=e.name.match(r),c=i.name.match(r);if(o&&c){const f=parseInt(o[1],10),y=parseInt(c[1],10);return f!==y?f-y:(o[2]||"").localeCompare(c[2]||"")}return e.name.localeCompare(i.name)}),QI=({title:s,message:e,onConfirm:i,onCancel:r,type:o="warning"})=>p.jsx("div",{className:"fixed inset-0 z-[150] bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-white rounded-3xl p-8 w-[90%] max-w-sm shadow-2xl scale-100 animate-in zoom-in-95 duration-300",children:[p.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto ${o==="danger"?"bg-red-50 text-red-500":"bg-amber-50 text-amber-500"}`,children:o==="danger"?p.jsx(ep,{size:28}):p.jsx(zI,{size:28})}),p.jsx("h3",{className:"text-xl font-black text-center text-slate-800 mb-2",children:s}),p.jsx("p",{className:"text-center text-slate-500 font-medium mb-8 text-sm leading-relaxed",children:e}),p.jsxs("div",{className:"flex gap-3 flex-col sm:flex-row",children:[p.jsx("button",{onClick:r,className:"flex-1 py-3.5 rounded-xl font-bold border border-slate-200 text-slate-600 hover:bg-slate-50 transition-colors duration-200 active:scale-95",children:"Batal"}),p.jsx("button",{onClick:i,className:`flex-1 py-3.5 rounded-xl font-bold text-white shadow-lg transition-all duration-200 active:scale-95 ${o==="danger"?"bg-red-500 hover:bg-red-600":"bg-slate-900 hover:bg-black"}`,children:"Ya, Lanjutkan"})]})]})}),ah=({title:s,children:e,onClose:i,icon:r,color:o="blue"})=>p.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[36px] w-full max-w-5xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden animate-in slide-in-from-bottom-8 fade-in duration-500 border border-white/40",children:[p.jsxs("div",{className:`p-6 md:p-8 bg-gradient-to-r from-${o}-600 to-${o}-800 text-white flex justify-between items-center shadow-lg shrink-0 relative overflow-hidden`,children:[p.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 transform translate-x-10 -translate-y-10 rotate-12",children:p.jsx(r,{size:140})}),p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-md border border-white/10 shadow-inner",children:p.jsx(r,{size:24,className:"md:w-8 md:h-8"})}),p.jsx("h3",{className:"text-xl md:text-3xl font-black tracking-tight line-clamp-1",children:s})]}),p.jsx("button",{onClick:i,type:"button",className:"p-2.5 hover:bg-white/20 rounded-full transition-colors relative z-10 active:scale-90 duration-200",children:p.jsx(ME,{size:24})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-slate-50 custom-scrollbar",children:p.jsx("div",{className:"animate-fade-up",children:e})})]})});function YI(){const[s,e]=fe.useState(null),[i,r]=fe.useState(null),[o,c]=fe.useState(!0),[f,y]=fe.useState("landing"),[b,_]=fe.useState(!0),[x,A]=fe.useState(!0),[D,Q]=fe.useState(!1),[W,re]=fe.useState(null),[ie,de]=fe.useState(null),[_e,Te]=fe.useState("overview"),[xe,dt]=fe.useState("overview"),[Me,R]=fe.useState(!1),[S,I]=fe.useState(null),[j,M]=fe.useState(""),[z,N]=fe.useState("All"),[$e,Et]=fe.useState([]),[F,se]=fe.useState([]),[pe,Oe]=fe.useState([]),[Ke,O]=fe.useState([]),[K,ae]=fe.useState([]),[le,ve]=fe.useState("login"),[we,ze]=fe.useState("student"),[Qe,Je]=fe.useState({name:"",password:"",teacherCode:""}),[Hs,Qa]=fe.useState(!1),[qn,Jt]=fe.useState(""),[Hn,Ui]=fe.useState(""),[Ai,Ya]=fe.useState(!1),[Fn,ft]=fe.useState({name:"",email:"",message:""}),[It,Gn]=fe.useState(!1),[fn,ls]=fe.useState({name:"",school:"",subject:""}),[ut,si]=fe.useState(null),[Fs,Gs]=fe.useState([]),[Kn,Xa]=fe.useState("students"),[os,$a]=fe.useState(""),[Li,mn]=fe.useState(null),[At,En]=fe.useState(""),[Tt,Pi]=fe.useState(!1),[Qn,us]=fe.useState(null),[Rn,In]=fe.useState(""),[tt,nn]=fe.useState([]),[Vt,Zt]=fe.useState([]),[Gt,Bi]=fe.useState({question:"",options:["","","",""],answer:"",points:10}),[Si,Ks]=fe.useState({name:"",classroom:""}),[Qs,qi]=fe.useState(""),[st,Ja]=fe.useState(null),[pn,ai]=fe.useState(0),[Ur,Tn]=fe.useState(0),[sn,xt]=fe.useState(!1),[yt,Yn]=fe.useState(null),[cs,Za]=fe.useState(null),Wt=fe.useRef(null);fe.useEffect(()=>{const w=document.createElement("style");w.textContent=FI,document.head.appendChild(w);const Z=setTimeout(()=>A(!1),2500);(async()=>{if(bt||!Ml){c(!1);return}try{typeof __initial_auth_token<"u"&&__initial_auth_token?await dC(Ml,__initial_auth_token):await lC(Ml)}catch{bt=!0,c(!1)}})();let ee=()=>{};return!bt&&Ml?ee=pC(Ml,ue=>{e(ue),c(!1)}):c(!1),()=>{clearTimeout(Z),ee(),document.head.removeChild(w)}},[]),fe.useEffect(()=>{if(i)if(_(!0),!bt&&Ge)if(i.role==="teacher"){const w=wl(Ti(zn(Ge,"artifacts",Yt,"public","data","quizzes"),Un("teacherId","==",i.id)),ee=>{Oe(ee.docs.map(ue=>({id:ue.id,...ue.data()}))),_(!1)}),Z=wl(Ti(zn(Ge,"artifacts",Yt,"public","data","classes"),Un("teacherId","==",i.id)),ee=>Et(ee.docs.map(ue=>({id:ue.id,...ue.data()})))),ne=wl(Ti(zn(Ge,"artifacts",Yt,"public","data","results"),Un("teacherId","==",i.id)),ee=>O(ee.docs.map(ue=>({id:ue.id,...ue.data()}))));return()=>{w(),Z(),ne()}}else{const w=wl(Ti(zn(Ge,"artifacts",Yt,"public","data","results"),Un("studentId","==",i.id)),ne=>{const ee=ne.docs.map(ue=>({id:ue.id,...ue.data()}));ee.sort((ue,Kt)=>(Kt.timestamp?.seconds||0)-(ue.timestamp?.seconds||0)),ae(ee),_(!1)}),Z=wl(Ti(zn(Ge,"artifacts",Yt,"public","data","classes"),Un("studentIds","array-contains",i.id)),ne=>{se(ne.docs.map(ee=>({id:ee.id,...ee.data()})))});return()=>{w(),Z()}}else _(!1)},[i,f]),fe.useEffect(()=>{if(i?.role==="teacher"&&ut&&!bt&&Ge){const w=Ti(zn(Ge,"artifacts",Yt,"public","data","results"),Un("studentClass","==",ut.name)),Z=wl(w,ne=>{Gs(ne.docs.map(ee=>({id:ee.id,...ee.data()})))});return()=>Z()}else i?.role==="teacher"&&ut&&bt&&Gs(Na.results.filter(w=>w.studentClass===ut.name))},[ut,i]),fe.useEffect(()=>{Wt.current||(Wt.current=new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"),Wt.current.loop=!0);const w=()=>{f==="quiz"&&!sn&&(document.hidden?Wt.current.play().catch(ee=>console.log("Play error:",ee)):(Wt.current.pause(),Wt.current.currentTime=0,alert(" PERINGATAN: Dilarang meninggalkan halaman kuis!")))},Z=()=>{f==="quiz"&&!sn&&Wt.current.play().catch(ee=>console.log("Play error:",ee))},ne=()=>{f==="quiz"&&!sn&&!Wt.current.paused&&(Wt.current.pause(),Wt.current.currentTime=0,alert(" PERINGATAN: Tetap di halaman ujian!"))};return document.addEventListener("visibilitychange",w),window.addEventListener("blur",Z),window.addEventListener("focus",ne),()=>{document.removeEventListener("visibilitychange",w),window.removeEventListener("blur",Z),window.removeEventListener("focus",ne),Wt.current&&(Wt.current.pause(),Wt.current.currentTime=0)}},[f,sn]);const Wa=(w,Z)=>{const ne=document.createElement("textarea");ne.value=w,ne.style.position="fixed",ne.style.left="-9999px",document.body.appendChild(ne),ne.select();try{document.execCommand("copy"),I(Z),setTimeout(()=>I(null),2e3)}catch{}document.body.removeChild(ne)},xn=(w,Z)=>{Q(!0),setTimeout(()=>{ve(w),ze(Z),Jt(""),Ui(""),Je({name:"",password:"",teacherCode:""}),y("auth"),Q(!1)},500)},Ys=async w=>{if(w.preventDefault(),c(!0),Jt(""),Ui(""),le==="register"&&we==="teacher"&&Qe.teacherCode!=="Eduquestguru26"){Jt("Kode Akses Guru salah!"),c(!1);return}try{if(!bt&&Ge){const Z=zn(Ge,"artifacts",Yt,"public","data","users");if(le==="register"){const ne=await xl(Ti(Z,Un("name","==",Qe.name)));let ee=!1;if(ne.forEach(ue=>{ue.data().role===we&&(ee=!0)}),ee)throw new Error("Nama pengguna sudah terdaftar.");await Wc(Z,{role:we,name:Qe.name,password:Qe.password,classroom:null}),Ui("Akun dibuat! Silakan login secara manual."),setTimeout(()=>{ve("login"),Je({name:"",password:"",teacherCode:""}),Ui(""),c(!1)},1500)}else{const ne=await xl(Ti(Z,Un("name","==",Qe.name)));let ee=null;if(ne.forEach(ue=>{ue.data().password===Qe.password&&(ee={id:ue.id,...ue.data()})}),ee)setTimeout(()=>{r(ee),y(ee.role==="teacher"?"teacher-dash":"student-dash"),c(!1)},800);else throw new Error("Nama atau Password salah.")}}else c(!1)}catch(Z){Jt(Z.message||"Terjadi kesalahan."),c(!1)}},ri=()=>{r(null),R(!1),y("landing"),Je({name:"",password:"",teacherCode:""}),si(null),Zt([]),In(""),qi(""),dt("overview"),Te("overview"),de(null),Oe([]),Et([])},wn=()=>{de({title:"Keluar Akun?",message:"Anda harus login kembali untuk mengakses data Anda.",onConfirm:ri,onCancel:()=>de(null),type:"warning"})},An=async()=>{if(!fn.name||!fn.school||!fn.subject)return alert("Mohon lengkapi semua data kelas.");const w=rb(),Z={name:fn.name,school:fn.school,subject:fn.subject,code:w,teacherId:i.id,teacherName:i.name,students:[],studentIds:[],createdAt:bt?{seconds:Date.now()/1e3}:gm()};if(!bt&&Ge)try{await Wc(zn(Ge,"artifacts",Yt,"public","data","classes"),Z)}catch(ne){console.error(ne),alert("Gagal membuat kelas.");return}else Na.classes.push({id:"cls_"+Date.now(),...Z}),Et([...Na.classes.filter(ne=>ne.teacherId===i.id)]);ls({name:"",school:"",subject:""}),Gn(!1),alert(`Kelas Berhasil Dibuat! Kode Kelas: ${w}`)},li=async w=>{if(w.preventDefault(),!!os){c(!0),Jt("");try{if(!bt&&Ge){const Z=Ti(zn(Ge,"artifacts",Yt,"public","data","classes"),Un("code","==",os.toUpperCase())),ne=await xl(Z);if(ne.empty)throw new Error("Kode kelas tidak ditemukan.");const ee=ne.docs[0],ue=ee.data();if(ue.studentIds&&ue.studentIds.includes(i.id))throw new Error("Anda sudah bergabung di kelas ini.");await _m(kl(Ge,"artifacts",Yt,"public","data","classes",ee.id),{students:Rv({id:i.id,name:i.name,absen:null}),studentIds:Rv(i.id)}),alert(`Berhasil bergabung ke kelas ${ue.name}! Silakan pilih nomor absen Anda sekarang.`),mn({id:ee.id,...ue}),$a("")}}catch(Z){Jt(Z.message)}c(!1)}},St=async()=>{if(!Li||!At)return;const w=parseInt(At);if(!bt&&Ge){const Z=kl(Ge,"artifacts",Yt,"public","data","classes",Li.id),ne=await wN(Z);if(ne.exists()){const ue=ne.data().students.map(Kt=>Kt.id===i.id?{...Kt,absen:w}:Kt);await _m(Z,{students:ue})}}mn(null),En(""),alert("Absen berhasil disimpan!")},er=w=>{const Z=w.students?.find(ne=>ne.id===i.id);Z&&!Z.absen?mn(w):alert(`Anda terdaftar di kelas ${w.name}. Absen: ${Z?.absen}`)},tr=w=>{us(w.id),In(w.title),Zt(w.questions||[]),nn(w.assignedClassIds||[]),Pi(!0)},oi=(w,Z)=>{w.stopPropagation(),de({title:"Hapus Kuis?",message:"Tindakan ini tidak dapat dibatalkan. Kuis dan riwayat nilai terkait akan dihapus permanen.",type:"danger",onCancel:()=>de(null),onConfirm:async()=>{if(!bt&&Ge)try{await jv(kl(Ge,"artifacts",Yt,"public","data","quizzes",Z))}catch{alert("Gagal menghapus kuis.")}else Na.quizzes=Na.quizzes.filter(ne=>ne.id!==Z),Oe([...Na.quizzes.filter(ne=>ne.teacherId===i.id)]);de(null)}})},ui=(w,Z)=>{w.stopPropagation(),de({title:"Hapus Kelas?",message:"Menghapus kelas akan menghapus semua data siswa di dalamnya. Lanjutkan?",type:"danger",onCancel:()=>de(null),onConfirm:async()=>{!bt&&Ge&&await jv(kl(Ge,"artifacts",Yt,"public","data","classes",Z)),si(null),de(null)}})},nr=()=>{Qn?de({title:"Update Kuis?",message:"Perubahan pada soal dan pengaturan kuis akan disimpan.",type:"warning",onCancel:()=>de(null),onConfirm:()=>{Xs(),de(null)}}):Xs()},ir=()=>{de({title:"Selesaikan Kuis?",message:"Pastikan semua jawaban sudah terisi. Anda tidak dapat mengubahnya lagi setelah ini.",type:"warning",onCancel:()=>de(null),onConfirm:()=>{$s(!0),de(null)}})},Xs=async()=>{if(!Rn||Vt.length===0)return alert("Isi judul dan minimal 1 soal.");if(tt.length===0)return alert("Pilih minimal satu kelas.");c(!0);const w=rb(),Z=$e.filter(ee=>tt.includes(ee.id)).map(ee=>ee.name),ne={title:Rn,questions:Vt,teacherId:i.id,teacherName:i.name,assignedClassIds:tt,allowedClassNames:Z,...Qn?{}:{code:w,createdAt:bt?{seconds:Date.now()/1e3}:gm()}};if(!bt&&Ge)try{Qn?(await _m(kl(Ge,"artifacts",Yt,"public","data","quizzes",Qn),ne),alert("Kuis Berhasil Diupdate!")):(await Wc(zn(Ge,"artifacts",Yt,"public","data","quizzes"),ne),alert(`Kuis Berhasil Dibuat! Kode: ${w}`))}catch(ee){console.error(ee)}Zt([]),In(""),nn([]),Pi(!1),us(null),Te("quizzes"),c(!1)},Lr=async w=>{w.preventDefault(),c(!0),Jt("");const Z=async()=>{if(!bt&&Ge){const ee=await xl(Ti(zn(Ge,"artifacts",Yt,"public","data","quizzes"),Un("code","==",Qs.toUpperCase())));return ee.empty?null:{id:ee.docs[0].id,...ee.docs[0].data()}}else return Na.quizzes.find(ee=>ee.code===Qs.toUpperCase())},ne=async ee=>!bt&&Ge?!(await xl(Ti(zn(Ge,"artifacts",Yt,"public","data","results"),Un("studentId","==",i.id),Un("quizId","==",ee)))).empty:Na.results.some(ue=>ue.studentId===i.id&&ue.quizId===ee);try{const ee=await Z();if(!ee){Jt("Kode tidak ditemukan."),c(!1);return}const ue=ee.allowedClassNames||[],Kt=F.map(ci=>ci.name),ds=ue.filter(ci=>Kt.includes(ci));if(ue.length>0&&ds.length===0){Jt(`Akses Ditolak. Anda belum bergabung dengan kelas target (${ue.join(", ")}).`),c(!1);return}if(await ne(ee.id)){Jt("Sudah dikerjakan!"),c(!1);return}Za(null),Ja({...ee,validClassesForStudent:ds.length>0?ds:ue}),y("quiz"),ai(0),Tn(0),xt(!1)}catch(ee){Jt("Error: "+ee.message)}c(!1)},$s=async(w=!1)=>{let Z=Ur;if(!st||!st.questions)return;const ne=st.questions[pn],ee=parseInt(ne.points)||0;if(yt===ne.answer&&(Z+=ee),Tn(Z),!w&&pn+1<st.questions.length)ai(pn+1),Yn(null);else{xt(!0);const ue=Math.min(100,Math.round(Z+(!w&&yt===ne.answer?ee:0))),Kt={quizId:st.id,quizCode:st.code,quizTitle:st.title,studentId:i.id,studentName:i.name,studentClass:cs||"Umum",score:ue,isPublished:!1,timestamp:bt?{seconds:Date.now()/1e3}:gm(),teacherId:st.teacherId};if(!bt&&Ge)try{await Wc(zn(Ge,"artifacts",Yt,"public","data","results"),Kt)}catch{}Tn(ue)}},Sn=async(w,Z)=>{if(confirm(`Publikasikan nilai untuk kuis ini di kelas ${Z}? Siswa akan dapat melihat nilainya.`)&&!bt&&Ge)try{const ne=Ti(zn(Ge,"artifacts",Yt,"public","data","results"),Un("quizId","==",w),Un("studentClass","==",Z)),ee=await xl(ne);if(ee.empty){alert("Tidak ada data siswa untuk dipublikasikan.");return}const ue=AN(Ge);ee.docs.forEach(Kt=>{Kt.data().isPublished!==!0&&ue.update(Kt.ref,{isPublished:!0})}),await ue.commit(),alert("Nilai berhasil dipublikasikan!")}catch(ne){console.error("Publish error:",ne),alert("Gagal mempublikasikan nilai.")}},Nt=()=>{if(!Gt.question||!Gt.answer||Gt.options.some(ne=>!ne))return alert("Lengkapi data soal.");const w=parseInt(Gt.points)||0,Z=Vt.reduce((ne,ee)=>ne+(parseInt(ee.points)||0),0);if(Z+w>100)return alert(`Total poin melebihi 100! Sisa poin yang tersedia: ${100-Z}`);Zt([...Vt,Gt]),Bi({question:"",options:["","","",""],answer:"",points:10})},zt=w=>{tt.includes(w)?nn(tt.filter(Z=>Z!==w)):nn([...tt,w])},Hi=w=>{w.preventDefault(),alert(`Terima kasih ${Fn.name}! Pesan Anda telah kami terima.`),ft({name:"",email:"",message:""}),re(null)};if(x)return p.jsxs("div",{className:"fixed inset-0 z-[200] bg-white flex flex-col items-center justify-center animate-out fade-out duration-1000 fill-mode-forwards",children:[p.jsx("div",{className:"p-8 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-[32px] shadow-2xl shadow-blue-900/20 animate-bounce",children:p.jsx(nh,{size:80,className:"text-white drop-shadow-md"})}),p.jsx("h1",{className:"mt-8 text-5xl font-extrabold text-slate-800 tracking-tighter animate-pulse bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:"EduQuest"}),p.jsx("p",{className:"text-slate-400 mt-3 font-semibold text-lg",children:"Memuat Aplikasi..."})]});if(D)return p.jsxs("div",{className:"fixed inset-0 z-[100] bg-white/90 backdrop-blur-xl flex flex-col items-center justify-center",children:[p.jsx(Jo,{size:64,className:"text-blue-600 animate-spin mb-6"}),p.jsx("p",{className:"text-slate-600 font-bold text-xl animate-pulse",children:"Memproses..."})]});const hs=K.filter(w=>w.isPublished);return Vt.reduce((w,Z)=>w+(parseInt(Z.points)||0),0),p.jsxs("div",{className:"font-sans text-slate-800 antialiased selection:bg-blue-100 selection:text-blue-900 overflow-x-hidden",children:[ie&&p.jsx(QI,{title:ie.title,message:ie.message,onConfirm:ie.onConfirm,onCancel:ie.onCancel,type:ie.type}),bt&&p.jsxs("div",{className:"bg-amber-100 text-amber-800 text-xs font-bold text-center py-2 px-4 border-b border-amber-200 flex items-center justify-center gap-2 shadow-sm relative z-[60]",children:[p.jsx(Wm,{size:14})," Mode Demo Offline Aktif - Data tidak tersimpan ke server"]}),f==="landing"&&p.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col relative overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[p.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#4f46e5 1px, transparent 1px), linear-gradient(to right, #4f46e5 1px, transparent 1px)",backgroundSize:"40px 40px"}}),p.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[600px] h-[600px] bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-[100px] animate-pulse"}),p.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[700px] h-[700px] bg-gradient-to-tr from-indigo-400/20 to-pink-400/20 rounded-full blur-[120px] animate-pulse delay-1000"})]}),p.jsxs("nav",{className:"sticky top-0 w-full z-50 bg-white/70 backdrop-blur-xl border-b border-white/50 py-4 px-6 md:px-12 flex justify-between items-center transition-all shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:()=>window.location.reload(),children:[p.jsx("div",{className:"p-2.5 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/20 text-white group-hover:scale-110 transition-transform duration-300",children:p.jsx(nh,{size:24,strokeWidth:2.5})}),p.jsxs("span",{className:"font-extrabold text-2xl tracking-tight text-slate-800 group-hover:text-blue-600 transition-colors",children:["EduQuest",p.jsx("span",{className:"text-blue-500",children:"."})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("button",{onClick:()=>xn("login","student"),className:"hidden md:flex bg-white hover:bg-slate-50 text-slate-700 px-5 py-2.5 rounded-xl font-bold text-sm border border-slate-200 items-center gap-2 transition-all hover:shadow-md hover:-translate-y-0.5 group active:scale-95",children:[p.jsx(xm,{size:16,className:"text-blue-500 group-hover:rotate-45 transition-transform"})," Masukkan Kode"]}),p.jsx("button",{onClick:()=>xn("login","student"),className:"text-slate-600 font-bold text-sm hover:text-blue-700 px-4 transition-colors active:scale-95",children:"Masuk"}),p.jsxs("button",{onClick:()=>xn("register","student"),className:"bg-slate-900 hover:bg-black text-white px-6 py-2.5 rounded-xl font-bold text-sm shadow-lg shadow-slate-900/20 hover:-translate-y-0.5 transition-all flex items-center gap-2 active:scale-95",children:["Daftar Gratis ",p.jsx(Em,{size:14})]})]})]}),p.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center px-4 py-24 relative z-10",children:p.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto space-y-8",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur border border-blue-100 rounded-full shadow-sm mb-2 animate-in fade-in slide-in-from-bottom-4 duration-700 hover:scale-105 transition-transform cursor-default select-none",children:[p.jsx("span",{className:"flex h-2 w-2 rounded-full bg-blue-500 animate-pulse"}),p.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Revolusi Pendidikan Digital"})]}),p.jsxs("h1",{className:"text-3xl md:text-5xl font-extrabold leading-tight text-slate-900 tracking-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100 drop-shadow-sm",children:["Belajar Tanpa Batas, ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",children:"Ujian Tanpa Cemas."})]}),p.jsx("p",{className:"text-slate-600 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200 font-medium",children:"Platform all-in-one yang menghubungkan guru dan siswa melalui asesmen interaktif, analisis mendalam, dan pengalaman belajar yang menyenangkan."}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 w-full max-w-lg mx-auto animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[p.jsxs("button",{onClick:()=>xn("register","teacher"),className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-3 rounded-2xl font-bold text-lg hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center justify-center group min-w-[200px] active:scale-95",children:[p.jsx("span",{className:"text-xs font-medium opacity-80 uppercase tracking-wider mb-0.5",children:"Guru"}),p.jsxs("span",{className:"flex items-center gap-2",children:["Daftar Gratis ",p.jsx(Em,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),p.jsx("button",{onClick:()=>re("contact"),className:"w-full sm:w-auto bg-white text-slate-700 px-8 py-4 rounded-2xl font-bold text-lg hover:bg-slate-50 border border-slate-200 shadow-sm hover:shadow-md transition-all duration-300 active:scale-95",children:"Hubungi Kami"})]})]})}),W==="contact"&&p.jsx(ah,{title:"Hubungi Kami",onClose:()=>re(null),icon:sb,color:"blue",children:p.jsxs("form",{onSubmit:Hi,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"Nama Lengkap"}),p.jsxs("div",{className:"relative",children:[p.jsx(BI,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("input",{required:!0,className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 transition-colors",placeholder:"Masukkan nama Anda",value:Fn.name,onChange:w=>ft({...Fn,name:w.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(sb,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("input",{type:"email",required:!0,className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 transition-colors",placeholder:"email@sekolah.com",value:Fn.email,onChange:w=>ft({...Fn,email:w.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"Pesan"}),p.jsxs("div",{className:"relative",children:[p.jsx(pI,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("textarea",{required:!0,className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 min-h-[120px] transition-colors",placeholder:"Tulis pesan Anda di sini...",value:Fn.message,onChange:w=>ft({...Fn,message:w.target.value})})]})]}),p.jsx("div",{className:"flex justify-end pt-4",children:p.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 shadow-lg flex items-center gap-2 active:scale-95 transition-all",children:[p.jsx(SI,{size:18})," Kirim Pesan"]})})]})})]}),f==="auth"&&p.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("div",{className:"absolute top-[-20%] left-[-20%] w-[800px] h-[800px] bg-blue-400/20 rounded-full blur-[120px] animate-pulse"}),p.jsx("div",{className:"absolute bottom-[-20%] right-[-20%] w-[800px] h-[800px] bg-indigo-400/20 rounded-full blur-[120px] animate-pulse delay-1000"})]}),p.jsxs("div",{className:"bg-white/80 backdrop-blur-2xl w-full max-w-md rounded-[40px] shadow-2xl relative z-10 p-10 border border-white/50 animate-in zoom-in-95 duration-500",children:[p.jsx("button",{onClick:()=>y("landing"),className:"absolute top-8 left-8 text-slate-400 hover:text-slate-800 transition flex items-center gap-1 text-sm font-bold group",children:p.jsx("div",{className:"p-1 rounded-full group-hover:bg-slate-100 transition",children:p.jsx(BR,{className:"rotate-180",size:18})})}),p.jsxs("div",{className:"text-center mt-6 mb-8",children:[p.jsx("div",{className:"inline-flex p-5 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-3xl mb-6 shadow-xl shadow-blue-500/30",children:le==="login"?p.jsx(cI,{size:32,strokeWidth:2.5}):p.jsx(LI,{size:32,strokeWidth:2.5})}),p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:le==="login"?"Selamat Datang":we==="teacher"?"Daftar Guru":"Daftar Siswa"}),p.jsx("p",{className:"text-slate-500 text-sm mt-2 font-medium",children:le==="login"?"Masuk untuk melanjutkan.":"Lengkapi data untuk membuat akun."})]}),p.jsxs("form",{onSubmit:Ys,className:"space-y-5",children:[p.jsxs("div",{className:"group",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1.5 block tracking-wide group-focus-within:text-blue-600 transition-colors",children:"Nama Lengkap"}),p.jsx("input",{type:"text",required:!0,className:"w-full p-4 border border-slate-200 rounded-2xl bg-white/50 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all text-slate-800 font-bold placeholder:text-slate-400 placeholder:font-normal",placeholder:"Contoh: Budi Santoso",value:Qe.name,onChange:w=>Je({...Qe,name:w.target.value})})]}),p.jsxs("div",{className:"group",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1.5 block tracking-wide group-focus-within:text-blue-600 transition-colors",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:Ai?"text":"password",required:!0,className:"w-full p-4 border border-slate-200 rounded-2xl bg-white/50 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all text-slate-800 font-bold placeholder:text-slate-400 placeholder:font-normal",placeholder:"",value:Qe.password,onChange:w=>Je({...Qe,password:w.target.value})}),p.jsx("button",{type:"button",onClick:()=>Ya(!Ai),className:"absolute right-4 top-4 text-slate-400 hover:text-slate-600 transition-colors p-1",children:Ai?p.jsx($R,{size:20}):p.jsx(ZR,{size:20})})]})]}),le==="register"&&we==="teacher"&&p.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300",children:[p.jsxs("label",{className:"text-xs font-bold text-indigo-600 uppercase ml-1 mb-1.5 block tracking-wide flex items-center gap-1",children:[p.jsx(DI,{size:12})," Kode Akses Guru"]}),p.jsx("input",{type:"password",required:!0,className:"w-full p-4 border border-indigo-200 rounded-2xl bg-indigo-50/30 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all text-slate-800 font-bold placeholder:text-slate-400 placeholder:font-normal",placeholder:"Wajib untuk guru...",value:Qe.teacherCode,onChange:w=>Je({...Qe,teacherCode:w.target.value})})]}),qn&&p.jsxs("div",{className:"text-red-600 text-sm bg-red-50 p-4 rounded-2xl flex items-center gap-3 font-bold border border-red-100 animate-in slide-in-from-top-2",children:[p.jsx(Wm,{size:18,className:"shrink-0"})," ",qn]}),Hn&&p.jsxs("div",{className:"text-green-600 text-sm bg-green-50 p-4 rounded-2xl flex items-center gap-3 font-bold border border-green-100 animate-in slide-in-from-top-2",children:[p.jsx(Al,{size:18,className:"shrink-0"})," ",Hn]}),p.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-4 rounded-2xl font-bold shadow-xl shadow-blue-500/20 transition-all transform active:scale-[0.98] text-lg mt-4 flex justify-center items-center gap-2",children:o?p.jsx(Jo,{className:"animate-spin",size:20}):le==="login"?"Masuk Aplikasi":"Buat Akun"})]}),p.jsxs("div",{className:"p-4 text-center text-sm text-slate-500 mt-6 border-t border-slate-100 pt-6",children:[le==="login"?"Belum punya akun? ":"Sudah punya akun? ",le==="login"?p.jsx("button",{onClick:()=>ve("register"),className:"text-blue-600 font-extrabold hover:underline transition decoration-2 underline-offset-4",children:"Daftar Sekarang"}):p.jsx("button",{onClick:()=>ve("login"),className:"text-blue-600 font-extrabold hover:underline transition decoration-2 underline-offset-4",children:"Login"})]})]})]}),f==="teacher-dash"&&p.jsxs("div",{className:"h-screen bg-slate-50 font-sans flex flex-col md:flex-row overflow-hidden",children:[Me&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden animate-in fade-in duration-300",onClick:()=>R(!1)}),p.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 text-slate-300 flex-col relative overflow-hidden h-full transform transition-transform duration-300 ease-in-out ${Me?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:relative`,children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl"}),p.jsxs("div",{className:"p-8 border-b border-slate-800 flex items-center gap-3 relative z-10",children:[p.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-2.5 rounded-xl text-white shadow-lg shadow-blue-900/50",children:p.jsx(nh,{size:24})}),p.jsx("span",{className:"text-white font-extrabold text-2xl tracking-tight",children:"EduGuru"})]}),p.jsx("div",{className:"p-6 space-y-3 relative z-10 flex-1",children:[{id:"overview",icon:yI,label:"Beranda"},{id:"classes",icon:sh,label:"Kelas Saya"},{id:"quizzes",icon:$o,label:"Bank Soal"},{id:"results",icon:th,label:"Nilai Siswa"}].map(w=>p.jsxs("button",{onClick:()=>{Te(w.id),R(!1)},className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all duration-200 font-bold text-sm active:scale-95 ${_e===w.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(w.icon,{size:20})," ",w.label]},w.id))}),p.jsxs("div",{className:"p-6 relative z-10",children:[p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-2xl p-5 mb-4 border border-slate-700",children:[p.jsx("div",{className:"text-xs font-bold text-slate-500 mb-2 uppercase tracking-wider",children:"Login Sebagai"}),p.jsxs("div",{className:"text-white font-bold truncate flex items-center gap-2",children:[p.jsx(Tm,{size:16})," ",i?.name]})]}),p.jsxs("button",{onClick:wn,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-white hover:bg-red-500/20 p-4 rounded-2xl font-bold transition-all active:scale-95",children:[p.jsx(ib,{size:20})," Logout"]})]})]}),p.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto bg-[#F8FAFC] h-full",children:[p.jsxs("header",{className:"flex justify-between items-center mb-6 md:mb-10",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{className:"md:hidden p-2 bg-white rounded-xl shadow-sm active:scale-95 transition-transform",onClick:()=>R(!0),children:p.jsx(ab,{})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl md:text-4xl font-black text-slate-800 tracking-tight mb-1 md:mb-2",children:[_e==="overview"&&"Dashboard Overview",_e==="classes"&&"Manajemen Kelas",_e==="quizzes"&&"Bank Kuis & Soal",_e==="results"&&"Rekap Nilai Siswa"]}),p.jsx("p",{className:"text-slate-500 font-medium text-sm md:text-lg hidden md:block",children:"Kelola aktivitas pembelajaran Anda dengan mudah."})]})]}),p.jsx("button",{className:"bg-white p-3 rounded-full shadow-md text-slate-400 border border-slate-200 hover:text-blue-600 hover:scale-110 transition-all",children:p.jsx(VR,{size:24})})]}),p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_e==="overview"&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-8 rounded-[32px] text-white shadow-2xl shadow-blue-500/30 relative overflow-hidden group transition-transform hover:scale-[1.02]",children:[p.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-125 transition-transform duration-700",children:p.jsx(sh,{size:120})}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"flex justify-between items-start mb-6",children:p.jsx("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm",children:p.jsx(sh,{size:32})})}),p.jsx("div",{className:"text-6xl font-black mb-2",children:$e.length}),p.jsx("div",{className:"text-blue-100 font-bold text-lg",children:"Kelas Aktif"})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-xl shadow-slate-200/50 hover:-translate-y-1 transition-transform duration-300",children:[p.jsx("div",{className:"flex justify-between items-start mb-6",children:p.jsx("div",{className:"p-4 bg-purple-100 text-purple-600 rounded-2xl",children:p.jsx($o,{size:32})})}),p.jsx("div",{className:"text-6xl font-black text-slate-800 mb-2",children:pe.length}),p.jsx("div",{className:"text-slate-500 font-bold text-lg",children:"Kuis Dibuat"})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-xl shadow-slate-200/50 hover:-translate-y-1 transition-transform duration-300",children:[p.jsx("div",{className:"flex justify-between items-start mb-6",children:p.jsx("div",{className:"p-4 bg-green-100 text-green-600 rounded-2xl",children:p.jsx(th,{size:32})})}),p.jsx("div",{className:"text-6xl font-black text-slate-800 mb-2",children:Ke.length}),p.jsx("div",{className:"text-slate-500 font-bold text-lg",children:"Total Pengerjaan"})]})]}),_e==="classes"&&p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center bg-white p-6 rounded-3xl shadow-sm border border-slate-100 gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800 text-xl",children:"Daftar Kelas"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Buat dan kelola kelas siswa."})]}),p.jsxs("button",{onClick:()=>Gn(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-2xl font-bold hover:bg-blue-700 flex items-center gap-2 shadow-lg shadow-blue-500/20 transition hover:-translate-y-1 w-full md:w-auto justify-center active:scale-95",children:[p.jsx(ih,{size:20})," Buat Kelas Baru"]})]}),It&&p.jsx(ah,{title:"Buat Kelas Baru",onClose:()=>Gn(!1),icon:Nl,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Nama Kelas"}),p.jsx("input",{value:fn.name,onChange:w=>ls({...fn,name:w.target.value}),placeholder:"Contoh: 12 IPA 1",className:"w-full p-4 border border-slate-200 rounded-xl outline-none focus:border-blue-500 font-semibold transition-all"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Nama Sekolah"}),p.jsxs("div",{className:"relative",children:[p.jsx(tb,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("input",{value:fn.school,onChange:w=>ls({...fn,school:w.target.value}),placeholder:"Contoh: SMA Negeri 1",className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 font-semibold transition-all"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Mata Pelajaran"}),p.jsxs("div",{className:"relative",children:[p.jsx(eb,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("input",{value:fn.subject,onChange:w=>ls({...fn,subject:w.target.value}),placeholder:"Contoh: Matematika Wajib",className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 font-semibold transition-all"})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>Gn(!1),className:"px-6 py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 active:scale-95 transition-all",children:"Batal"}),p.jsx("button",{type:"button",onClick:An,className:"px-8 py-3 rounded-xl font-bold bg-blue-600 text-white hover:bg-blue-700 shadow-lg active:scale-95 transition-all",children:"Simpan Kelas"})]})]})}),b?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[1,2,3].map(w=>p.jsx(Sm,{},w))}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:$e.map(w=>p.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-lg shadow-slate-200/40 hover:shadow-2xl hover:shadow-blue-900/10 transition-all duration-300 group relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-400/10 rounded-full blur-2xl group-hover:bg-orange-400/20 transition-colors"}),p.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[p.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl group-hover:scale-110 transition-transform",children:p.jsx(Nl,{size:32})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>Wa(w.code,w.id),className:`px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 active:scale-95 transition-all ${S===w.id?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[S===w.id?p.jsx(Al,{size:12}):p.jsx(nb,{size:12})," ",w.code]}),p.jsx("button",{onClick:Z=>ui(Z,w.id),className:"text-slate-300 hover:text-red-500 transition bg-white p-2 rounded-lg shadow-sm border border-slate-100 active:scale-90",children:p.jsx(ep,{size:16})})]})]}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("h4",{className:"text-2xl font-black text-slate-800 mb-1",children:w.name}),p.jsxs("p",{className:"text-sm font-semibold text-slate-500 mb-4",children:[w.subject,"  ",w.school]}),p.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[p.jsx(sh,{size:16,className:"text-slate-400"}),p.jsxs("span",{className:"text-slate-600 font-bold text-sm",children:[w.students?.length||0," Siswa"]})]}),p.jsx("button",{onClick:()=>{si(w),Xa("students")},className:"w-full bg-slate-50 text-slate-700 py-3 rounded-xl font-bold text-sm hover:bg-slate-900 hover:text-white transition-all duration-300 border border-slate-200 active:scale-95",children:"Lihat Siswa"})]})]},w.id))})]}),_e==="quizzes"&&p.jsx("div",{className:"space-y-8",children:Tt?p.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[p.jsxs("div",{className:"bg-slate-50 p-8 border-b border-slate-200 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-black text-slate-800 text-2xl",children:Qn?"Edit Kuis":"Buat Kuis Baru"}),p.jsx("p",{className:"text-slate-500 text-sm font-bold mt-1",children:"Buat pertanyaan dan tentukan target kelas."}),p.jsxs("div",{className:"mt-2 text-indigo-600 font-bold bg-indigo-50 px-3 py-1 rounded-lg inline-block text-sm",children:["Total Poin Saat Ini: ",Vt.reduce((w,Z)=>w+(parseInt(Z.points)||0),0)," / 100"]})]}),p.jsx("button",{onClick:()=>{Pi(!1),us(null),Zt([]),In(""),nn([])},className:"bg-white p-3 rounded-full hover:bg-red-50 text-slate-400 hover:text-red-500 transition shadow-sm border border-slate-200 active:scale-90",children:p.jsx(ME,{size:24})})]}),p.jsxs("div",{className:"p-10 space-y-10",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 ml-1",children:"Judul Kuis"}),p.jsx("input",{value:Rn,onChange:w=>In(w.target.value),className:"w-full text-4xl font-black border-b-2 border-slate-200 focus:border-blue-600 outline-none py-2 bg-transparent placeholder:text-slate-300 transition-colors",placeholder:"Masukkan Judul Kuis..."})]}),p.jsxs("div",{className:"bg-indigo-50 p-8 rounded-3xl border border-indigo-100 relative overflow-hidden",children:[p.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5",children:p.jsx(Am,{size:100})}),p.jsxs("h5",{className:"font-bold text-indigo-900 mb-4 flex items-center gap-2 text-lg",children:[p.jsx(Am,{size:24})," Target Kelas"]}),p.jsx("div",{className:"flex flex-wrap gap-3 relative z-10",children:$e.length>0?$e.map(w=>p.jsxs("button",{onClick:()=>zt(w.id),className:`px-5 py-3 rounded-xl font-bold text-sm transition-all transform hover:scale-105 active:scale-95 ${tt.includes(w.id)?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/40 ring-2 ring-indigo-200":"bg-white text-slate-600 border border-slate-200 hover:border-indigo-300"}`,children:[tt.includes(w.id)&&p.jsx(Al,{size:16,className:"inline mr-2"}),w.name]},w.id)):p.jsx("span",{className:"text-slate-400 italic",children:"Belum ada kelas."})})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-blue-100 shadow-xl shadow-blue-900/5",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-lg font-bold text-xs uppercase",children:[p.jsx(ih,{size:14})," Input Soal"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Poin:"}),p.jsx("input",{type:"number",min:"1",max:"100",value:Gt.points,onChange:w=>Bi({...Gt,points:w.target.value}),className:"w-16 p-2 rounded-lg border border-slate-200 text-center font-bold text-sm outline-none focus:border-blue-500"})]})]}),p.jsx("textarea",{value:Gt.question,onChange:w=>Bi({...Gt,question:w.target.value}),className:"w-full p-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:bg-blue-50/30 outline-none mb-6 text-lg font-semibold min-h-[120px]",placeholder:"Tulis pertanyaan di sini...",rows:3}),p.jsx("div",{className:"space-y-3 mb-6",children:Gt.options.map((w,Z)=>p.jsxs("div",{className:"flex items-center gap-3 group",children:[p.jsx("span",{className:"w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-black group-focus-within:bg-blue-600 group-focus-within:text-white transition-colors",children:String.fromCharCode(65+Z)}),p.jsx("input",{value:w,onChange:ne=>{const ee=[...Gt.options];ee[Z]=ne.target.value,Bi({...Gt,options:ee})},className:"flex-1 p-3 rounded-xl border border-slate-200 text-sm font-medium focus:border-blue-500 outline-none transition-all",placeholder:`Pilihan ${String.fromCharCode(65+Z)}`})]},Z))}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Kunci Jawaban"}),p.jsxs("select",{value:Gt.answer,onChange:w=>Bi({...Gt,answer:w.target.value}),className:"w-full p-4 rounded-xl border-2 border-slate-100 text-sm font-bold bg-white focus:border-green-500 outline-none",children:[p.jsx("option",{value:"",children:"Pilih Jawaban Benar"}),Gt.options.map((w,Z)=>w&&p.jsx("option",{value:w,children:w},Z))]})]}),p.jsx("button",{onClick:Nt,className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-bold hover:bg-black transition-all hover:shadow-lg active:scale-95",children:"Simpan Soal ke Daftar"})]})}),p.jsxs("div",{className:"bg-slate-50 rounded-[32px] p-8 border border-slate-200 h-fit",children:[p.jsxs("h5",{className:"font-bold text-slate-700 mb-6 flex justify-between items-center text-xl",children:[p.jsx("span",{children:"Preview"}),p.jsxs("span",{className:"bg-white text-slate-800 px-4 py-2 rounded-full text-xs shadow-sm border border-slate-100",children:[Vt.length," Soal Tersimpan"]})]}),Vt.length===0?p.jsxs("div",{className:"text-center py-20 text-slate-400 italic flex flex-col items-center gap-4",children:[p.jsx("div",{className:"bg-slate-200 p-4 rounded-full",children:p.jsx($o,{size:32})}),"Belum ada soal ditambahkan."]}):p.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:Vt.map((w,Z)=>p.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative group hover:border-blue-300 transition-colors",children:[p.jsx("div",{className:"absolute top-4 right-4 text-slate-300 font-black text-4xl opacity-20",children:Z+1}),p.jsx("div",{className:"font-bold text-slate-800 text-lg mb-2 pr-8",children:w.question}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"text-xs text-green-600 font-bold bg-green-50 px-3 py-1 rounded-lg inline-block border border-green-100",children:["Jawaban: ",w.answer]}),p.jsxs("div",{className:"text-xs text-blue-600 font-bold bg-blue-50 px-3 py-1 rounded-lg inline-block border border-blue-100",children:[w.points," Poin"]})]})]},Z))})]})]}),p.jsxs("div",{className:"pt-8 border-t border-slate-200 flex justify-end gap-4",children:[p.jsx("button",{onClick:()=>{Pi(!1),us(null),Zt([]),In(""),nn([])},className:"px-8 py-4 rounded-2xl font-bold text-slate-500 hover:bg-slate-100 transition active:scale-95",children:"Batal"}),p.jsxs("button",{onClick:nr,disabled:o,className:"px-10 py-4 rounded-2xl font-bold bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:shadow-xl hover:shadow-green-500/30 transition-all transform hover:-translate-y-1 flex items-center gap-3 active:scale-95",children:[o?p.jsx(Jo,{className:"animate-spin"}):p.jsx(EI,{size:20})," ",Qn?"Update Kuis":"Terbitkan Kuis"]})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-indigo-600 text-white p-8 rounded-[32px] shadow-2xl shadow-indigo-500/30 relative overflow-hidden gap-6",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl transform translate-x-20 -translate-y-10"}),p.jsxs("div",{className:"relative z-10 w-full md:w-auto",children:[p.jsx("h3",{className:"font-black text-3xl mb-2",children:"Bank Soal & Kuis"}),p.jsx("p",{className:"text-indigo-200 font-medium",children:"Buat kuis interaktif untuk siswa Anda."})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 relative z-10 w-full md:w-auto",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl flex items-center p-2 pl-4 border border-white/20 w-full md:w-auto",children:[p.jsx(wI,{size:20,className:"text-white/70 mr-2"}),p.jsx("input",{type:"text",placeholder:"Cari kuis...",className:"bg-transparent outline-none text-white placeholder:text-white/50 w-full md:w-60 font-medium",value:j,onChange:w=>M(w.target.value)})]}),p.jsxs("button",{onClick:()=>Pi(!0),className:"bg-white text-indigo-600 px-8 py-4 rounded-2xl font-bold hover:bg-indigo-50 flex items-center justify-center gap-2 shadow-lg transition hover:scale-105 active:scale-95 w-full md:w-auto",children:[p.jsx(ih,{size:24})," Buat Kuis Baru"]})]})]}),p.jsx("div",{className:"grid gap-6",children:pe.filter(w=>w.title.toLowerCase().includes(j.toLowerCase())).sort((w,Z)=>(w.createdAt?.seconds||0)-(Z.createdAt?.seconds||0)).map((w,Z)=>p.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col md:flex-row md:items-center justify-between gap-6 hover:border-blue-300 transition-all hover:shadow-lg group",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-50 text-slate-500 rounded-2xl flex items-center justify-center font-black text-3xl group-hover:scale-110 group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-all duration-300 border border-slate-100",children:Z+1}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 text-xl mb-2",children:w.title}),p.jsxs("div",{className:"flex flex-wrap gap-3 text-xs font-bold text-slate-500",children:[p.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-lg",children:[p.jsx(xm,{size:14})," Kode: ",p.jsx("span",{className:"text-blue-600",children:w.code})]}),p.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-lg",children:[p.jsx($o,{size:14})," ",w.questions?.length||0," Soal"]}),p.jsxs("span",{className:"flex items-center gap-1 bg-green-50 text-green-600 px-2 py-1 rounded-lg border border-green-100",children:[p.jsx(th,{size:14})," ",w.questions?.reduce((ne,ee)=>ne+(parseInt(ee.points)||0),0)," Poin"]}),w.allowedClassNames&&p.jsxs("span",{className:"flex items-center gap-1 bg-indigo-50 text-indigo-600 px-2 py-1 rounded-lg border border-indigo-100",children:[p.jsx(Am,{size:14})," ",w.allowedClassNames.join(", ")]})]})]})]}),p.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[p.jsx("button",{onClick:()=>Wa(w.code,w.id),className:`flex-1 md:flex-none px-4 py-3 rounded-xl font-bold transition-all shadow-sm flex items-center justify-center gap-2 active:scale-95 ${S===w.id?"bg-green-100 text-green-700":"bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white"}`,title:"Salin Kode",children:S===w.id?p.jsx(Al,{size:18}):p.jsx(nb,{size:18})}),p.jsx("button",{onClick:()=>tr(w),className:"flex-1 md:flex-none px-4 py-3 rounded-xl font-bold bg-slate-100 text-slate-600 hover:bg-slate-200 transition-all flex items-center justify-center gap-2 active:scale-95",title:"Edit Kuis",children:p.jsx(vI,{size:18})}),p.jsx("button",{onClick:ne=>oi(ne,w.id),className:"flex-1 md:flex-none px-4 py-3 rounded-xl font-bold bg-red-50 text-red-500 hover:bg-red-100 transition-all flex items-center justify-center gap-2 border border-red-100 active:scale-95",title:"Hapus Kuis",children:p.jsx(ep,{size:18})})]})]},w.id))})]})}),_e==="results"&&p.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden animate-in fade-in slide-in-from-bottom-4",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsx("h3",{className:"font-bold text-slate-700",children:"Daftar Nilai Siswa"}),p.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[p.jsx(eI,{size:16,className:"text-slate-400"}),p.jsxs("select",{value:z,onChange:w=>N(w.target.value),className:"bg-white border border-slate-200 text-sm font-bold text-slate-600 rounded-xl px-3 py-2 outline-none focus:border-blue-500 w-full md:w-auto",children:[p.jsx("option",{value:"All",children:"Semua Kelas"}),KI($e).map(w=>p.jsx("option",{value:w.name,children:w.name},w.id))]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-xs font-bold text-slate-500 uppercase tracking-widest",children:[p.jsx("th",{className:"p-6",children:"Siswa"}),p.jsx("th",{className:"p-6",children:"Kelas"}),p.jsx("th",{className:"p-6",children:"Kuis"}),p.jsx("th",{className:"p-6 text-right",children:"Nilai"}),p.jsx("th",{className:"p-6 text-right",children:"Waktu"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:Ke.filter(w=>z==="All"||w.studentClass===z).map(w=>p.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[p.jsxs("td",{className:"p-6 font-bold text-slate-800 flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs",children:w.studentName.charAt(0)}),w.studentName]}),p.jsx("td",{className:"p-6 text-slate-500 text-sm font-semibold",children:w.studentClass}),p.jsx("td",{className:"p-6 text-slate-600 font-medium",children:w.quizTitle}),p.jsx("td",{className:"p-6 text-right",children:p.jsx("span",{className:`px-4 py-2 rounded-xl text-xs font-black ${w.score>=75?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.score})}),p.jsx("td",{className:"p-6 text-right text-slate-400 text-xs font-bold",children:w.timestamp?w.timestamp.seconds?new Date(w.timestamp.seconds*1e3).toLocaleDateString():"Baru saja":"-"})]},w.id))})]})}),Ke.length===0&&p.jsx("div",{className:"p-20 text-center text-slate-400 font-medium italic",children:"Belum ada data nilai masuk."})]})]},_e)]}),ut&&p.jsx(ah,{title:ut.name,onClose:()=>si(null),icon:Nl,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex gap-4 border-b border-slate-200 pb-1",children:[p.jsx("button",{onClick:()=>Xa("students"),className:`px-4 py-2 font-bold text-sm transition-colors ${Kn==="students"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-800"}`,children:"Daftar Absen"}),p.jsx("button",{onClick:()=>Xa("grades"),className:`px-4 py-2 font-bold text-sm transition-colors ${Kn==="grades"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-800"}`,children:"Riwayat Kuis & Nilai"})]}),Kn==="students"&&p.jsx("div",{className:"bg-slate-50 rounded-[24px] border border-slate-200 max-h-[400px] overflow-y-auto divide-y divide-slate-200 custom-scrollbar p-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:ut.students&&ut.students.length>0?[...ut.students].sort((w,Z)=>(w.absen||999)-(Z.absen||999)).map((w,Z)=>p.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-white rounded-xl transition-colors",children:[p.jsxs("div",{className:"font-bold text-slate-700 flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xs font-black",children:w.absen||"-"}),w.name]}),p.jsx("div",{className:"text-xs font-bold bg-white border border-slate-200 px-2 py-1 rounded text-slate-500",children:w.absen?`Absen ${w.absen}`:"Belum Absen"})]},Z)):p.jsx("div",{className:"p-10 text-center text-slate-400 text-sm italic",children:"Belum ada siswa di kelas ini."})}),Kn==="grades"&&p.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[Object.entries(Fs.reduce((w,Z)=>(w[Z.quizTitle]||(w[Z.quizTitle]=[]),w[Z.quizTitle].push(Z),w),{})).map(([w,Z])=>{const ne=Z.some(ue=>!ue.isPublished),ee=Z[0]?.quizId;return p.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-4 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-slate-100",children:[p.jsx("h4",{className:"font-bold text-slate-800",children:w}),ne?p.jsxs("button",{onClick:()=>Sn(ee,ut.name),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-indigo-700 flex items-center gap-2 transition active:scale-95",children:[p.jsx(wm,{size:12})," Publish Nilai"]}):p.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[p.jsx(Al,{size:12})," Terpublikasi"]})]}),p.jsx("div",{className:"space-y-2",children:Z.map(ue=>p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-slate-600",children:ue.studentName}),p.jsx("span",{className:`font-bold ${ue.score>=75?"text-green-600":"text-orange-500"}`,children:ue.score})]},ue.id))})]},w)}),Fs.length===0&&p.jsx("div",{className:"p-8 text-center text-slate-400 italic",children:"Belum ada data kuis untuk kelas ini."})]})]})})]}),f==="student-dash"&&p.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans flex flex-col md:flex-row",children:[Me&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden animate-in fade-in duration-300",onClick:()=>R(!1)}),p.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 text-slate-300 flex-col relative overflow-hidden h-full transform transition-transform duration-300 ease-in-out ${Me?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:relative`,children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl"}),p.jsxs("div",{className:"p-8 border-b border-slate-800 relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-2.5 rounded-xl text-white shadow-lg shadow-indigo-900/50",children:p.jsx(nh,{size:24})}),p.jsxs("span",{className:"text-white font-extrabold text-xl tracking-tight leading-tight",children:["Student",p.jsx("br",{}),"Dashboard"]})]}),p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-2xl p-4 border border-slate-700/50",children:[i?.classroom&&p.jsxs("div",{className:"text-[10px] font-bold text-slate-500 mb-1 uppercase tracking-wider",children:["Siswa Kelas ",i?.classroom]}),p.jsxs("div",{className:"text-white font-bold text-sm flex items-start gap-2 break-words",children:[p.jsx(Tm,{size:16,className:"mt-0.5 shrink-0"}),p.jsx("span",{className:"break-all",children:i?.name})]})]})]}),p.jsx("div",{className:"p-6 space-y-3 relative z-10 flex-1",children:[{id:"overview",icon:sI,label:"Beranda"},{id:"classroom",icon:Nl,label:"Ruang Kelas"},{id:"exam",icon:GR,label:"Ruang Ujian"},{id:"history",icon:Sl,label:"Riwayat"},{id:"settings",icon:CI,label:"Pengaturan"}].map(w=>p.jsxs("button",{onClick:()=>{dt(w.id),R(!1)},className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all duration-200 font-bold text-sm active:scale-95 ${xe===w.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/50 scale-105":"hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(w.icon,{size:20})," ",w.label]},w.id))}),p.jsx("div",{className:"p-6 relative z-10",children:p.jsxs("button",{onClick:wn,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-white hover:bg-red-500/20 p-4 rounded-2xl font-bold transition-all active:scale-95",children:[p.jsx(ib,{size:20})," Logout"]})})]}),p.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto bg-[#F8FAFC]",children:[p.jsxs("header",{className:"flex justify-between items-center mb-6 md:mb-10",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{className:"md:hidden p-2 bg-white rounded-xl shadow-sm active:scale-95 transition-transform",onClick:()=>R(!0),children:p.jsx(ab,{})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl md:text-4xl font-black text-slate-800 tracking-tight mb-1 md:mb-2",children:[xe==="overview"&&`Halo, ${i?.name}!`,xe==="classroom"&&"Ruang Kelas",xe==="exam"&&"Ruang Ujian",xe==="history"&&"Riwayat Belajar",xe==="settings"&&"Pengaturan Akun"]}),p.jsxs("p",{className:"text-slate-500 font-medium text-sm md:text-lg hidden md:block",children:[xe==="overview"&&"Siap untuk belajar hari ini?",xe==="classroom"&&"Lihat dan gabung ke kelas barumu.",xe==="exam"&&"Masukkan kode untuk mulai mengerjakan.",xe==="history"&&"Lihat progress perkembangan nilaimu.",xe==="settings"&&"Kelola preferensi akunmu."]})]})]}),p.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center font-black text-slate-700 border-2 border-slate-100 shadow-sm text-xl shrink-0",children:i?.name.charAt(0)})]}),p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[xe==="overview"&&p.jsxs("div",{className:"space-y-8",children:[b?p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[p.jsx(Sm,{}),p.jsx(Sm,{})]}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[p.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-8 rounded-[32px] text-white shadow-2xl shadow-indigo-500/30 relative overflow-hidden transition-transform hover:scale-[1.01]",children:p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm w-fit mb-6",children:p.jsx(th,{size:32})}),p.jsx("div",{className:"text-5xl font-black mb-2",children:hs.length>0?Math.round(hs.reduce((w,Z)=>w+Z.score,0)/hs.length):0}),p.jsx("div",{className:"text-indigo-100 font-bold text-lg",children:"Rata-rata Nilai (Terpublikasi)"})]})}),p.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-xl shadow-slate-200/50 hover:shadow-2xl transition-shadow",children:[p.jsx("div",{className:"p-4 bg-blue-100 text-blue-600 rounded-2xl w-fit mb-6",children:p.jsx(Al,{size:32})}),p.jsx("div",{className:"text-5xl font-black text-slate-800 mb-2",children:K.length}),p.jsx("div",{className:"text-slate-500 font-bold text-lg",children:"Ujian Diselesaikan"})]})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-3",children:[p.jsx(Sl,{size:24,className:"text-orange-500"})," Aktivitas Terbaru (5)"]}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:K.length>0?K.slice(0,5).map(w=>p.jsx("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-lg transition-all flex items-center justify-between group",children:p.jsxs("div",{className:"flex items-center gap-5",children:[p.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center font-black text-xl ${w.isPublished?w.score>=75?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"} group-hover:scale-110 transition-transform`,children:w.isPublished?w.score:p.jsx(Sl,{size:20})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 text-lg mb-1",children:w.quizTitle}),p.jsxs("div",{className:"text-slate-500 text-xs font-bold flex gap-2 items-center",children:[p.jsx("span",{children:w.timestamp?w.timestamp.seconds?new Date(w.timestamp.seconds*1e3).toLocaleDateString():"Baru saja":"-"}),p.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-600",children:["Kode: ",w.quizCode]}),!w.isPublished&&p.jsxs("span",{className:"text-orange-500 flex items-center gap-1",children:[p.jsx(wm,{size:10})," Menunggu Nilai"]})]})]})]})},w.id)):p.jsx("div",{className:"p-10 text-center flex flex-col items-center text-slate-400 bg-white rounded-[32px] border border-slate-100 border-dashed",children:p.jsx("p",{className:"font-medium",children:"Belum ada aktivitas."})})})]})]}),xe==="classroom"&&p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[32px] shadow-sm border border-slate-100",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[p.jsx(ih,{size:24,className:"text-blue-600"})," Gabung Kelas Baru"]}),p.jsxs("form",{onSubmit:li,className:"flex flex-col md:flex-row gap-4",children:[p.jsx("input",{value:os,onChange:w=>$a(w.target.value.toUpperCase()),placeholder:"Masukkan Kode Kelas dari Guru...",className:"flex-1 p-4 border border-slate-200 rounded-xl outline-none focus:border-blue-500 font-bold tracking-widest uppercase placeholder:normal-case placeholder:tracking-normal w-full"}),p.jsx("button",{type:"submit",disabled:!os||o,className:"bg-slate-900 text-white px-8 py-4 rounded-xl font-bold hover:bg-black transition disabled:opacity-50 w-full md:w-auto active:scale-95",children:o?p.jsx(Jo,{className:"animate-spin"}):"Gabung Kelas"})]}),qn&&p.jsx("div",{className:"mt-4 text-red-500 text-sm font-bold bg-red-50 p-3 rounded-xl",children:qn})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:"Kelas Saya"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.length>0?F.map(w=>p.jsxs("div",{onClick:()=>er(w),className:"bg-white p-6 rounded-[24px] border border-slate-100 shadow-sm hover:shadow-md transition-all group cursor-pointer active:scale-95 duration-200",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-xl",children:p.jsx(Nl,{size:24})}),p.jsx("div",{className:"bg-slate-100 text-slate-500 px-3 py-1 rounded-lg text-xs font-bold",children:w.code})]}),p.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:w.name}),p.jsxs("div",{className:"space-y-1 mb-4",children:[p.jsxs("p",{className:"text-sm font-semibold text-slate-500 flex items-center gap-2",children:[p.jsx(tb,{size:14})," ",w.school]}),p.jsxs("p",{className:"text-sm font-semibold text-slate-500 flex items-center gap-2",children:[p.jsx(eb,{size:14})," ",w.subject]})]}),p.jsxs("div",{className:"pt-4 border-t border-slate-50 text-xs font-bold text-slate-400 flex items-center gap-2",children:[p.jsx(Tm,{size:14})," Guru: ",w.teacherName]})]},w.id)):p.jsxs("div",{className:"col-span-full p-12 text-center text-slate-400 bg-white rounded-[32px] border border-slate-100 border-dashed",children:[p.jsx(Nl,{size:48,className:"mx-auto mb-4 opacity-20"}),p.jsx("p",{className:"font-medium",children:"Belum bergabung dengan kelas manapun."})]})})]})]}),Li&&p.jsx(ah,{title:"Isi Absen Kelas",onClose:()=>mn(null),icon:nI,children:p.jsxs("div",{className:"space-y-6 text-center",children:[p.jsxs("p",{className:"text-slate-500",children:["Pilih nomor urut absen Anda di kelas ",p.jsx("strong",{children:Li.name}),"."]}),p.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-3 max-h-[300px] overflow-y-auto p-2",children:[...Array(50)].map((w,Z)=>{const ne=Z+1,ee=Li.students?.some(ue=>ue.absen===ne);return p.jsx("button",{disabled:ee,onClick:()=>En(ne.toString()),className:`p-3 rounded-xl font-bold text-sm transition-all active:scale-90 ${At===ne.toString()?"bg-blue-600 text-white ring-4 ring-blue-200":ee?"bg-slate-100 text-slate-300 cursor-not-allowed":"bg-white border border-slate-200 text-slate-700 hover:border-blue-400"}`,children:ne},ne)})}),p.jsx("div",{className:"pt-4 border-t border-slate-100",children:p.jsx("button",{onClick:St,disabled:!At,className:"w-full bg-slate-900 text-white py-4 rounded-xl font-bold hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:"Simpan Absen & Masuk"})})]})}),xe==="exam"&&p.jsx("div",{className:"max-w-2xl",children:p.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-[40px] shadow-2xl shadow-blue-900/10 border border-white text-center relative overflow-hidden group hover:scale-[1.01] transition-transform duration-300",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),p.jsx("div",{className:"inline-flex p-4 bg-blue-50 text-blue-600 rounded-full mb-6 group-hover:rotate-12 transition-transform",children:p.jsx(xm,{size:32})}),p.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-3",children:"Gabung Ujian"}),p.jsx("p",{className:"text-slate-500 font-medium mb-8",children:"Masukkan kode unik dari gurumu untuk mulai."}),p.jsxs("form",{onSubmit:Lr,className:"relative",children:[p.jsx("input",{type:"text",value:Qs,onChange:w=>qi(w.target.value.toUpperCase()),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-5 text-center text-4xl font-black tracking-[0.2em] text-slate-800 uppercase focus:border-blue-500 focus:bg-white transition-all outline-none placeholder:text-slate-300 shadow-inner",placeholder:"CODE"}),qn&&p.jsx("div",{className:"mt-4 text-red-500 font-bold text-sm bg-red-50 py-3 px-4 rounded-xl inline-block border border-red-100 animate-pulse",children:qn}),p.jsx("button",{type:"submit",disabled:!Qs||o,className:"w-full mt-8 bg-slate-900 text-white py-5 rounded-2xl font-bold text-lg hover:bg-black hover:shadow-xl hover:-translate-y-1 transition-all disabled:opacity-50 disabled:hover:translate-y-0 disabled:shadow-none shadow-lg shadow-slate-900/20 active:scale-95",children:o?p.jsx(Jo,{className:"animate-spin mx-auto"}):"Masuk Ruang Ujian"})]})]})}),xe==="history"&&p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-3",children:[p.jsx(Sl,{size:24,className:"text-blue-500"})," Riwayat Lengkap (12 Terakhir)"]}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:K.length>0?K.slice(0,12).map(w=>p.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-lg transition-all flex items-center justify-between group",children:[p.jsxs("div",{className:"flex items-center gap-5",children:[p.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center font-black text-2xl ${w.isPublished?w.score>=75?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"} group-hover:scale-110 transition-transform`,children:w.isPublished?w.score:p.jsx(Sl,{size:24})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 text-lg mb-1",children:w.quizTitle}),p.jsxs("div",{className:"text-slate-500 text-xs font-bold flex gap-2 items-center",children:[p.jsx(Sl,{size:12}),p.jsx("span",{children:w.timestamp?w.timestamp.seconds?new Date(w.timestamp.seconds*1e3).toLocaleDateString():"Baru saja":"-"}),p.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-600",children:["Kode: ",w.quizCode]}),!w.isPublished&&p.jsxs("span",{className:"text-orange-500 flex items-center gap-1",children:[p.jsx(wm,{size:10})," Menunggu Nilai"]})]})]})]}),p.jsx("div",{className:"hidden sm:block opacity-50 group-hover:opacity-100 transition-opacity",children:w.isPublished&&(w.score>=90?p.jsx("span",{className:"text-4xl",children:""}):w.score>=75?p.jsx("span",{className:"text-4xl",children:""}):p.jsx("span",{className:"text-4xl",children:""}))})]},w.id)):p.jsxs("div",{className:"p-16 text-center flex flex-col items-center text-slate-400 bg-white rounded-[32px] border border-slate-100 border-dashed",children:[p.jsx("div",{className:"bg-slate-50 p-6 rounded-full mb-4",children:p.jsx($o,{size:40,className:"opacity-50"})}),p.jsx("p",{className:"font-medium",children:"Belum ada riwayat pengerjaan."})]})})]}),xe==="settings"&&p.jsx("div",{className:"max-w-3xl",children:p.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-100",children:[p.jsx("h3",{className:"font-bold text-xl mb-4",children:"Profil Saya"}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-3xl font-black text-slate-400",children:i?.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-lg text-slate-800",children:i?.name}),p.jsx("div",{className:"text-slate-500 font-medium",children:"Siswa"}),p.jsx("div",{className:"mt-2 text-xs bg-green-100 text-green-700 px-2 py-1 rounded inline-block font-bold",children:"Akun Aktif"})]})]})]}),p.jsxs("div",{className:"p-8 bg-slate-50/50",children:[p.jsx("h3",{className:"font-bold text-xl mb-4",children:"Preferensi"}),p.jsxs("div",{className:"space-y-4 opacity-50 pointer-events-none",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 bg-white rounded-xl border border-slate-200",children:[p.jsx("span",{className:"font-medium",children:"Notifikasi Email"}),p.jsx("div",{className:"w-10 h-6 bg-slate-300 rounded-full"})]}),p.jsxs("div",{className:"flex justify-between items-center p-4 bg-white rounded-xl border border-slate-200",children:[p.jsx("span",{className:"font-medium",children:"Mode Gelap"}),p.jsx("div",{className:"w-10 h-6 bg-slate-300 rounded-full"})]})]}),p.jsx("p",{className:"text-xs text-slate-400 mt-4 text-center",children:"Fitur pengaturan segera hadir."})]})]})})]},xe)]})]}),f==="quiz"&&st&&p.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col font-sans",children:cs?sn?p.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6 animate-in zoom-in-95 duration-500",children:p.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[48px] shadow-2xl shadow-blue-900/20 overflow-hidden text-center p-12 relative border border-white",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-green-400 to-emerald-600"}),p.jsx("div",{className:"inline-flex p-8 bg-green-50 text-green-600 rounded-full mb-8 animate-bounce shadow-inner",children:p.jsx(MI,{size:80})}),p.jsx("h2",{className:"text-4xl font-black text-slate-800 mb-4 tracking-tight",children:"Selesai!"}),p.jsxs("p",{className:"text-slate-500 font-medium mb-10 text-lg",children:["Kamu telah menyelesaikan ",p.jsx("br",{}),p.jsx("span",{className:"text-slate-800 font-bold",children:st.title})]}),p.jsx("div",{className:"bg-slate-50 rounded-[32px] p-8 mb-10 border border-slate-100 relative overflow-hidden",children:p.jsx("div",{className:"text-slate-600 font-bold text-lg",children:"Jawaban Sudah Tersimpan Menunggu Nilai Akhir"})}),p.jsx("button",{onClick:()=>y("student-dash"),className:"w-full bg-slate-900 text-white py-5 rounded-2xl font-bold text-lg hover:bg-black transition-all hover:-translate-y-1 shadow-xl shadow-slate-900/20 active:scale-95",children:"Kembali ke Dashboard"})]})}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"h-3 bg-slate-200 w-full fixed top-0 left-0 z-50",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${(pn+1)/(st.questions?.length||1)*100}%`}})}),p.jsxs("div",{className:"flex-1 max-w-4xl mx-auto w-full p-6 flex flex-col justify-center mt-8",children:[p.jsxs("div",{className:"mb-10 flex flex-col items-start animate-in fade-in slide-in-from-bottom-8 duration-700",children:[p.jsxs("span",{className:"text-blue-600 font-black tracking-widest text-xs uppercase bg-blue-100 px-4 py-2 rounded-full mb-6 inline-block shadow-sm",children:["Pertanyaan ",pn+1," / ",st.questions?.length||0]}),p.jsx("h2",{className:"text-2xl md:text-5xl font-black text-slate-900 leading-[1.2]",children:st.questions?.[pn]?.question})]}),p.jsx("div",{className:"grid gap-5 mb-12 animate-in fade-in slide-in-from-bottom-12 duration-700 delay-100",children:st.questions?.[pn]?.options.map((w,Z)=>p.jsxs("button",{onClick:()=>Yn(w),className:`w-full text-left p-6 rounded-2xl border-2 font-bold text-xl flex gap-6 items-center transition-all duration-200 group relative overflow-hidden active:scale-[0.98] ${yt===w?"border-blue-600 bg-blue-50 text-blue-900 shadow-xl shadow-blue-900/10 ring-2 ring-blue-400 transform scale-[1.02]":"border-slate-200 text-slate-600 hover:bg-white hover:border-blue-300 hover:shadow-md"}`,children:[p.jsx("span",{className:`w-12 h-12 flex shrink-0 items-center justify-center rounded-xl text-lg font-black transition-colors shadow-sm ${yt===w?"bg-blue-600 text-white":"bg-slate-100 text-slate-500 group-hover:bg-blue-100 group-hover:text-blue-600"}`,children:String.fromCharCode(65+Z)}),p.jsx("span",{className:"relative z-10",children:w})]},Z))}),p.jsx("div",{className:"flex justify-end animate-in fade-in slide-in-from-bottom-16 duration-700 delay-200",children:p.jsxs("button",{onClick:ir,disabled:!yt,className:"bg-slate-900 text-white px-10 py-5 rounded-2xl font-bold text-xl hover:bg-black shadow-2xl shadow-slate-900/30 transition-all hover:-translate-y-1 disabled:opacity-50 disabled:hover:translate-y-0 disabled:shadow-none flex items-center gap-3 active:scale-95",children:[pn+1===(st.questions?.length||0)?"Selesai & Kumpulkan":"Selanjutnya"," ",p.jsx(Em,{size:24})]})})]})]}):p.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-slate-50 animate-in fade-in duration-500",children:p.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[40px] shadow-2xl p-10 text-center animate-in zoom-in-95",children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:"Pilih Kelas Anda"}),p.jsx("p",{className:"text-slate-500 mb-8",children:"Pilih salah satu kelas target untuk memulai ujian."}),p.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:st.validClassesForStudent&&st.validClassesForStudent.length>0?st.validClassesForStudent.map((w,Z)=>p.jsx("button",{onClick:()=>Za(w),className:"p-4 rounded-2xl border-2 border-slate-100 hover:border-blue-500 hover:bg-blue-50 text-slate-700 font-bold transition-all active:scale-95",children:w},Z)):p.jsx("div",{className:"col-span-2 text-slate-400 italic",children:st.allowedClassNames&&st.allowedClassNames.length>0?"Anda tidak terdaftar di kelas target kuis ini.":"Kuis ini terbuka untuk umum."})}),(!st.allowedClassNames||st.allowedClassNames.length===0)&&p.jsx("button",{onClick:()=>Za("Umum"),className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold hover:bg-blue-700 transition active:scale-95",children:"Lanjutkan (Umum)"}),p.jsx("button",{onClick:()=>y("student-dash"),className:"text-slate-400 hover:text-slate-600 font-bold mt-4 block mx-auto active:scale-95 transition-transform",children:"Batal"})]})})})]})}function XI(){return p.jsx(GI,{children:p.jsx(YI,{})})}Ex.createRoot(document.getElementById("root")).render(p.jsx(fe.StrictMode,{children:p.jsx(XI,{})}));
