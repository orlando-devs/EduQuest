(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Md={exports:{}},Io={};var H0;function BT(){if(H0)return Io;H0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Io.Fragment=e,Io.jsx=i,Io.jsxs=i,Io}var G0;function qT(){return G0||(G0=1,Md.exports=BT()),Md.exports}var b=qT(),Vd={exports:{}},Ee={};var F0;function HT(){if(F0)return Ee;F0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function B(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function he(k,K,ne){this.props=k,this.context=K,this.refs=J,this.updater=ne||X}he.prototype.isReactComponent={},he.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},he.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ge(){}ge.prototype=he.prototype;function fe(k,K,ne){this.props=k,this.context=K,this.refs=J,this.updater=ne||X}var Re=fe.prototype=new ge;Re.constructor=fe,W(Re,he.prototype),Re.isPureReactComponent=!0;var ot=Array.isArray;function Ae(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(k,K,ne){var se=ne.ref;return{$$typeof:s,type:k,key:K,ref:se!==void 0?se:null,props:ne}}function M(k,K){return I(k.type,K,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function j(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return K[ne]})}var R=/\/+/g;function rt(k,K){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):K.toString(36)}function bt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Ae,Ae):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function G(k,K,ne,se,pe){var ve=typeof k;(ve==="undefined"||ve==="boolean")&&(k=null);var De=!1;if(k===null)De=!0;else switch(ve){case"bigint":case"string":case"number":De=!0;break;case"object":switch(k.$$typeof){case s:case e:De=!0;break;case T:return De=k._init,G(De(k._payload),K,ne,se,pe)}}if(De)return pe=pe(k),De=se===""?"."+rt(k,0):se,ot(pe)?(ne="",De!=null&&(ne=De.replace(R,"$&/")+"/"),G(pe,K,ne,"",function(hi){return hi})):pe!=null&&(D(pe)&&(pe=M(pe,ne+(pe.key==null||k&&k.key===pe.key?"":(""+pe.key).replace(R,"$&/")+"/")+De)),K.push(pe)),1;De=0;var gt=se===""?".":se+":";if(ot(k))for(var We=0;We<k.length;We++)se=k[We],ve=gt+rt(se,We),De+=G(se,K,ne,ve,pe);else if(We=B(k),typeof We=="function")for(k=We.call(k),We=0;!(se=k.next()).done;)se=se.value,ve=gt+rt(se,We++),De+=G(se,K,ne,ve,pe);else if(ve==="object"){if(typeof k.then=="function")return G(bt(k),K,ne,se,pe);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return De}function te(k,K,ne){if(k==null)return k;var se=[],pe=0;return G(k,se,"","",function(ve){return K.call(ne,ve,pe++)}),se}function oe(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var Ie=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Qe={map:te,forEach:function(k,K,ne){te(k,function(){K.apply(this,arguments)},ne)},count:function(k){var K=0;return te(k,function(){K++}),K},toArray:function(k){return te(k,function(K){return K})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ee.Activity=S,Ee.Children=Qe,Ee.Component=he,Ee.Fragment=i,Ee.Profiler=o,Ee.PureComponent=fe,Ee.StrictMode=a,Ee.Suspense=_,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Ee.cache=function(k){return function(){return k.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(k,K,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=W({},k.props),pe=k.key;if(K!=null)for(ve in K.key!==void 0&&(pe=""+K.key),K)!x.call(K,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&K.ref===void 0||(se[ve]=K[ve]);var ve=arguments.length-2;if(ve===1)se.children=ne;else if(1<ve){for(var De=Array(ve),gt=0;gt<ve;gt++)De[gt]=arguments[gt+2];se.children=De}return I(k.type,pe,se)},Ee.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ee.createElement=function(k,K,ne){var se,pe={},ve=null;if(K!=null)for(se in K.key!==void 0&&(ve=""+K.key),K)x.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(pe[se]=K[se]);var De=arguments.length-2;if(De===1)pe.children=ne;else if(1<De){for(var gt=Array(De),We=0;We<De;We++)gt[We]=arguments[We+2];pe.children=gt}if(k&&k.defaultProps)for(se in De=k.defaultProps,De)pe[se]===void 0&&(pe[se]=De[se]);return I(k,ve,pe)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(k){return{$$typeof:g,render:k}},Ee.isValidElement=D,Ee.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:oe}},Ee.memo=function(k,K){return{$$typeof:y,type:k,compare:K===void 0?null:K}},Ee.startTransition=function(k){var K=C.T,ne={};C.T=ne;try{var se=k(),pe=C.S;pe!==null&&pe(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ae,Ie)}catch(ve){Ie(ve)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),C.T=K}},Ee.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ee.use=function(k){return C.H.use(k)},Ee.useActionState=function(k,K,ne){return C.H.useActionState(k,K,ne)},Ee.useCallback=function(k,K){return C.H.useCallback(k,K)},Ee.useContext=function(k){return C.H.useContext(k)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(k,K){return C.H.useDeferredValue(k,K)},Ee.useEffect=function(k,K){return C.H.useEffect(k,K)},Ee.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Ee.useId=function(){return C.H.useId()},Ee.useImperativeHandle=function(k,K,ne){return C.H.useImperativeHandle(k,K,ne)},Ee.useInsertionEffect=function(k,K){return C.H.useInsertionEffect(k,K)},Ee.useLayoutEffect=function(k,K){return C.H.useLayoutEffect(k,K)},Ee.useMemo=function(k,K){return C.H.useMemo(k,K)},Ee.useOptimistic=function(k,K){return C.H.useOptimistic(k,K)},Ee.useReducer=function(k,K,ne){return C.H.useReducer(k,K,ne)},Ee.useRef=function(k){return C.H.useRef(k)},Ee.useState=function(k){return C.H.useState(k)},Ee.useSyncExternalStore=function(k,K,ne){return C.H.useSyncExternalStore(k,K,ne)},Ee.useTransition=function(){return C.H.useTransition()},Ee.version="19.2.4",Ee}var Q0;function Nm(){return Q0||(Q0=1,Vd.exports=HT()),Vd.exports}var Se=Nm(),jd={exports:{}},Do={},Ud={exports:{}},Ld={};var K0;function GT(){return K0||(K0=1,(function(s){function e(G,te){var oe=G.length;G.push(te);e:for(;0<oe;){var Ie=oe-1>>>1,Qe=G[Ie];if(0<o(Qe,te))G[Ie]=te,G[oe]=Qe,oe=Ie;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var te=G[0],oe=G.pop();if(oe!==te){G[0]=oe;e:for(var Ie=0,Qe=G.length,k=Qe>>>1;Ie<k;){var K=2*(Ie+1)-1,ne=G[K],se=K+1,pe=G[se];if(0>o(ne,oe))se<Qe&&0>o(pe,ne)?(G[Ie]=pe,G[se]=oe,Ie=se):(G[Ie]=ne,G[K]=oe,Ie=K);else if(se<Qe&&0>o(pe,oe))G[Ie]=pe,G[se]=oe,Ie=se;else break e}}return te}function o(G,te){var oe=G.sortIndex-te.sortIndex;return oe!==0?oe:G.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,S=null,w=3,B=!1,X=!1,W=!1,J=!1,he=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Re(G){for(var te=i(y);te!==null;){if(te.callback===null)a(y);else if(te.startTime<=G)a(y),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(y)}}function ot(G){if(W=!1,Re(G),!X)if(i(_)!==null)X=!0,Ae||(Ae=!0,j());else{var te=i(y);te!==null&&bt(ot,te.startTime-G)}}var Ae=!1,C=-1,x=5,I=-1;function M(){return J?!0:!(s.unstable_now()-I<x)}function D(){if(J=!1,Ae){var G=s.unstable_now();I=G;var te=!0;try{e:{X=!1,W&&(W=!1,ge(C),C=-1),B=!0;var oe=w;try{t:{for(Re(G),S=i(_);S!==null&&!(S.expirationTime>G&&M());){var Ie=S.callback;if(typeof Ie=="function"){S.callback=null,w=S.priorityLevel;var Qe=Ie(S.expirationTime<=G);if(G=s.unstable_now(),typeof Qe=="function"){S.callback=Qe,Re(G),te=!0;break t}S===i(_)&&a(_),Re(G)}else a(_);S=i(_)}if(S!==null)te=!0;else{var k=i(y);k!==null&&bt(ot,k.startTime-G),te=!1}}break e}finally{S=null,w=oe,B=!1}te=void 0}}finally{te?j():Ae=!1}}}var j;if(typeof fe=="function")j=function(){fe(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rt=R.port2;R.port1.onmessage=D,j=function(){rt.postMessage(null)}}else j=function(){he(D,0)};function bt(G,te){C=he(function(){G(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(G){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var oe=w;w=te;try{return G()}finally{w=oe}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=w;w=G;try{return te()}finally{w=oe}},s.unstable_scheduleCallback=function(G,te,oe){var Ie=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ie+oe:Ie):oe=Ie,G){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=oe+Qe,G={id:T++,callback:te,priorityLevel:G,startTime:oe,expirationTime:Qe,sortIndex:-1},oe>Ie?(G.sortIndex=oe,e(y,G),i(_)===null&&G===i(y)&&(W?(ge(C),C=-1):W=!0,bt(ot,oe-Ie))):(G.sortIndex=Qe,e(_,G),X||B||(X=!0,Ae||(Ae=!0,j()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var te=w;return function(){var oe=w;w=te;try{return G.apply(this,arguments)}finally{w=oe}}}})(Ld)),Ld}var Y0;function FT(){return Y0||(Y0=1,Ud.exports=GT()),Ud.exports}var zd={exports:{}},tn={};var $0;function QT(){if($0)return tn;$0=1;var s=Nm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,T)},tn.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},tn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},tn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},tn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:B}):T==="script"&&a.d.X(_,{crossOrigin:S,integrity:w,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},tn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},tn.requestFormReset=function(_){a.d.r(_)},tn.unstable_batchedUpdates=function(_,y){return _(y)},tn.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var X0;function KT(){if(X0)return zd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=QT(),zd.exports}var J0;function YT(){if(J0)return Do;J0=1;var s=FT(),e=Nm(),i=KT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=f;break}if(E===l){p=!0,l=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=h;break}if(E===l){p=!0,l=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case he:return"Profiler";case J:return"StrictMode";case ot:return"Suspense";case Ae:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case fe:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case Re:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var bt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ie=[],Qe=-1;function k(t){return{current:t}}function K(t){0>Qe||(t.current=Ie[Qe],Ie[Qe]=null,Qe--)}function ne(t,n){Qe++,Ie[Qe]=t.current,t.current=n}var se=k(null),pe=k(null),ve=k(null),De=k(null);function gt(t,n){switch(ne(ve,n),ne(pe,t),ne(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?f0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=f0(n),t=d0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(se),ne(se,t)}function We(){K(se),K(pe),K(ve)}function hi(t){t.memoizedState!==null&&ne(De,t);var n=se.current,r=d0(n,t.type);n!==r&&(ne(pe,t),ne(se,r))}function Bi(t){pe.current===t&&(K(se),K(pe)),De.current===t&&(K(De),wo._currentValue=oe)}var Yn,$n;function en(t){if(Yn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Yn=n&&n[1]||"",$n=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yn+t+$n}var Es=!1;function In(t,n){if(!t||Es)return"";Es=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var P=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){P=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){P=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),z=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var F=`
`+N[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{Es=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?en(r):""}function Ts(t,n){switch(t.tag){case 26:case 27:case 5:return en(t.type);case 16:return en("Lazy");case 13:return t.child!==n&&n!==null?en("Suspense Fallback"):en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return In(t.type,!1);case 11:return In(t.type.render,!1);case 1:return In(t.type,!0);case 31:return en("Activity");default:return""}}function As(t){try{var n="",r=null;do n+=Ts(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,st=s.unstable_scheduleCallback,fi=s.unstable_cancelCallback,Cl=s.unstable_shouldYield,dr=s.unstable_requestPaint,xt=s.unstable_now,di=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,qi=s.unstable_UserBlockingPriority,mi=s.unstable_NormalPriority,mr=s.unstable_LowPriority,xs=s.unstable_IdlePriority,wa=s.log,gr=s.unstable_setDisableYieldValue,vn=null,Ut=null;function ln(t){if(typeof wa=="function"&&gr(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(vn,t)}catch{}}var pt=Math.clz32?Math.clz32:yr,pr=Math.log,ws=Math.LN2;function yr(t){return t>>>=0,t===0?32:31-(pr(t)/ws|0)|0}var Dn=256,Hi=262144,de=4194304;function Ve(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function je(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Ve(l):(p&=E,p!==0?h=Ve(p):r||(r=E&~t,r!==0&&(h=Ve(r))))):(E=l&~f,E!==0?h=Ve(E):p!==0?h=Ve(p):r||(r=l&~t,r!==0&&(h=Ve(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ne(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var t=de;return de<<=1,(de&62914560)===0&&(de=4194304),t}function gi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ra(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-pt(r),Y=1<<F;E[F]=0,N[F]=-1;var P=z[F];if(P!==null)for(z[F]=null,F=0;F<P.length;F++){var H=P[F];H!==null&&(H.lane&=-536870913)}r&=~Y}l!==0&&Na(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Na(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-pt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Il(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-pt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Dl(t,n){var r=n&-n;return r=(r&42)!==0?1:Ca(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ca(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:j0(t.type))}function Xn(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var Jn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Jn,Bt="__reactProps$"+Jn,pi="__reactContainer$"+Jn,_r="__reactEvents$"+Jn,zh="__reactListeners$"+Jn,gu="__reactHandles$"+Jn,pu="__reactResources$"+Jn,yi="__reactMarker$"+Jn;function vr(t){delete t[wt],delete t[Bt],delete t[_r],delete t[zh],delete t[gu]}function _i(t){var n=t[wt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pi]||r[wt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=b0(t);t!==null;){if(r=t[wt])return r;t=b0(t)}return n}t=r,r=t.parentNode}return null}function On(t){if(t=t[wt]||t[pi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function vi(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Rt(t){t[yi]=!0}var Ol=new Set,kl={};function bi(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(kl[t]=n,t=0;t<n.length;t++)Ol.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},jl={};function yu(t){return ft.call(jl,t)?!0:ft.call(Vl,t)?!1:Ml.test(t)?jl[t]=!0:(Vl[t]=!0,!1)}function br(t,n,r){if(yu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function En(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Nt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ul(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xe(t){if(!t._valueTracker){var n=Ns(t)?"checked":"value";t._valueTracker=Ul(t,n,""+t[n])}}function Ia(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ns(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Da=/[\n"\\]/g;function cn(t){return t.replace(Da,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Er(t,n,r,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,p,qt(n)):r!=null?Ll(t,p,qt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+qt(E):t.removeAttribute("name")}function _u(t,n,r,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xe(t);return}r=r!=null?""+qt(r):"",n=n!=null?""+qt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Xe(t)}function Ll(t,n,r){n==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Cs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+qt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function vu(t,n,r){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+qt(r):""}function Is(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(bt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=qt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Xe(t)}function hn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||bu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Pl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&zl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&zl(t,f,n[f])}function Tr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ar(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Bl=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ai=null;function Oa(t){var n=On(t);if(n&&(t=n.stateNode)){var r=t[Bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Er(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Bt]||null;if(!h)throw Error(a(90));Er(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ia(l)}break e;case"textarea":vu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Cs(t,!!r.multiple,n,!1)}}}var Sr=!1;function ks(t,n,r){if(Sr)return t(n,r);Sr=!0;try{var l=t(n);return l}finally{if(Sr=!1,(Os!==null||Ai!==null)&&(mc(),Os&&(n=Os,t=Ai,Ai=Os=null,Oa(n),t)))for(n=0;n<t.length;n++)Oa(t[n])}}function Wn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Bt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(Mn)try{var et={};Object.defineProperty(et,"passive",{get:function(){ka=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{ka=!1}var Si=null,ql=null,Ma=null;function Hl(){if(Ma)return Ma;var t,n=ql,r=n.length,l,h="value"in Si?Si.value:Si.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Ma=h.slice(t,1<l?1-l:void 0)}function Va(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function ei(){return!1}function Ft(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:ei,this.isPropagationStopped=ei,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Ft(Qi),Ms=S({},Qi,{view:0,detail:0}),Gl=Ft(Ms),Vs,xr,wi,wr=S({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Vs=t.screenX-wi.screenX,xr=t.screenY-wi.screenY):xr=Vs=0,wi=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:xr}}),Fl=Ft(wr),ja=S({},wr,{dataTransfer:0}),Tu=Ft(ja),Au=S({},Ms,{relatedTarget:0}),Ua=Ft(Au),Ql=S({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Ft(Ql),Rr=S({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Ft(Rr),wu=S({},Qi,{data:0}),Ri=Ft(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function js(){return Iu}var on=S({},Ms,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=Ft(on),Ou=S({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Ft(Ou),u=S({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),m=Ft(u),v=S({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(v),U=S({},wr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ft(U),ee=S({},Qi,{newState:0,oldState:0}),xe=Ft(ee),Et=[9,13,27,32],Ke=Mn&&"CompositionEvent"in window,dt=null;Mn&&"documentMode"in document&&(dt=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!dt,Ni=Mn&&(!Ke||dt&&8<dt&&11>=dt),ti=" ",ni=!1;function La(t,n){switch(t){case"keyup":return Et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cr=!1;function hE(t,n){switch(t){case"compositionend":return Nr(n);case"keypress":return n.which!==32?null:(ni=!0,ti);case"textInput":return t=n.data,t===ti&&ni?null:t;default:return null}}function fE(t,n){if(Cr)return t==="compositionend"||!Ke&&La(t,n)?(t=Hl(),Ma=ql=Si=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dE[t.type]:n==="textarea"}function Sg(t,n,r,l){Os?Ai?Ai.push(l):Ai=[l]:Os=l,n=Ec(n,"onChange"),0<n.length&&(r=new xi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Kl=null,Yl=null;function mE(t){r0(t,0)}function ku(t){var n=bn(t);if(Ia(n))return t}function xg(t,n){if(t==="change")return n}var wg=!1;if(Mn){var Ph;if(Mn){var Bh="oninput"in document;if(!Bh){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Bh=typeof Rg.oninput=="function"}Ph=Bh}else Ph=!1;wg=Ph&&(!document.documentMode||9<document.documentMode)}function Ng(){Kl&&(Kl.detachEvent("onpropertychange",Cg),Yl=Kl=null)}function Cg(t){if(t.propertyName==="value"&&ku(Yl)){var n=[];Sg(n,Yl,t,kn(t)),ks(mE,n)}}function gE(t,n,r){t==="focusin"?(Ng(),Kl=n,Yl=r,Kl.attachEvent("onpropertychange",Cg)):t==="focusout"&&Ng()}function pE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Yl)}function yE(t,n){if(t==="click")return ku(n)}function _E(t,n){if(t==="input"||t==="change")return ku(n)}function vE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Tn=typeof Object.is=="function"?Object.is:vE;function $l(t,n){if(Tn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!ft.call(n,h)||!Tn(t[h],n[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,n){var r=Ig(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ig(r)}}function Og(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Og(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ti(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ti(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bE=Mn&&"documentMode"in document&&11>=document.documentMode,Ir=null,Hh=null,Xl=null,Gh=!1;function Mg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||Ir==null||Ir!==Ti(l)||(l=Ir,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&$l(Xl,l)||(Xl=l,l=Ec(Hh,"onSelect"),0<l.length&&(n=new xi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ir)))}function za(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Dr={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Fh={},Vg={};Mn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Pa(t){if(Fh[t])return Fh[t];if(!Dr[t])return t;var n=Dr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vg)return Fh[t]=n[r];return t}var jg=Pa("animationend"),Ug=Pa("animationiteration"),Lg=Pa("animationstart"),EE=Pa("transitionrun"),TE=Pa("transitionstart"),AE=Pa("transitioncancel"),zg=Pa("transitionend"),Pg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ii(t,n){Pg.set(t,n),bi(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Or=0,Kh=0;function Vu(){for(var t=Or,n=Kh=Or=0;n<t;){var r=jn[n];jn[n++]=null;var l=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Bg(r,h,f)}}function ju(t,n,r,l){jn[Or++]=t,jn[Or++]=n,jn[Or++]=r,jn[Or++]=l,Kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,n,r,l){return ju(t,n,r,l),Uu(t)}function Ba(t,n){return ju(t,null,null,n),Uu(t)}function Bg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-pt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Uu(t){if(50<vo)throw vo=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var kr={};function SE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,r,l){return new SE(t,n,r,l)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,n){var r=t.alternate;return r===null?(r=An(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function qg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")$h(t)&&(p=1);else if(typeof t=="string")p=CT(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=An(31,r,n,h),t.elementType=I,t.lanes=f,t;case W:return qa(r.children,h,f,n);case J:p=8,h|=24;break;case he:return t=An(12,r,n,h|2),t.elementType=he,t.lanes=f,t;case ot:return t=An(13,r,n,h),t.elementType=ot,t.lanes=f,t;case Ae:return t=An(19,r,n,h),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:p=10;break e;case ge:p=9;break e;case Re:p=11;break e;case C:p=14;break e;case x:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=An(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function qa(t,n,r,l){return t=An(7,t,l,n),t.lanes=r,t}function Xh(t,n,r){return t=An(6,t,null,n),t.lanes=r,t}function Hg(t){var n=An(18,null,null,0);return n.stateNode=t,n}function Jh(t,n,r){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gg=new WeakMap;function Un(t,n){if(typeof t=="object"&&t!==null){var r=Gg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:As(n)},Gg.set(t,n),n)}return{value:t,source:n,stack:As(n)}}var Mr=[],Vr=0,zu=null,Jl=0,Ln=[],zn=0,Us=null,Ci=1,Ii="";function $i(t,n){Mr[Vr++]=Jl,Mr[Vr++]=zu,zu=t,Jl=n}function Fg(t,n,r){Ln[zn++]=Ci,Ln[zn++]=Ii,Ln[zn++]=Us,Us=t;var l=Ci;t=Ii;var h=32-pt(l)-1;l&=~(1<<h),r+=1;var f=32-pt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ci=1<<32-pt(n)+h|r<<h|l,Ii=f+t}else Ci=1<<f|r<<h|l,Ii=t}function Zh(t){t.return!==null&&($i(t,1),Fg(t,1,0))}function Wh(t){for(;t===zu;)zu=Mr[--Vr],Mr[Vr]=null,Jl=Mr[--Vr],Mr[Vr]=null;for(;t===Us;)Us=Ln[--zn],Ln[zn]=null,Ii=Ln[--zn],Ln[zn]=null,Ci=Ln[--zn],Ln[zn]=null}function Qg(t,n){Ln[zn++]=Ci,Ln[zn++]=Ii,Ln[zn++]=Us,Ci=n.id,Ii=n.overflow,Us=t}var Qt=null,ut=null,qe=!1,Ls=null,Pn=!1,ef=Error(a(519));function zs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Un(n,t)),ef}function Kg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[wt]=t,n[Bt]=l,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(r=0;r<Eo.length;r++)ke(Eo[r],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),_u(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),Is(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||c0(n.textContent,r)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||zs(t,!0)}function Yg(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Qt=Qt.return}}function jr(t){if(t!==Qt)return!1;if(!qe)return Yg(t),qe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&ut&&zs(t),Yg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=v0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=v0(t)}else n===27?(n=ut,Ws(t.type)?(t=Sd,Sd=null,ut=t):ut=n):ut=Qt?qn(t.stateNode.nextSibling):null;return!0}function Ha(){ut=Qt=null,qe=!1}function tf(){var t=Ls;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Ls=null),t}function Zl(t){Ls===null?Ls=[t]:Ls.push(t)}var nf=k(null),Ga=null,Xi=null;function Ps(t,n,r){ne(nf,n._currentValue),n._currentValue=r}function Ji(t){t._currentValue=nf.current,K(nf)}function sf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function af(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sf(f.return,r,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),sf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ur(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Tn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===De.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&af(n,t,r,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fa(t){Ga=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return $g(Ga,t)}function Bu(t,n){return Ga===null&&Fa(t),$g(t,n)}function $g(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Xi===null){if(t===null)throw Error(a(308));Xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xi=Xi.next=n;return r}var xE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wE=s.unstable_scheduleCallback,RE=s.unstable_NormalPriority,Ct={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new xE,data:new Map,refCount:0}}function Wl(t){t.refCount--,t.refCount===0&&wE(RE,function(){t.controller.abort()})}var eo=null,lf=0,Lr=0,zr=null;function NE(t,n){if(eo===null){var r=eo=[];lf=0,Lr=cd(),zr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lf++,n.then(Xg,Xg),n}function Xg(){if(--lf===0&&eo!==null){zr!==null&&(zr.status="fulfilled");var t=eo;eo=null,Lr=0,zr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Jg=G.S;G.S=function(t,n){My=xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&NE(t,n),Jg!==null&&Jg(t,n)};var Qa=k(null);function of(){var t=Qa.current;return t!==null?t:at.pooledCache}function qu(t,n){n===null?ne(Qa,Qa.current):ne(Qa,n.pool)}function Zg(){var t=of();return t===null?null:{parent:Ct._currentValue,pool:t}}var Pr=Error(a(460)),uf=Error(a(474)),Hu=Error(a(542)),Gu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ep(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zn,Zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t}throw Ya=n,Pr}}function Ka(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ya=r,Pr):r}}var Ya=null;function tp(){if(Ya===null)throw Error(a(459));var t=Ya;return Ya=null,t}function np(t){if(t===Pr||t===Hu)throw Error(a(483))}var Br=null,to=0;function Fu(t){var n=to;return to+=1,Br===null&&(Br=[]),ep(Br,t,n)}function no(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ip(t){function n(V,O){if(t){var L=V.deletions;L===null?(V.deletions=[O],V.flags|=16):L.push(O)}}function r(V,O){if(!t)return null;for(;O!==null;)n(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=Yi(V,O),V.index=0,V.sibling=null,V}function f(V,O,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<O?(V.flags|=67108866,O):L):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,O,L,Q){return O===null||O.tag!==6?(O=Xh(L,V.mode,Q),O.return=V,O):(O=h(O,L),O.return=V,O)}function N(V,O,L,Q){var ue=L.type;return ue===W?F(V,O,L.props.children,Q,L.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===x&&Ka(ue)===O.type)?(O=h(O,L.props),no(O,L),O.return=V,O):(O=Lu(L.type,L.key,L.props,null,V.mode,Q),no(O,L),O.return=V,O)}function z(V,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Jh(L,V.mode,Q),O.return=V,O):(O=h(O,L.children||[]),O.return=V,O)}function F(V,O,L,Q,ue){return O===null||O.tag!==7?(O=qa(L,V.mode,Q,ue),O.return=V,O):(O=h(O,L),O.return=V,O)}function Y(V,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Xh(""+O,V.mode,L),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return L=Lu(O.type,O.key,O.props,null,V.mode,L),no(L,O),L.return=V,L;case X:return O=Jh(O,V.mode,L),O.return=V,O;case x:return O=Ka(O),Y(V,O,L)}if(bt(O)||j(O))return O=qa(O,V.mode,L,null),O.return=V,O;if(typeof O.then=="function")return Y(V,Fu(O),L);if(O.$$typeof===fe)return Y(V,Bu(V,O),L);Qu(V,O)}return null}function P(V,O,L,Q){var ue=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:E(V,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===ue?N(V,O,L,Q):null;case X:return L.key===ue?z(V,O,L,Q):null;case x:return L=Ka(L),P(V,O,L,Q)}if(bt(L)||j(L))return ue!==null?null:F(V,O,L,Q,null);if(typeof L.then=="function")return P(V,O,Fu(L),Q);if(L.$$typeof===fe)return P(V,O,Bu(V,L),Q);Qu(V,L)}return null}function H(V,O,L,Q,ue){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,E(O,V,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return V=V.get(Q.key===null?L:Q.key)||null,N(O,V,Q,ue);case X:return V=V.get(Q.key===null?L:Q.key)||null,z(O,V,Q,ue);case x:return Q=Ka(Q),H(V,O,L,Q,ue)}if(bt(Q)||j(Q))return V=V.get(L)||null,F(O,V,Q,ue,null);if(typeof Q.then=="function")return H(V,O,L,Fu(Q),ue);if(Q.$$typeof===fe)return H(V,O,L,Bu(O,Q),ue);Qu(O,Q)}return null}function re(V,O,L,Q){for(var ue=null,Ge=null,le=O,Ce=O=0,Le=null;le!==null&&Ce<L.length;Ce++){le.index>Ce?(Le=le,le=null):Le=le.sibling;var Fe=P(V,le,L[Ce],Q);if(Fe===null){le===null&&(le=Le);break}t&&le&&Fe.alternate===null&&n(V,le),O=f(Fe,O,Ce),Ge===null?ue=Fe:Ge.sibling=Fe,Ge=Fe,le=Le}if(Ce===L.length)return r(V,le),qe&&$i(V,Ce),ue;if(le===null){for(;Ce<L.length;Ce++)le=Y(V,L[Ce],Q),le!==null&&(O=f(le,O,Ce),Ge===null?ue=le:Ge.sibling=le,Ge=le);return qe&&$i(V,Ce),ue}for(le=l(le);Ce<L.length;Ce++)Le=H(le,V,Ce,L[Ce],Q),Le!==null&&(t&&Le.alternate!==null&&le.delete(Le.key===null?Ce:Le.key),O=f(Le,O,Ce),Ge===null?ue=Le:Ge.sibling=Le,Ge=Le);return t&&le.forEach(function(sa){return n(V,sa)}),qe&&$i(V,Ce),ue}function me(V,O,L,Q){if(L==null)throw Error(a(151));for(var ue=null,Ge=null,le=O,Ce=O=0,Le=null,Fe=L.next();le!==null&&!Fe.done;Ce++,Fe=L.next()){le.index>Ce?(Le=le,le=null):Le=le.sibling;var sa=P(V,le,Fe.value,Q);if(sa===null){le===null&&(le=Le);break}t&&le&&sa.alternate===null&&n(V,le),O=f(sa,O,Ce),Ge===null?ue=sa:Ge.sibling=sa,Ge=sa,le=Le}if(Fe.done)return r(V,le),qe&&$i(V,Ce),ue;if(le===null){for(;!Fe.done;Ce++,Fe=L.next())Fe=Y(V,Fe.value,Q),Fe!==null&&(O=f(Fe,O,Ce),Ge===null?ue=Fe:Ge.sibling=Fe,Ge=Fe);return qe&&$i(V,Ce),ue}for(le=l(le);!Fe.done;Ce++,Fe=L.next())Fe=H(le,V,Ce,Fe.value,Q),Fe!==null&&(t&&Fe.alternate!==null&&le.delete(Fe.key===null?Ce:Fe.key),O=f(Fe,O,Ce),Ge===null?ue=Fe:Ge.sibling=Fe,Ge=Fe);return t&&le.forEach(function(PT){return n(V,PT)}),qe&&$i(V,Ce),ue}function it(V,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:e:{for(var ue=L.key;O!==null;){if(O.key===ue){if(ue=L.type,ue===W){if(O.tag===7){r(V,O.sibling),Q=h(O,L.props.children),Q.return=V,V=Q;break e}}else if(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===x&&Ka(ue)===O.type){r(V,O.sibling),Q=h(O,L.props),no(Q,L),Q.return=V,V=Q;break e}r(V,O);break}else n(V,O);O=O.sibling}L.type===W?(Q=qa(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=Lu(L.type,L.key,L.props,null,V.mode,Q),no(Q,L),Q.return=V,V=Q)}return p(V);case X:e:{for(ue=L.key;O!==null;){if(O.key===ue)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(V,O.sibling),Q=h(O,L.children||[]),Q.return=V,V=Q;break e}else{r(V,O);break}else n(V,O);O=O.sibling}Q=Jh(L,V.mode,Q),Q.return=V,V=Q}return p(V);case x:return L=Ka(L),it(V,O,L,Q)}if(bt(L))return re(V,O,L,Q);if(j(L)){if(ue=j(L),typeof ue!="function")throw Error(a(150));return L=ue.call(L),me(V,O,L,Q)}if(typeof L.then=="function")return it(V,O,Fu(L),Q);if(L.$$typeof===fe)return it(V,O,Bu(V,L),Q);Qu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(V,O.sibling),Q=h(O,L),Q.return=V,V=Q):(r(V,O),Q=Xh(L,V.mode,Q),Q.return=V,V=Q),p(V)):r(V,O)}return function(V,O,L,Q){try{to=0;var ue=it(V,O,L,Q);return Br=null,ue}catch(le){if(le===Pr||le===Hu)throw le;var Ge=An(29,le,null,V.mode);return Ge.lanes=Q,Ge.return=V,Ge}}}var $a=ip(!0),sp=ip(!1),Bs=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Uu(t),Bg(t,null,r),n}return ju(t,l,n,r),Uu(t)}function io(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Il(t,r)}}function ff(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function so(){if(df){var t=zr;if(t!==null)throw t}}function ao(t,n,r,l){df=!1;var h=t.updateQueue;Bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,p===null?f=z:p.next=z,p=N;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=N))}if(f!==null){var Y=h.baseState;p=0,F=z=N=null,E=f;do{var P=E.lane&-536870913,H=P!==E.lane;if(H?(Ue&P)===P:(l&P)===P){P!==0&&P===Lr&&(df=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var re=t,me=E;P=n;var it=r;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){Y=re.call(it,Y,P);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,P=typeof re=="function"?re.call(it,Y,P):re,P==null)break e;Y=S({},Y,P);break e;case 2:Bs=!0}}P=E.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[P]:H.push(P))}else H={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,N=Y):F=F.next=H,p|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=p,t.lanes=p,t.memoizedState=Y}}function ap(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function rp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ap(r[t],n)}var qr=k(null),Ku=k(0);function lp(t,n){t=rs,ne(Ku,t),ne(qr,n),rs=t|n.baseLanes}function mf(){ne(Ku,rs),ne(qr,qr.current)}function gf(){rs=Ku.current,K(qr),K(Ku)}var Sn=k(null),Bn=null;function Gs(t){var n=t.alternate;ne(Tt,Tt.current&1),ne(Sn,t),Bn===null&&(n===null||qr.current!==null||n.memoizedState!==null)&&(Bn=t)}function pf(t){ne(Tt,Tt.current),ne(Sn,t),Bn===null&&(Bn=t)}function op(t){t.tag===22?(ne(Tt,Tt.current),ne(Sn,t),Bn===null&&(Bn=t)):Fs()}function Fs(){ne(Tt,Tt.current),ne(Sn,Sn.current)}function xn(t){K(Sn),Bn===t&&(Bn=null),K(Tt)}var Tt=k(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,we=null,tt=null,It=null,$u=!1,Hr=!1,Xa=!1,Xu=0,ro=0,Gr=null,IE=0;function _t(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Tn(t[r],n[r]))return!1;return!0}function _f(t,n,r,l,h,f){return Zi=f,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Fp:kf,Xa=!1,f=r(l,h),Xa=!1,Hr&&(f=cp(n,r,l,h)),up(t),f}function up(t){G.H=uo;var n=tt!==null&&tt.next!==null;if(Zi=0,It=tt=we=null,$u=!1,ro=0,Gr=null,n)throw Error(a(300));t===null||Dt||(t=t.dependencies,t!==null&&Pu(t)&&(Dt=!0))}function cp(t,n,r,l){we=t;var h=0;do{if(Hr&&(Gr=null),ro=0,Hr=!1,25<=h)throw Error(a(301));if(h+=1,It=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Qp,f=n(r,l)}while(Hr);return f}function DE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?lo(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(we.flags|=1024),n}function vf(){var t=Xu!==0;return Xu=0,t}function bf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ef(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}Zi=0,It=tt=we=null,Hr=!1,ro=Xu=0,Gr=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?we.memoizedState=It=t:It=It.next=t,It}function At(){if(tt===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=It===null?we.memoizedState:It.next;if(n!==null)It=n,tt=t;else{if(t===null)throw we.alternate===null?Error(a(467)):Error(a(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?we.memoizedState=It=t:It=It.next=t}return It}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(t){var n=ro;return ro+=1,Gr===null&&(Gr=[]),t=ep(Gr,t,n),n=we,(It===null?n.memoizedState:It.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Fp:kf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lo(t);if(t.$$typeof===fe)return Kt(t)}throw Error(a(438,String(t)))}function Tf(t){var n=null,r=we.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ju(),we.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function Wi(t,n){return typeof n=="function"?n(t):n}function Wu(t){var n=At();return Af(n,tt,t)}function Af(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,N=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ue&Y)===Y:(Zi&Y)===Y){var P=z.revertLane;if(P===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Lr&&(F=!0);else if((Zi&P)===P){z=z.next,P===Lr&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=Y,p=f):N=N.next=Y,we.lanes|=P,Ys|=P;Y=z.action,Xa&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else P={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=P,p=f):N=N.next=P,we.lanes|=Y,Ys|=Y;z=z.next}while(z!==null&&z!==n);if(N===null?p=f:N.next=E,!Tn(f,t.memoizedState)&&(Dt=!0,F&&(r=zr,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var n=At(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Tn(f,n.memoizedState)||(Dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function hp(t,n,r){var l=we,h=At(),f=qe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Tn((tt||h).memoizedState,r);if(p&&(h.memoizedState=r,Dt=!0),h=h.queue,Rf(mp.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Fr(9,{destroy:void 0},dp.bind(null,l,h,r,n),null),at===null)throw Error(a(349));f||(Zi&127)!==0||fp(l,n,r)}return r}function fp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=we.updateQueue,n===null?(n=Ju(),we.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function dp(t,n,r,l){n.value=r,n.getSnapshot=l,gp(n)&&pp(t)}function mp(t,n,r){return r(function(){gp(n)&&pp(t)})}function gp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Tn(t,r)}catch{return!0}}function pp(t){var n=Ba(t,2);n!==null&&pn(n,t,2)}function xf(t){var n=un();if(typeof t=="function"){var r=t;if(t=r(),Xa){ln(!0);try{r()}finally{ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},n}function yp(t,n,r,l){return t.baseState=r,Af(t,tt,typeof l=="function"?l:Wi)}function OE(t,n,r,l,h){if(nc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,_p(n,f)):(f.next=r.next,n.pending=r.next=f)}}function _p(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=r(h,l),N=G.S;N!==null&&N(p,E),vp(t,n,E)}catch(z){wf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,l),vp(t,n,f)}catch(z){wf(t,n,z)}}function vp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){bp(t,n,l)},function(l){return wf(t,n,l)}):bp(t,n,r)}function bp(t,n,r){n.status="fulfilled",n.value=r,Ep(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_p(t,r)))}function wf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ep(n),n=n.next;while(n!==l)}t.action=null}function Ep(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tp(t,n){return n}function Ap(t,n){if(qe){var r=at.formState;if(r!==null){e:{var l=we;if(qe){if(ut){t:{for(var h=ut,f=Pn;h.nodeType!==8;){if(!f){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=qn(h.nextSibling),l=h.data==="F!";break e}}zs(l)}l=!1}l&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:n},r.queue=l,r=qp.bind(null,we,l),l.dispatch=r,l=xf(!1),f=Of.bind(null,we,!1,l.queue),l=un(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=OE.bind(null,we,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Sp(t){var n=At();return xp(n,tt,t)}function xp(t,n,r){if(n=Af(t,n,Tp)[0],t=Wu(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=lo(n)}catch(p){throw p===Pr?Hu:p}else l=n;n=At();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(we.flags|=2048,Fr(9,{destroy:void 0},kE.bind(null,h,r),null)),[l,f,t]}function kE(t,n){t.action=n}function wp(t){var n=At(),r=tt;if(r!==null)return xp(n,r,t);At(),n=n.memoizedState,r=At();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Fr(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=we.updateQueue,n===null&&(n=Ju(),we.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Rp(){return At().memoizedState}function ec(t,n,r,l){var h=un();we.flags|=t,h.memoizedState=Fr(1|n,{destroy:void 0},r,l===void 0?null:l)}function tc(t,n,r,l){var h=At();l=l===void 0?null:l;var f=h.memoizedState.inst;tt!==null&&l!==null&&yf(l,tt.memoizedState.deps)?h.memoizedState=Fr(n,f,r,l):(we.flags|=t,h.memoizedState=Fr(1|n,f,r,l))}function Np(t,n){ec(8390656,8,t,n)}function Rf(t,n){tc(2048,8,t,n)}function ME(t){we.flags|=4;var n=we.updateQueue;if(n===null)n=Ju(),we.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Cp(t){var n=At().memoizedState;return ME({ref:n,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ip(t,n){return tc(4,2,t,n)}function Dp(t,n){return tc(4,4,t,n)}function Op(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kp(t,n,r){r=r!=null?r.concat([t]):null,tc(4,4,Op.bind(null,n,t),r)}function Nf(){}function Mp(t,n){var r=At();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Vp(t,n){var r=At();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=t(),Xa){ln(!0);try{t()}finally{ln(!1)}}return r.memoizedState=[l,n],l}function Cf(t,n,r){return r===void 0||(Zi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=jy(),we.lanes|=t,Ys|=t,r)}function jp(t,n,r,l){return Tn(r,n)?r:qr.current!==null?(t=Cf(t,r,l),Tn(t,n)||(Dt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ue&261930)===0?(Dt=!0,t.memoizedState=r):(t=jy(),we.lanes|=t,Ys|=t,n)}function Up(t,n,r,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Of(t,!1,n,r);try{var N=h(),z=G.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=CE(N,l);oo(t,n,F,Nn(t))}else oo(t,n,l,Nn(t))}catch(Y){oo(t,n,{then:function(){},status:"rejected",reason:Y},Nn())}finally{te.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function VE(){}function If(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Lp(t).queue;Up(t,h,n,oe,r===null?VE:function(){return zp(t),r(l)})}function Lp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:oe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zp(t){var n=Lp(t);n.next===null&&(n=t.alternate.memoizedState),oo(t,n.next.queue,{},Nn())}function Df(){return Kt(wo)}function Pp(){return At().memoizedState}function Bp(){return At().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Nn();t=qs(r);var l=Hs(n,t,r);l!==null&&(pn(l,n,r),io(l,n,r)),n={cache:rf()},t.payload=n;return}n=n.return}}function UE(t,n,r){var l=Nn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},nc(t)?Hp(n,r):(r=Yh(t,n,r,l),r!==null&&(pn(r,t,l),Gp(r,n,l)))}function qp(t,n,r){var l=Nn();oo(t,n,r,l)}function oo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Hp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,p))return ju(t,n,h,0),at===null&&Vu(),!1}catch{}if(r=Yh(t,n,h,l),r!==null)return pn(r,t,l),Gp(r,n,l),!0}return!1}function Of(t,n,r,l){if(l={lane:2,revertLane:cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(n)throw Error(a(479))}else n=Yh(t,r,l,2),n!==null&&pn(n,t,2)}function nc(t){var n=t.alternate;return t===we||n!==null&&n===we}function Hp(t,n){Hr=$u=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Gp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Il(t,r)}}var uo={readContext:Kt,use:Zu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};uo.useEffectEvent=_t;var Fp={readContext:Kt,use:Zu,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Kt,useEffect:Np,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ec(4194308,4,Op.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ec(4194308,4,t,n)},useInsertionEffect:function(t,n){ec(4,2,t,n)},useMemo:function(t,n){var r=un();n=n===void 0?null:n;var l=t();if(Xa){ln(!0);try{t()}finally{ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=un();if(r!==void 0){var h=r(n);if(Xa){ln(!0);try{r(n)}finally{ln(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=UE.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=xf(t);var n=t.queue,r=qp.bind(null,we,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Nf,useDeferredValue:function(t,n){var r=un();return Cf(r,t,n)},useTransition:function(){var t=xf(!1);return t=Up.bind(null,we,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=we,h=un();if(qe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),at===null)throw Error(a(349));(Ue&127)!==0||fp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Np(mp.bind(null,l,f,t),[t]),l.flags|=2048,Fr(9,{destroy:void 0},dp.bind(null,l,f,r,n),null),r},useId:function(){var t=un(),n=at.identifierPrefix;if(qe){var r=Ii,l=Ci;r=(l&~(1<<32-pt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=IE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:Ap,useActionState:Ap,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,we,!0,r),r.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return un().memoizedState=jE.bind(null,we)},useEffectEvent:function(t){var n=un(),r={impl:t};return n.memoizedState=r,function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},kf={readContext:Kt,use:Zu,useCallback:Mp,useContext:Kt,useEffect:Rf,useImperativeHandle:kp,useInsertionEffect:Ip,useLayoutEffect:Dp,useMemo:Vp,useReducer:Wu,useRef:Rp,useState:function(){return Wu(Wi)},useDebugValue:Nf,useDeferredValue:function(t,n){var r=At();return jp(r,tt.memoizedState,t,n)},useTransition:function(){var t=Wu(Wi)[0],n=At().memoizedState;return[typeof t=="boolean"?t:lo(t),n]},useSyncExternalStore:hp,useId:Pp,useHostTransitionStatus:Df,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var r=At();return yp(r,tt,t,n)},useMemoCache:Tf,useCacheRefresh:Bp};kf.useEffectEvent=Cp;var Qp={readContext:Kt,use:Zu,useCallback:Mp,useContext:Kt,useEffect:Rf,useImperativeHandle:kp,useInsertionEffect:Ip,useLayoutEffect:Dp,useMemo:Vp,useReducer:Sf,useRef:Rp,useState:function(){return Sf(Wi)},useDebugValue:Nf,useDeferredValue:function(t,n){var r=At();return tt===null?Cf(r,t,n):jp(r,tt.memoizedState,t,n)},useTransition:function(){var t=Sf(Wi)[0],n=At().memoizedState;return[typeof t=="boolean"?t:lo(t),n]},useSyncExternalStore:hp,useId:Pp,useHostTransitionStatus:Df,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var r=At();return tt!==null?yp(r,tt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Bp};Qp.useEffectEvent=Cp;function Mf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Nn(),h=qs(l);h.payload=n,r!=null&&(h.callback=r),n=Hs(t,h,l),n!==null&&(pn(n,t,l),io(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Nn(),h=qs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Hs(t,h,l),n!==null&&(pn(n,t,l),io(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Nn(),l=qs(r);l.tag=2,n!=null&&(l.callback=n),n=Hs(t,l,r),n!==null&&(pn(n,t,r),io(n,t,r))}};function Kp(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!$l(r,l)||!$l(h,f):!0}function Yp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function Ja(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function $p(t){Mu(t)}function Xp(t){console.error(t)}function Jp(t){Mu(t)}function ic(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Zp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,n,r){return r=qs(r),r.tag=3,r.payload={element:null},r.callback=function(){ic(t,n)},r}function Wp(t){return t=qs(t),t.tag=3,t}function ey(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Zp(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Zp(n,r,l),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function LE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ur(n,r,h,!0),r=Sn.current,r!==null){switch(r.tag){case 31:case 13:return Bn===null?gc():r.alternate===null&&vt===0&&(vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Gu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ld(t,l,h)),!1;case 22:return r.flags|=65536,l===Gu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ld(t,l,h)),!1}throw Error(a(435,r.tag))}return ld(t,l,h),gc(),!1}if(qe)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ef&&(t=Error(a(422),{cause:l}),Zl(Un(t,r)))):(l!==ef&&(n=Error(a(423),{cause:l}),Zl(Un(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,r),h=jf(t.stateNode,l,h),ff(t,h),vt!==4&&(vt=2)),!1;var f=Error(a(520),{cause:l});if(f=Un(f,r),_o===null?_o=[f]:_o.push(f),vt!==4&&(vt=2),n===null)return!0;l=Un(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=jf(r.stateNode,l,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Wp(h),ey(h,t,r,l),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),Dt=!1;function Yt(t,n,r,l){n.child=t===null?sp(n,null,r,l):$a(n,t.child,r,l)}function ty(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Fa(n),l=_f(t,n,r,p,f,h),E=vf(),t!==null&&!Dt?(bf(t,n,h),es(t,n,h)):(qe&&E&&Zh(n),n.flags|=1,Yt(t,n,l,h),n.child)}function ny(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,iy(t,n,f,l,h)):(t=Lu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:$l,r(p,l)&&t.ref===n.ref)return es(t,n,h)}return n.flags|=1,t=Yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function iy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if($l(f,l)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=l=f,Ff(t,h))(t.flags&131072)!==0&&(Dt=!0);else return n.lanes=t.lanes,es(t,n,h)}return Lf(t,n,r,l,h)}function sy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ay(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?lp(n,f):mf(),op(n);else return l=n.lanes=536870912,ay(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(qu(n,f.cachePool),lp(n,f),Fs(),n.memoizedState=null):(t!==null&&qu(n,null),mf(),Fs());return Yt(t,n,h,r),n.child}function co(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,r,l,h){var f=of();return f=f===null?null:{parent:Ct._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&qu(n,null),mf(),op(n),t!==null&&Ur(t,n,l,!0),n.childLanes=h,null}function sc(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,r){return $a(n,t.child,null,r),t=sc(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function zE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=sc(n,l),n.lanes=536870912,co(null,t);if(pf(n),(t=ut)?(t=_0(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=Hg(t),r.return=n,n.child=r,Qt=n,ut=null)):t=null,t===null)throw zs(n);return n.lanes=536870912,null}return sc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Dt||Ur(t,n,r,!1),h=(r&t.childLanes)!==0,Dt||h){if(l=at,l!==null&&(p=Dl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ba(t,p),pn(l,t,p),Uf;gc(),n=ry(t,n,r)}else t=f.treeContext,ut=qn(p.nextSibling),Qt=n,qe=!0,Ls=null,Pn=!1,t!==null&&Qg(n,t),n=sc(n,l),n.flags|=4096;return n}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,l,h){return Fa(n),r=_f(t,n,r,l,void 0,h),l=vf(),t!==null&&!Dt?(bf(t,n,h),es(t,n,h)):(qe&&l&&Zh(n),n.flags|=1,Yt(t,n,r,h),n.child)}function ly(t,n,r,l,h,f){return Fa(n),n.updateQueue=null,r=cp(n,l,r,h),up(t),l=vf(),t!==null&&!Dt?(bf(t,n,f),es(t,n,f)):(qe&&l&&Zh(n),n.flags|=1,Yt(t,n,r,f),n.child)}function oy(t,n,r,l,h){if(Fa(n),n.stateNode===null){var f=kr,p=r.contextType;typeof p=="object"&&p!==null&&(f=Kt(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},cf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Kt(p):kr,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),ao(n,l,f,h),so(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Ja(r,E);f.props=N;var z=f.context,F=r.contextType;p=kr,typeof F=="object"&&F!==null&&(p=Kt(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Yp(n,f,l,p),Bs=!1;var P=n.memoizedState;f.state=P,ao(n,l,f,h),so(),z=n.memoizedState,E||P!==z||Bs?(typeof Y=="function"&&(Mf(n,r,Y,l),z=n.memoizedState),(N=Bs||Kp(n,r,N,l,P,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hf(t,n),p=n.memoizedProps,F=Ja(r,p),f.props=F,Y=n.pendingProps,P=f.context,z=r.contextType,N=kr,typeof z=="object"&&z!==null&&(N=Kt(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||P!==N)&&Yp(n,f,l,N),Bs=!1,P=n.memoizedState,f.state=P,ao(n,l,f,h),so();var H=n.memoizedState;p!==Y||P!==H||Bs||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(Mf(n,r,E,l),H=n.memoizedState),(F=Bs||Kp(n,r,F,l,P,H,N)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=N,l=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ac(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$a(n,t.child,null,h),n.child=$a(n,null,r,h)):Yt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=es(t,n,h),t}function uy(t,n,r,l){return Ha(),n.flags|=256,Yt(t,n,r,l),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:Zg()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function cy(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?Gs(n):Fs(),(t=ut)?(t=_0(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Us!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=Hg(t),r.return=n,n.child=r,Qt=n,ut=null)):t=null,t===null)throw zs(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Fs(),h=n.mode,E=rc({mode:"hidden",children:E},h),l=qa(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Pf(r),l.childLanes=Bf(t,p,r),n.memoizedState=zf,co(null,l)):(Gs(n),qf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Gs(n),n.flags&=-257,n=Hf(t,n,r)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),E=l.fallback,h=n.mode,l=rc({mode:"visible",children:l.children},h),E=qa(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,$a(n,t.child,null,r),l=n.child,l.memoizedState=Pf(r),l.childLanes=Bf(t,p,r),n.memoizedState=zf,n=co(null,l));else if(Gs(n),Ad(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Zl({value:l,source:null,stack:null}),n=Hf(t,n,r)}else if(Dt||Ur(t,n,r,!1),p=(r&t.childLanes)!==0,Dt||p){if(p=at,p!==null&&(l=Dl(p,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ba(t,l),pn(p,t,l),Uf;Td(E)||gc(),n=Hf(t,n,r)}else Td(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ut=qn(E.nextSibling),Qt=n,qe=!0,Ls=null,Pn=!1,t!==null&&Qg(n,t),n=qf(n,l.children),n.flags|=4096);return n}return h?(Fs(),E=l.fallback,h=n.mode,N=t.child,z=N.sibling,l=Yi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=Yi(z,E):(E=qa(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,co(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(N=Ct._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Zg(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Bf(t,p,r),n.memoizedState=zf,co(t.child,l)):(Gs(n),r=t.child,t=r.sibling,r=Yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=An(22,t,null,n),t.lanes=0,t}function Hf(t,n,r){return $a(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sf(t.return,n,r)}function Gf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function fy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Tt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ne(Tt,p),Yt(t,n,l,r),l=qe?Jl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,r,n);else if(t.tag===19)hy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,l);break;case"together":Gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function es(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ur(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function PE(t,n,r){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),Ps(n,Ct,t.memoizedState.cache),Ha();break;case 27:case 5:hi(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cy(t,n,r):(Gs(n),t=es(t,n,r),t!==null?t.sibling:null);Gs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ur(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return fy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Tt,Tt.current),l)break;return null;case 22:return n.lanes=0,sy(t,n,r,n.pendingProps);case 24:Ps(n,Ct,t.memoizedState.cache)}return es(t,n,r)}function dy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return Dt=!1,PE(t,n,r);Dt=(t.flags&131072)!==0}else Dt=!1,qe&&(n.flags&1048576)!==0&&Fg(n,Jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ka(n.elementType),n.type=t,typeof t=="function")$h(t)?(l=Ja(t,l),n.tag=1,n=oy(null,n,t,l,r)):(n.tag=0,n=Lf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Re){n.tag=11,n=ty(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=ny(null,n,t,l,r);break e}}throw n=rt(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ja(l,n.pendingProps),oy(t,n,l,h,r);case 3:e:{if(gt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),ao(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Ps(n,Ct,l),l!==f.cache&&af(n,[Ct],r,!0),so(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(t,n,l,r);break e}else if(l!==h){h=Un(Error(a(424)),n),Zl(h),n=uy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=qn(t.firstChild),Qt=n,qe=!0,Ls=null,Pn=!0,r=sp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ha(),l===h){n=es(t,n,r);break e}Yt(t,n,l,r)}n=n.child}return n;case 26:return ac(t,n),t===null?(r=S0(n.type,null,n.pendingProps,null))?n.memoizedState=r:qe||(r=n.type,t=n.pendingProps,l=Tc(ve.current).createElement(r),l[wt]=n,l[Bt]=t,$t(l,r,t),Rt(l),n.stateNode=l):n.memoizedState=S0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return hi(n),t===null&&qe&&(l=n.stateNode=E0(n.type,n.pendingProps,ve.current),Qt=n,Pn=!0,h=ut,Ws(n.type)?(Sd=h,ut=qn(l.firstChild)):ut=h),Yt(t,n,n.pendingProps.children,r),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=pT(l,n.type,n.pendingProps,Pn),l!==null?(n.stateNode=l,Qt=n,ut=qn(l.firstChild),Pn=!1,h=!0):h=!1),h||zs(n)),hi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,vd(h,f)?l=null:p!==null&&vd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,DE,null,null,r),wo._currentValue=h),ac(t,n),Yt(t,n,l,r),n.child;case 6:return t===null&&qe&&((t=r=ut)&&(r=yT(r,n.pendingProps,Pn),r!==null?(n.stateNode=r,Qt=n,ut=null,t=!0):t=!1),t||zs(n)),null;case 13:return cy(t,n,r);case 4:return gt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$a(n,null,l,r):Yt(t,n,l,r),n.child;case 11:return ty(t,n,n.type,n.pendingProps,r);case 7:return Yt(t,n,n.pendingProps,r),n.child;case 8:return Yt(t,n,n.pendingProps.children,r),n.child;case 12:return Yt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ps(n,n.type,l.value),Yt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Fa(n),h=Kt(h),l=l(h),n.flags|=1,Yt(t,n,l,r),n.child;case 14:return ny(t,n,n.type,n.pendingProps,r);case 15:return iy(t,n,n.type,n.pendingProps,r);case 19:return fy(t,n,r);case 31:return zE(t,n,r);case 22:return sy(t,n,r,n.pendingProps);case 24:return Fa(n),l=Kt(Ct),t===null?(h=of(),h===null&&(h=at,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},cf(n),Ps(n,Ct,h)):((t.lanes&r)!==0&&(hf(t,n),ao(n,null,null,r),so()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,Ct,l)):(l=f.cache,Ps(n,Ct,l),l!==h.cache&&af(n,[Ct],r,!0))),Yt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(t){t.flags|=4}function Qf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw Ya=Gu,uf}else t.flags&=-16777217}function my(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C0(n))if(Py())t.flags|=8192;else throw Ya=Gu,uf}function lc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Rs():536870912,t.lanes|=n,$r|=n)}function ho(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function BE(t,n,r){var l=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ji(Ct),We(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jr(n)?ts(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ts(n),f!==null?(ct(n),my(n,f)):(ct(n),Qf(n,h,null,l,r))):f?f!==t.memoizedState?(ts(n),ct(n),my(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ts(n),ct(n),Qf(n,h,t,l,r)),null;case 27:if(Bi(n),r=ve.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ts(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}t=se.current,jr(n)?Kg(n):(t=E0(h,l,r),n.stateNode=t,ts(n))}return ct(n),null;case 5:if(Bi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ts(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(f=se.current,jr(n))Kg(n);else{var p=Tc(ve.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[wt]=n,f[Bt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch($t(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ts(n)}}return ct(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ts(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ve.current,jr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||c0(t.nodeValue,r)),t||zs(n,!0)}else t=Tc(t).createTextNode(l),t[wt]=n,n.stateNode=t}return ct(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=jr(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[wt]=n}else Ha(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ct(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=jr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[wt]=n}else Ha(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),lc(n,n.updateQueue),ct(n),null);case 4:return We(),t===null&&md(n.stateNode.containerInfo),ct(n),null;case 10:return Ji(n.type),ct(n),null;case 19:if(K(Tt),l=n.memoizedState,l===null)return ct(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ho(l,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,ho(l,!1),t=f.updateQueue,n.updateQueue=t,lc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)qg(r,t),r=r.sibling;return ne(Tt,Tt.current&1|2),qe&&$i(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&xt()>fc&&(n.flags|=128,h=!0,ho(l,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,lc(n,t),ho(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return ct(n),null}else 2*xt()-l.renderingStartTime>fc&&r!==536870912&&(n.flags|=128,h=!0,ho(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=xt(),t.sibling=null,r=Tt.current,ne(Tt,h?r&1|2:r&1),qe&&$i(n,l.treeForkCount),t):(ct(n),null);case 22:case 23:return xn(n),gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),r=n.updateQueue,r!==null&&lc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&K(Qa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ji(Ct),ct(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function qE(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(Ct),We(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Bi(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Ha()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ha()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Tt),null;case 4:return We(),null;case 10:return Ji(n.type),null;case 22:case 23:return xn(n),gf(),t!==null&&K(Qa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(Ct),null;case 25:return null;default:return null}}function gy(t,n){switch(Wh(n),n.tag){case 3:Ji(Ct),We();break;case 26:case 27:case 5:Bi(n);break;case 4:We();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:K(Tt);break;case 10:Ji(n.type);break;case 22:case 23:xn(n),gf(),t!==null&&K(Qa);break;case 24:Ji(Ct)}}function fo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){Ze(n,n.return,E)}}function Qs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var N=r,z=E;try{z()}catch(F){Ze(h,N,F)}}}l=l.next}while(l!==f)}}catch(F){Ze(n,n.return,F)}}function py(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{rp(n,r)}catch(l){Ze(t,t.return,l)}}}function yy(t,n,r){r.props=Ja(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ze(t,n,l)}}function mo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ze(t,n,h)}}function Di(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,n,h)}else r.current=null}function _y(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function Kf(t,n,r){try{var l=t.stateNode;cT(l,t.type,r,n),l[Bt]=n}catch(h){Ze(t,t.return,h)}}function vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Zn));else if(l!==4&&(l===27&&Ws(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,r),t=t.sibling;t!==null;)$f(t,n,r),t=t.sibling}function oc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ws(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(oc(t,n,r),t=t.sibling;t!==null;)oc(t,n,r),t=t.sibling}function by(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$t(n,l,r),n[wt]=t,n[Bt]=r}catch(f){Ze(t,t.return,f)}}var ns=!1,Ot=!1,Xf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function HE(t,n){if(t=t.containerInfo,yd=Cc,t=kg(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,N=-1,z=0,F=0,Y=t,P=null;t:for(;;){for(var H;Y!==r||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||l!==0&&Y.nodeType!==3||(N=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)P=Y,Y=H;for(;;){if(Y===t)break t;if(P===r&&++z===h&&(E=p),P===f&&++F===l&&(N=p),(H=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=H}r=E===-1||N===-1?null:{start:E,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},Cc=!1,Ht=n;Ht!==null;)if(n=Ht,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ht=t;else for(;Ht!==null;){switch(n=Ht,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var re=Ja(r.type,h);t=l.getSnapshotBeforeUpdate(re,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ze(r,r.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ed(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ht=t;break}Ht=n.return}}function Ty(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ss(t,r),l&4&&fo(5,r);break;case 1:if(ss(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Ze(r,r.return,p)}else{var h=Ja(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Ze(r,r.return,p)}}l&64&&py(r),l&512&&mo(r,r.return);break;case 3:if(ss(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rp(t,n)}catch(p){Ze(r,r.return,p)}}break;case 27:n===null&&l&4&&by(r);case 26:case 5:ss(t,r),n===null&&l&4&&_y(r),l&512&&mo(r,r.return);break;case 12:ss(t,r);break;case 31:ss(t,r),l&4&&xy(t,r);break;case 13:ss(t,r),l&4&&wy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ZE.bind(null,r),_T(t,r))));break;case 22:if(l=r.memoizedState!==null||ns,!l){n=n!==null&&n.memoizedState!==null||Ot,h=ns;var f=Ot;ns=l,(Ot=n)&&!f?as(t,r,(r.subtreeFlags&8772)!==0):ss(t,r),ns=h,Ot=f}break;case 30:break;default:ss(t,r)}}function Ay(t){var n=t.alternate;n!==null&&(t.alternate=null,Ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&vr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,fn=!1;function is(t,n,r){for(r=r.child;r!==null;)Sy(t,n,r),r=r.sibling}function Sy(t,n,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(vn,r)}catch{}switch(r.tag){case 26:Ot||Di(r,n),is(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ot||Di(r,n);var l=mt,h=fn;Ws(r.type)&&(mt=r.stateNode,fn=!1),is(t,n,r),Ao(r.stateNode),mt=l,fn=h;break;case 5:Ot||Di(r,n);case 6:if(l=mt,h=fn,mt=null,is(t,n,r),mt=l,fn=h,mt!==null)if(fn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(r.stateNode)}catch(f){Ze(r,n,f)}else try{mt.removeChild(r.stateNode)}catch(f){Ze(r,n,f)}break;case 18:mt!==null&&(fn?(t=mt,p0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),il(t)):p0(mt,r.stateNode));break;case 4:l=mt,h=fn,mt=r.stateNode.containerInfo,fn=!0,is(t,n,r),mt=l,fn=h;break;case 0:case 11:case 14:case 15:Qs(2,r,n),Ot||Qs(4,r,n),is(t,n,r);break;case 1:Ot||(Di(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&yy(r,n,l)),is(t,n,r);break;case 21:is(t,n,r);break;case 22:Ot=(l=Ot)||r.memoizedState!==null,is(t,n,r),Ot=l;break;default:is(t,n,r)}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{il(t)}catch(r){Ze(n,n.return,r)}}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(r){Ze(n,n.return,r)}}function GE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ey),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ey),n;default:throw Error(a(435,t.tag))}}function uc(t,n){var r=GE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=WE.bind(null,t,l);l.then(h,h)}})}function dn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Ws(E.type)){mt=E.stateNode,fn=!1;break e}break;case 5:mt=E.stateNode,fn=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,fn=!0;break e}E=E.return}if(mt===null)throw Error(a(160));Sy(f,p,h),mt=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,t),n=n.sibling}var si=null;function Ry(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),l&4&&(Qs(3,t,t.return),fo(3,t),Qs(5,t,t.return));break;case 1:dn(n,t),mn(t),l&512&&(Ot||r===null||Di(r,r.return)),l&64&&ns&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=si;if(dn(n,t),mn(t),l&512&&(Ot||r===null||Di(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,l,r),f[wt]=t,Rt(f),l=f;break e;case"link":var p=R0("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),$t(f,l,r),h.head.appendChild(f);break;case"meta":if(p=R0("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(l),$t(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[wt]=t,Rt(f),l=f}t.stateNode=l}else N0(h,t.type,t.stateNode);else t.stateNode=w0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?N0(h,t.type,t.stateNode):w0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:dn(n,t),mn(t),l&512&&(Ot||r===null||Di(r,r.return)),r!==null&&l&4&&Kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(dn(n,t),mn(t),l&512&&(Ot||r===null||Di(r,r.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(re){Ze(t,t.return,re)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(dn(n,t),mn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(re){Ze(t,t.return,re)}}break;case 3:if(xc=null,h=si,si=Ac(n.containerInfo),dn(n,t),si=h,mn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{il(n.containerInfo)}catch(re){Ze(t,t.return,re)}Xf&&(Xf=!1,Ny(t));break;case 4:l=si,si=Ac(t.stateNode.containerInfo),dn(n,t),mn(t),si=l;break;case 12:dn(n,t),mn(t);break;case 31:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(hc=xt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,z=ns,F=Ot;if(ns=z||h,Ot=F||N,dn(n,t),Ot=F,ns=z,mn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||ns||Ot||Za(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var Y=N.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(re){Ze(N,N.return,re)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(re){Ze(N,N.return,re)}}}else if(n.tag===18){if(r===null){N=n;try{var H=N.stateNode;h?y0(H,!0):y0(N.stateNode,!1)}catch(re){Ze(N,N.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,uc(t,r))));break;case 19:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uc(t,l)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(vy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);oc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(hn(p,""),r.flags&=-33);var E=Yf(t);oc(t,E,p);break;case 3:case 4:var N=r.stateNode.containerInfo,z=Yf(t);$f(t,z,N);break;default:throw Error(a(161))}}catch(F){Ze(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ss(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(t,n.alternate,n),n=n.sibling}function Za(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),Za(n);break;case 1:Di(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&yy(n,n.return,r),Za(n);break;case 27:Ao(n.stateNode);case 26:case 5:Di(n,n.return),Za(n);break;case 22:n.memoizedState===null&&Za(n);break;case 30:Za(n);break;default:Za(n)}t=t.sibling}}function as(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,r),fo(4,f);break;case 1:if(as(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ze(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)ap(N[h],E)}catch(z){Ze(l,l.return,z)}}r&&p&64&&py(f),mo(f,f.return);break;case 27:by(f);case 26:case 5:as(h,f,r),r&&l===null&&p&4&&_y(f),mo(f,f.return);break;case 12:as(h,f,r);break;case 31:as(h,f,r),r&&p&4&&xy(h,f);break;case 13:as(h,f,r),r&&p&4&&wy(h,f);break;case 22:f.memoizedState===null&&as(h,f,r),mo(f,f.return);break;case 30:break;default:as(h,f,r)}n=n.sibling}}function Jf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Wl(r))}function Zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wl(t))}function ai(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(t,n,r,l),n=n.sibling}function Cy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(t,n,r,l),h&2048&&fo(9,n);break;case 1:ai(t,n,r,l);break;case 3:ai(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wl(t)));break;case 12:if(h&2048){ai(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ze(n,n.return,N)}}else ai(t,n,r,l);break;case 31:ai(t,n,r,l);break;case 13:ai(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ai(t,n,r,l):go(t,n):f._visibility&2?ai(t,n,r,l):(f._visibility|=2,Qr(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(p,n);break;case 24:ai(t,n,r,l),h&2048&&Zf(n.alternate,n);break;default:ai(t,n,r,l)}}function Qr(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,N=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Qr(f,p,E,N,h),fo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Qr(f,p,E,N,h):go(f,p):(F._visibility|=2,Qr(f,p,E,N,h)),h&&z&2048&&Jf(p.alternate,p);break;case 24:Qr(f,p,E,N,h),h&&z&2048&&Zf(p.alternate,p);break;default:Qr(f,p,E,N,h)}n=n.sibling}}function go(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:go(r,l),h&2048&&Jf(l.alternate,l);break;case 24:go(r,l),h&2048&&Zf(l.alternate,l);break;default:go(r,l)}n=n.sibling}}var po=8192;function Kr(t,n,r){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Iy(t,n,r),t=t.sibling}function Iy(t,n,r){switch(t.tag){case 26:Kr(t,n,r),t.flags&po&&t.memoizedState!==null&&IT(r,si,t.memoizedState,t.memoizedProps);break;case 5:Kr(t,n,r);break;case 3:case 4:var l=si;si=Ac(t.stateNode.containerInfo),Kr(t,n,r),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Kr(t,n,r),po=l):Kr(t,n,r));break;default:Kr(t,n,r)}}function Dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ht=l,ky(l,t)}Dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:yo(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:yo(t);break;case 12:yo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,cc(t)):yo(t);break;default:yo(t)}}function cc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ht=l,ky(l,t)}Dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),cc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,cc(n));break;default:cc(n)}t=t.sibling}}function ky(t,n){for(;Ht!==null;){var r=Ht;switch(r.tag){case 0:case 11:case 15:Qs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ht=l;else e:for(r=t;Ht!==null;){l=Ht;var h=l.sibling,f=l.return;if(Ay(l),l===r){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var FE={getCacheForType:function(t){var n=Kt(Ct),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Kt(Ct).controller.signal}},QE=typeof WeakMap=="function"?WeakMap:Map,Ye=0,at=null,Oe=null,Ue=0,Je=0,wn=null,Ks=!1,Yr=!1,Wf=!1,rs=0,vt=0,Ys=0,Wa=0,ed=0,Rn=0,$r=0,_o=null,gn=null,td=!1,hc=0,My=0,fc=1/0,dc=null,$s=null,zt=0,Xs=null,Xr=null,ls=0,nd=0,id=null,Vy=null,vo=0,sd=null;function Nn(){return(Ye&2)!==0&&Ue!==0?Ue&-Ue:G.T!==null?cd():mu()}function jy(){if(Rn===0)if((Ue&536870912)===0||qe){var t=Hi;Hi<<=1,(Hi&3932160)===0&&(Hi=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function pn(t,n,r){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Jr(t,0),Js(t,Ue,Rn,!1)),Ra(t,r),((Ye&2)===0||t!==at)&&(t===at&&((Ye&2)===0&&(Wa|=r),vt===4&&Js(t,Ue,Rn,!1)),Oi(t))}function Uy(t,n,r){if((Ye&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Ne(t,n),h=l?$E(t,n):rd(t,n,!0),f=l;do{if(h===0){Yr&&!l&&Js(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!KE(r)){h=rd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=_o;var N=E.current.memoizedState.isDehydrated;if(N&&(Jr(E,p).flags|=256),p=rd(E,p,!1),p!==2){if(Wf&&!N){E.errorRecoveryDisabledLanes|=f,Wa|=f,h=4;break e}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Jr(t,0),Js(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Js(l,n,Rn,!Ks);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=hc+300-xt(),10<h)){if(Js(l,n,Rn,!Ks),je(l,0,!0)!==0)break e;ls=n,l.timeoutHandle=m0(Ly.bind(null,l,r,gn,dc,td,n,Rn,Wa,$r,Ks,f,"Throttled",-0,0),h);break e}Ly(l,r,gn,dc,td,n,Rn,Wa,$r,Ks,f,null,-0,0)}}break}while(!0);Oi(t)}function Ly(t,n,r,l,h,f,p,E,N,z,F,Y,P,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Iy(n,f,Y);var re=(f&62914560)===f?hc-xt():(f&4194048)===f?My-xt():0;if(re=DT(Y,re),re!==null){ls=f,t.cancelPendingCommit=re(Qy.bind(null,t,n,f,r,l,h,p,E,N,F,Y,null,P,H)),Js(t,f,p,!z);return}}Qy(t,n,f,r,l,h,p,E,N)}function KE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(t,n,r,l){n&=~ed,n&=~Wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-pt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&Na(t,r,n)}function mc(){return(Ye&6)===0?(bo(0),!1):!0}function ad(){if(Oe!==null){if(Je===0)var t=Oe.return;else t=Oe,Xi=Ga=null,Ef(t),Br=null,to=0,t=Oe;for(;t!==null;)gy(t.alternate,t),t=t.return;Oe=null}}function Jr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ls=0,ad(),at=t,Oe=r=Yi(t.current,null),Ue=n,Je=0,wn=null,Ks=!1,Yr=Ne(t,n),Wf=!1,$r=Rn=ed=Wa=Ys=vt=0,gn=_o=null,td=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-pt(l),f=1<<h;n|=t[h],l&=~f}return rs=n,Vu(),r}function zy(t,n){we=null,G.H=uo,n===Pr||n===Hu?(n=tp(),Je=3):n===uf?(n=tp(),Je=4):Je=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Oe===null&&(vt=1,ic(t,Un(n,t.current)))}function Py(){var t=Sn.current;return t===null?!0:(Ue&4194048)===Ue?Bn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Bn:!1}function By(){var t=G.H;return G.H=uo,t===null?uo:t}function qy(){var t=G.A;return G.A=FE,t}function gc(){vt=4,Ks||(Ue&4194048)!==Ue&&Sn.current!==null||(Yr=!0),(Ys&134217727)===0&&(Wa&134217727)===0||at===null||Js(at,Ue,Rn,!1)}function rd(t,n,r){var l=Ye;Ye|=2;var h=By(),f=qy();(at!==t||Ue!==n)&&(dc=null,Jr(t,n)),n=!1;var p=vt;e:do try{if(Je!==0&&Oe!==null){var E=Oe,N=wn;switch(Je){case 8:ad(),p=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Je;if(Je=0,wn=null,Zr(t,E,N,z),r&&Yr){p=0;break e}break;default:z=Je,Je=0,wn=null,Zr(t,E,N,z)}}YE(),p=vt;break}catch(F){zy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Xi=Ga=null,Ye=l,G.H=h,G.A=f,Oe===null&&(at=null,Ue=0,Vu()),p}function YE(){for(;Oe!==null;)Hy(Oe)}function $E(t,n){var r=Ye;Ye|=2;var l=By(),h=qy();at!==t||Ue!==n?(dc=null,fc=xt()+500,Jr(t,n)):Yr=Ne(t,n);e:do try{if(Je!==0&&Oe!==null){n=Oe;var f=wn;t:switch(Je){case 1:Je=0,wn=null,Zr(t,n,f,1);break;case 2:case 9:if(Wg(f)){Je=0,wn=null,Gy(n);break}n=function(){Je!==2&&Je!==9||at!==t||(Je=7),Oi(t)},f.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Wg(f)?(Je=0,wn=null,Gy(n)):(Je=0,wn=null,Zr(t,n,f,7));break;case 5:var p=null;switch(Oe.tag){case 26:p=Oe.memoizedState;case 5:case 27:var E=Oe;if(p?C0(p):E.stateNode.complete){Je=0,wn=null;var N=E.sibling;if(N!==null)Oe=N;else{var z=E.return;z!==null?(Oe=z,pc(z)):Oe=null}break t}}Je=0,wn=null,Zr(t,n,f,5);break;case 6:Je=0,wn=null,Zr(t,n,f,6);break;case 8:ad(),vt=6;break e;default:throw Error(a(462))}}XE();break}catch(F){zy(t,F)}while(!0);return Xi=Ga=null,G.H=l,G.A=h,Ye=r,Oe!==null?0:(at=null,Ue=0,Vu(),vt)}function XE(){for(;Oe!==null&&!Cl();)Hy(Oe)}function Hy(t){var n=dy(t.alternate,t,rs);t.memoizedProps=t.pendingProps,n===null?pc(t):Oe=n}function Gy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ly(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=ly(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Ef(n);default:gy(r,n),n=Oe=qg(n,rs),n=dy(r,n,rs)}t.memoizedProps=t.pendingProps,n===null?pc(t):Oe=n}function Zr(t,n,r,l){Xi=Ga=null,Ef(n),Br=null,to=0;var h=n.return;try{if(LE(t,h,n,r,Ue)){vt=1,ic(t,Un(r,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;vt=1,ic(t,Un(r,t.current)),Oe=null;return}n.flags&32768?(qe||l===1?t=!0:Yr||(Ue&536870912)!==0?t=!1:(Ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,Ks);return}t=n.return;var r=BE(n.alternate,n,rs);if(r!==null){Oe=r;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);vt===0&&(vt=5)}function Fy(t,n){do{var r=qE(t.alternate,t);if(r!==null){r.flags&=32767,Oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=r}while(t!==null);vt=6,Oe=null}function Qy(t,n,r,l,h,f,p,E,N){t.cancelPendingCommit=null;do yc();while(zt!==0);if((Ye&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,Lh(t,r,f,p,E,N),t===at&&(Oe=at=null,Ue=0),Xr=n,Xs=t,ls=r,nd=f,id=h,Vy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eT(mi,function(){return Jy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=te.p,te.p=2,p=Ye,Ye|=4;try{HE(t,n,r)}finally{Ye=p,te.p=h,G.T=l}}zt=1,Ky(),Yy(),$y()}}function Ky(){if(zt===1){zt=0;var t=Xs,n=Xr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var h=Ye;Ye|=4;try{Ry(n,t);var f=_d,p=kg(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Og(E.ownerDocument.documentElement,E)){if(N!==null&&qh(E)){var z=N.start,F=N.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var H=P.getSelection(),re=E.textContent.length,me=Math.min(N.start,re),it=N.end===void 0?me:Math.min(N.end,re);!H.extend&&me>it&&(p=it,it=me,me=p);var V=Dg(E,me),O=Dg(E,it);if(V&&O&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),H.removeAllRanges(),me>it?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cc=!!yd,_d=yd=null}finally{Ye=h,te.p=l,G.T=r}}t.current=n,zt=2}}function Yy(){if(zt===2){zt=0;var t=Xs,n=Xr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var h=Ye;Ye|=4;try{Ty(t,n.alternate,n)}finally{Ye=h,te.p=l,G.T=r}}zt=3}}function $y(){if(zt===4||zt===3){zt=0,dr();var t=Xs,n=Xr,r=ls,l=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,Xr=Xs=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),Gi(r),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(vn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,te.p=h}}(ls&3)!==0&&yc(),Oi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?vo++:(vo=0,sd=t):vo=0,bo(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Wl(n)))}function yc(){return Ky(),Yy(),$y(),Jy()}function Jy(){if(zt!==5)return!1;var t=Xs,n=nd;nd=0;var r=Gi(ls),l=G.T,h=te.p;try{te.p=32>r?32:r,G.T=null,r=id,id=null;var f=Xs,p=ls;if(zt=0,Xr=Xs=null,ls=0,(Ye&6)!==0)throw Error(a(331));var E=Ye;if(Ye|=4,Oy(f.current),Cy(f,f.current,p,r),Ye=E,bo(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(vn,f)}catch{}return!0}finally{te.p=h,G.T=l,Xy(t,n)}}function Zy(t,n,r){n=Un(r,n),n=jf(t.stateNode,n,2),t=Hs(t,n,2),t!==null&&(Ra(t,2),Oi(t))}function Ze(t,n,r){if(t.tag===3)Zy(t,t,r);else for(;n!==null;){if(n.tag===3){Zy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){t=Un(r,t),r=Wp(2),l=Hs(n,r,2),l!==null&&(ey(r,l,n,t),Ra(l,2),Oi(l));break}}n=n.return}}function ld(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new QE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=JE.bind(null,t,n,r),n.then(t,t))}function JE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,at===t&&(Ue&r)===r&&(vt===4||vt===3&&(Ue&62914560)===Ue&&300>xt()-hc?(Ye&2)===0&&Jr(t,0):ed|=r,$r===Ue&&($r=0)),Oi(t)}function Wy(t,n){n===0&&(n=Rs()),t=Ba(t,n),t!==null&&(Ra(t,n),Oi(t))}function ZE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function WE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Wy(t,r)}function eT(t,n){return st(t,n)}var _c=null,Wr=null,od=!1,vc=!1,ud=!1,Zs=0;function Oi(t){t!==Wr&&t.next===null&&(Wr===null?_c=Wr=t:Wr=Wr.next=t),vc=!0,od||(od=!0,nT())}function bo(t,n){if(!ud&&vc){ud=!0;do for(var r=!1,l=_c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,i0(l,f))}else f=Ue,f=je(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ne(l,f)||(r=!0,i0(l,f));l=l.next}while(r);ud=!1}}function tT(){e0()}function e0(){vc=od=!1;var t=0;Zs!==0&&fT()&&(t=Zs);for(var n=xt(),r=null,l=_c;l!==null;){var h=l.next,f=t0(l,n);f===0?(l.next=null,r===null?_c=h:r.next=h,h===null&&(Wr=r)):(r=l,(t!==0||(f&3)!==0)&&(vc=!0)),l=h}zt!==0&&zt!==5||bo(t),Zs!==0&&(Zs=0)}function t0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-pt(f),E=1<<p,N=h[p];N===-1?((E&r)===0||(E&l)!==0)&&(h[p]=Lt(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=at,r=Ue,r=je(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ne(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&fi(l),Gi(r)){case 2:case 8:r=qi;break;case 32:r=mi;break;case 268435456:r=xs;break;default:r=mi}return l=n0.bind(null,t),r=st(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&fi(l),t.callbackPriority=2,t.callbackNode=null,2}function n0(t,n){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(yc()&&t.callbackNode!==r)return null;var l=Ue;return l=je(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uy(t,l,n),t0(t,xt()),t.callbackNode!=null&&t.callbackNode===r?n0.bind(null,t):null)}function i0(t,n){if(yc())return null;Uy(t,n,!0)}function nT(){mT(function(){(Ye&6)!==0?st(Ss,tT):e0()})}function cd(){if(Zs===0){var t=Lr;t===0&&(t=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),Zs=t}return Zs}function s0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ar(""+t)}function a0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function iT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=s0((h[Bt]||null).action),p=l.submitter;p&&(n=(n=p[Bt]||null)?s0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new xi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var N=p?a0(h,p):new FormData(h);If(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?a0(h,p):new FormData(h),If(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],sT=fd.toLowerCase(),aT=fd[0].toUpperCase()+fd.slice(1);ii(sT,"on"+aT)}ii(jg,"onAnimationEnd"),ii(Ug,"onAnimationIteration"),ii(Lg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(EE,"onTransitionRun"),ii(TE,"onTransitionStart"),ii(AE,"onTransitionCancel"),ii(zg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function r0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(E=l[p],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=N}}}}function ke(t,n){var r=n[_r];r===void 0&&(r=n[_r]=new Set);var l=t+"__bubble";r.has(l)||(l0(n,t,2,!1),r.add(l))}function dd(t,n,r){var l=0;n&&(l|=4),l0(r,t,l,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[bc]){t[bc]=!0,Ol.forEach(function(r){r!=="selectionchange"&&(rT.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bc]||(n[bc]=!0,dd("selectionchange",!1,n))}}function l0(t,n,r,l){switch(j0(n)){case 2:var h=MT;break;case 8:h=VT;break;default:h=Cd}r=h.bind(null,n,r,t),h=void 0,!ka||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=_i(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}E=E.parentNode}}l=l.return}ks(function(){var z=f,F=kn(r),Y=[];e:{var P=Pg.get(t);if(P!==void 0){var H=xi,re=t;switch(t){case"keypress":if(Va(r)===0)break e;case"keydown":case"keyup":H=Du;break;case"focusin":re="focus",H=Ua;break;case"focusout":re="blur",H=Ua;break;case"beforeblur":case"afterblur":H=Ua;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case jg:case Ug:case Lg:H=Su;break;case zg:H=A;break;case"scroll":case"scrollend":H=Gl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ki;break;case"toggle":case"beforetoggle":H=xe}var me=(n&4)!==0,it=!me&&(t==="scroll"||t==="scrollend"),V=me?P!==null?P+"Capture":null:P;me=[];for(var O=z,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=Wn(O,V),Q!=null&&me.push(To(O,Q,L))),it)break;O=O.return}0<me.length&&(P=new H(P,re,null,r,F),Y.push({event:P,listeners:me}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&r!==Bl&&(re=r.relatedTarget||r.fromElement)&&(_i(re)||re[pi]))break e;if((H||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,H?(re=r.relatedTarget||r.toElement,H=z,re=re?_i(re):null,re!==null&&(it=c(re),me=re.tag,re!==it||me!==5&&me!==27&&me!==6)&&(re=null)):(H=null,re=z),H!==re)){if(me=Fl,Q="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(me=Ki,Q="onPointerLeave",V="onPointerEnter",O="pointer"),it=H==null?P:bn(H),L=re==null?P:bn(re),P=new me(Q,O+"leave",H,r,F),P.target=it,P.relatedTarget=L,Q=null,_i(F)===z&&(me=new me(V,O+"enter",re,r,F),me.target=L,me.relatedTarget=it,Q=me),it=Q,H&&re)t:{for(me=lT,V=H,O=re,L=0,Q=V;Q;Q=me(Q))L++;Q=0;for(var ue=O;ue;ue=me(ue))Q++;for(;0<L-Q;)V=me(V),L--;for(;0<Q-L;)O=me(O),Q--;for(;L--;){if(V===O||O!==null&&V===O.alternate){me=V;break t}V=me(V),O=me(O)}me=null}else me=null;H!==null&&o0(Y,P,H,me,!1),re!==null&&it!==null&&o0(Y,it,re,me,!0)}}e:{if(P=z?bn(z):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Ge=xg;else if(Ag(P))if(wg)Ge=_E;else{Ge=pE;var le=gE}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Tr(z.elementType)&&(Ge=xg):Ge=yE;if(Ge&&(Ge=Ge(t,z))){Sg(Y,Ge,r,F);break e}le&&le(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Ll(P,"number",P.value)}switch(le=z?bn(z):window,t){case"focusin":(Ag(le)||le.contentEditable==="true")&&(Ir=le,Hh=z,Xl=null);break;case"focusout":Xl=Hh=Ir=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Mg(Y,r,F);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":Mg(Y,r,F)}var Ce;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Cr?La(t,r)&&(Le="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Le="onCompositionStart");Le&&(Ni&&r.locale!=="ko"&&(Cr||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Cr&&(Ce=Hl()):(Si=F,ql="value"in Si?Si.value:Si.textContent,Cr=!0)),le=Ec(z,Le),0<le.length&&(Le=new Ri(Le,t,null,r,F),Y.push({event:Le,listeners:le}),Ce?Le.data=Ce:(Ce=Nr(r),Ce!==null&&(Le.data=Ce)))),(Ce=Vn?hE(t,r):fE(t,r))&&(Le=Ec(z,"onBeforeInput"),0<Le.length&&(le=new Ri("onBeforeInput","beforeinput",null,r,F),Y.push({event:le,listeners:Le}),le.data=Ce)),iT(Y,t,z,r,F)}r0(Y,n)})}function To(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ec(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(t,r),h!=null&&l.unshift(To(t,h,f)),h=Wn(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function lT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=Wn(r,f),z!=null&&p.unshift(To(r,z,N))):h||(z=Wn(r,f),z!=null&&p.push(To(r,z,N)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var oT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function u0(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(uT,"")}function c0(t,n){return n=u0(n),u0(t)===n}function nt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,r,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ar(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ar(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ar(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),br(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":br(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eu.get(r)||r,br(t,r,l))}}function pd(t,n,r,l,h,f){switch(r){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Bt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):br(t,r,l)}}}function $t(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,f,p,r,null)}}h&&nt(t,n,"srcSet",r.srcSet,r,null),l&&nt(t,n,"src",r.src,r,null);return;case"input":ke("invalid",t);var E=f=p=h=null,N=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":N=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:nt(t,n,l,F,r,null)}}_u(t,f,E,N,z,p,h,!1);return;case"select":ke("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:nt(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Cs(t,!!l,n,!1):r!=null&&Cs(t,!!l,r,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:nt(t,n,p,E,r,null)}Is(t,l,h,f);return;case"option":for(N in r)r.hasOwnProperty(N)&&(l=r[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,n,N,l,r,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Eo.length;l++)ke(Eo[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,z,l,r,null)}return;default:if(Tr(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&pd(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&nt(t,n,E,l,r,null))}function cT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,N=null,z=null,F=null;for(H in r){var Y=r[H];if(r.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Y;default:l.hasOwnProperty(H)||nt(t,n,H,null,l,Y)}}for(var P in l){var H=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(H!=null||Y!=null))switch(P){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&nt(t,n,P,H,l,Y)}}Er(t,p,E,N,z,F,f,h);return;case"select":H=p=E=P=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(f)||nt(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&nt(t,n,h,f,l,N)}n=E,r=p,l=H,P!=null?Cs(t,!!r,P,!1):!!l!=!!r&&(n!=null?Cs(t,!!r,n,!0):Cs(t,!!r,r?[]:"",!1));return;case"textarea":H=P=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&nt(t,n,p,h,l,f)}vu(t,P,H);return;case"option":for(var re in r)P=r[re],r.hasOwnProperty(re)&&P!=null&&!l.hasOwnProperty(re)&&(re==="selected"?t.selected=!1:nt(t,n,re,null,l,P));for(N in l)P=l[N],H=r[N],l.hasOwnProperty(N)&&P!==H&&(P!=null||H!=null)&&(N==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":nt(t,n,N,P,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in r)P=r[me],r.hasOwnProperty(me)&&P!=null&&!l.hasOwnProperty(me)&&nt(t,n,me,null,l,P);for(z in l)if(P=l[z],H=r[z],l.hasOwnProperty(z)&&P!==H&&(P!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:nt(t,n,z,P,l,H)}return;default:if(Tr(n)){for(var it in r)P=r[it],r.hasOwnProperty(it)&&P!==void 0&&!l.hasOwnProperty(it)&&pd(t,n,it,void 0,l,P);for(F in l)P=l[F],H=r[F],!l.hasOwnProperty(F)||P===H||P===void 0&&H===void 0||pd(t,n,F,P,l,H);return}}for(var V in r)P=r[V],r.hasOwnProperty(V)&&P!=null&&!l.hasOwnProperty(V)&&nt(t,n,V,null,l,P);for(Y in l)P=l[Y],H=r[Y],!l.hasOwnProperty(Y)||P===H||P==null&&H==null||nt(t,n,Y,P,l,H)}function h0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&h0(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],z=N.startTime;if(z>E)break;var F=N.transferSize,Y=N.initiatorType;F&&h0(Y)&&(N=N.responseEnd,p+=F*(N<E?1:(E-z)/(N-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function f0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function fT(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var m0=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(t){return g0.resolve(null).then(t).catch(gT)}:m0;function gT(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function p0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),il(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Ao(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ao(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&Ao(t.ownerDocument.body);r=h}while(r);il(n)}function y0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ed(r),vr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function pT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function yT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function _0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=qn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _T(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function v0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return qn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function b0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function E0(t,n,r){switch(n=Tc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ao(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);vr(t)}var Hn=new Map,T0=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=te.d;te.d={f:vT,r:bT,D:ET,C:TT,L:AT,m:ST,X:wT,S:xT,M:RT};function vT(){var t=os.f(),n=mc();return t||n}function bT(t){var n=On(t);n!==null&&n.tag===5&&n.type==="form"?zp(n):os.r(t)}var el=typeof document>"u"?null:document;function A0(t,n,r){var l=el;if(l&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),T0.has(h)||(T0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$t(n,"link",t),Rt(n),l.head.appendChild(n)))}}function ET(t){os.D(t),A0("dns-prefetch",t,null)}function TT(t,n){os.C(t,n),A0("preconnect",t,n)}function AT(t,n,r){os.L(t,n,r);var l=el;if(l&&t&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+cn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+cn(r.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var f=h;switch(n){case"style":f=tl(t);break;case"script":f=nl(t)}Hn.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Hn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(So(f))||n==="script"&&l.querySelector(xo(f))||(n=l.createElement("link"),$t(n,"link",t),Rt(n),l.head.appendChild(n)))}}function ST(t,n){os.m(t,n);var r=el;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nl(t)}if(!Hn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Hn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xo(f)))return}l=r.createElement("link"),$t(l,"link",t),Rt(l),r.head.appendChild(l)}}}function xT(t,n,r){os.S(t,n,r);var l=el;if(l&&t){var h=vi(l).hoistableStyles,f=tl(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(So(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Hn.get(f))&&xd(t,r);var N=p=l.createElement("link");Rt(N),$t(N,"link",t),N._p=new Promise(function(z,F){N.onload=z,N.onerror=F}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function wT(t,n){os.X(t,n);var r=el;if(r&&t){var l=vi(r).hoistableScripts,h=nl(t),f=l.get(h);f||(f=r.querySelector(xo(h)),f||(t=S({src:t,async:!0},n),(n=Hn.get(h))&&wd(t,n),f=r.createElement("script"),Rt(f),$t(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function RT(t,n){os.M(t,n);var r=el;if(r&&t){var l=vi(r).hoistableScripts,h=nl(t),f=l.get(h);f||(f=r.querySelector(xo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Hn.get(h))&&wd(t,n),f=r.createElement("script"),Rt(f),$t(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function S0(t,n,r,l){var h=(h=ve.current)?Ac(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=tl(r.href),r=vi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=tl(r.href);var f=vi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(So(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(t,r),f||NT(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nl(r),r=vi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function tl(t){return'href="'+cn(t)+'"'}function So(t){return'link[rel="stylesheet"]['+t+"]"}function x0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function NT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$t(n,"link",r),Rt(n),t.head.appendChild(n))}function nl(t){return'[src="'+cn(t)+'"]'}function xo(t){return"script[async]"+t}function w0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+cn(r.href)+'"]');if(l)return n.instance=l,Rt(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),$t(l,"style",h),Sc(l,r.precedence,t),n.instance=l;case"stylesheet":h=tl(r.href);var f=t.querySelector(So(h));if(f)return n.state.loading|=4,n.instance=f,Rt(f),f;l=x0(r),(h=Hn.get(h))&&xd(l,h),f=(t.ownerDocument||t).createElement("link"),Rt(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),$t(f,"link",l),n.state.loading|=4,Sc(f,r.precedence,t),n.instance=f;case"script":return f=nl(r.src),(h=t.querySelector(xo(f)))?(n.instance=h,Rt(h),h):(l=r,(h=Hn.get(f))&&(l=S({},r),wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Rt(h),$t(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Sc(l,r.precedence,t));return n.instance}function Sc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xc=null;function R0(t,n,r){if(xc===null){var l=new Map,h=xc=new Map;h.set(r,l)}else h=xc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[yi]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function N0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function CT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=tl(l.href),f=n.querySelector(So(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Rt(f);return}f=n.ownerDocument||n,l=x0(l),(h=Hn.get(h))&&xd(l,h),f=f.createElement("link"),Rt(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),$t(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=wc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Rd=0;function DT(t,n){return t.stylesheets&&t.count===0&&Nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rd===0&&(Rd=62500*hT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Nc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(OT,t),Rc=null,wc.call(t))}function OT(t,n){if(!(n.state.loading&4)){var r=Rc.get(t);if(r)var l=r.get(null);else{r=new Map,Rc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:fe,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function kT(t,n,r,l,h,f,p,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function I0(t,n,r,l,h,f,p,E,N,z,F,Y){return t=new kT(t,n,r,p,N,z,F,Y,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),t.current=f,f.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},cf(f),t}function D0(t){return t?(t=kr,t):kr}function O0(t,n,r,l,h,f){h=D0(h),l.context===null?l.context=h:l.pendingContext=h,l=qs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Hs(t,l,n),r!==null&&(pn(r,t,n),io(r,t,n))}function k0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Nd(t,n){k0(t,n),(t=t.alternate)&&k0(t,n)}function M0(t){if(t.tag===13||t.tag===31){var n=Ba(t,67108864);n!==null&&pn(n,t,67108864),Nd(t,67108864)}}function V0(t){if(t.tag===13||t.tag===31){var n=Nn();n=Ca(n);var r=Ba(t,n);r!==null&&pn(r,t,n),Nd(t,n)}}var Cc=!0;function MT(t,n,r,l){var h=G.T;G.T=null;var f=te.p;try{te.p=2,Cd(t,n,r,l)}finally{te.p=f,G.T=h}}function VT(t,n,r,l){var h=G.T;G.T=null;var f=te.p;try{te.p=8,Cd(t,n,r,l)}finally{te.p=f,G.T=h}}function Cd(t,n,r,l){if(Cc){var h=Id(l);if(h===null)gd(t,n,l,Ic,r),U0(t,l);else if(UT(h,t,n,r,l))l.stopPropagation();else if(U0(t,l),n&4&&-1<jT.indexOf(t)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ve(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-pt(p);E.entanglements[1]|=N,p&=~N}Oi(f),(Ye&6)===0&&(fc=xt()+500,bo(0))}}break;case 31:case 13:E=Ba(f,2),E!==null&&pn(E,f,2),mc(),Nd(f,2)}if(f=Id(l),f===null&&gd(t,n,l,Ic,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else gd(t,n,l,null,r)}}function Id(t){return t=kn(t),Dd(t)}var Ic=null;function Dd(t){if(Ic=null,t=_i(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ic=t,null}function j0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(di()){case Ss:return 2;case qi:return 8;case mi:case mr:return 32;case xs:return 268435456;default:return 32}default:return 32}}var Od=!1,ea=null,ta=null,na=null,Ro=new Map,No=new Map,ia=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U0(t,n){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(n.pointerId)}}function Co(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&M0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function UT(t,n,r,l,h){switch(n){case"focusin":return ea=Co(ea,t,n,r,l,h),!0;case"dragenter":return ta=Co(ta,t,n,r,l,h),!0;case"mouseover":return na=Co(na,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,Co(Ro.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,No.set(f,Co(No.get(f)||null,t,n,r,l,h)),!0}return!1}function L0(t){var n=_i(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Xn(t.priority,function(){V0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,Xn(t.priority,function(){V0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Bl=l,r.target.dispatchEvent(l),Bl=null}else return n=On(r),n!==null&&M0(n),t.blockedOn=r,!1;n.shift()}return!0}function z0(t,n,r){Dc(t)&&r.delete(n)}function LT(){Od=!1,ea!==null&&Dc(ea)&&(ea=null),ta!==null&&Dc(ta)&&(ta=null),na!==null&&Dc(na)&&(na=null),Ro.forEach(z0),No.forEach(z0)}function Oc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,LT)))}var kc=null;function P0(t){kc!==t&&(kc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Dd(l||r)===null)continue;break}var f=On(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function il(t){function n(N){return Oc(N,t)}ea!==null&&Oc(ea,t),ta!==null&&Oc(ta,t),na!==null&&Oc(na,t),Ro.forEach(n),No.forEach(n);for(var r=0;r<ia.length;r++){var l=ia[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ia.length&&(r=ia[0],r.blockedOn===null);)L0(r),r.blockedOn===null&&ia.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Bt]||null;if(typeof f=="function")p||P0(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Bt]||null)E=p.formAction;else if(Dd(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),P0(r)}}}function B0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}Mc.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Nn();O0(r,l,t,n,null,null)},Mc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;O0(t.current,2,null,t,null,null),mc(),n[pi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=mu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ia.length&&n!==0&&n<ia[r].priority;r++);ia.splice(r,0,t),r===0&&L0(t)}};var q0=e.version;if(q0!=="19.2.4")throw Error(a(527,q0,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var zT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{vn=Vc.inject(zT),Ut=Vc}catch{}}return Do.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=$p,f=Xp,p=Jp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=I0(t,1,!1,null,null,r,l,null,h,f,p,B0),t[pi]=n.current,md(t),new kd(n)},Do.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=$p,p=Xp,E=Jp,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=I0(t,1,!0,n,r??null,l,h,N,f,p,E,B0),n.context=D0(null),r=n.current,l=Nn(),l=Ca(l),h=qs(l),h.callback=null,Hs(r,h,l),r=l,n.current.lanes=r,Ra(n,r),Oi(n),t[pi]=n.current,md(t),new Mc(n)},Do.version="19.2.4",Do}var Z0;function $T(){if(Z0)return jd.exports;Z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=YT(),jd.exports}var XT=$T();const JT=()=>{};var W0={};const Dv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ZT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let w=(g&15)<<2|y>>6,B=y&63;_||(B=64,d||(w=64)),a.push(i[T],i[S],i[w],i[B])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Dv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ZT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new WT;const w=c<<2|g>>4;if(a.push(w),y!==64){const B=g<<4&240|y>>2;if(a.push(B),S!==64){const X=y<<6&192|S;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e2=function(s){const e=Dv(s);return Ov.encodeByteArray(e,!0)},eh=function(s){return e2(s).replace(/\./g,"")},kv=function(s){try{return Ov.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function t2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const n2=()=>t2().__FIREBASE_DEFAULTS__,i2=()=>{if(typeof process>"u"||typeof W0>"u")return;const s=W0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},s2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&kv(s[1]);return e&&JSON.parse(e)},_h=()=>{try{return JT()||n2()||i2()||s2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Mv=s=>_h()?.emulatorHosts?.[s],a2=s=>{const e=Mv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Vv=()=>_h()?.config,jv=s=>_h()?.[`_${s}`];class r2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function El(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function l2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const Lo={};function o2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?s.emulator.push(e):s.prod.push(e);return s}function u2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let e_=!1;function Lv(s,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Lo[s]===e||Lo[s]||e_)return;Lo[s]=e;function i(w){return`__firebase__banner__${w}`}const a="__firebase__banner",c=o2().prod.length>0;function d(){const w=document.getElementById(a);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function _(w,B){w.setAttribute("width","24"),w.setAttribute("id",B),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{e_=!0,d()},w}function T(w,B){w.setAttribute("id",B),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=u2(a),B=i("text"),X=document.getElementById(B)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),he=i("preprendIcon"),ge=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const fe=w.element;g(fe),T(J,W);const Re=y();_(ge,he),fe.append(ge,X,J,Re),document.body.appendChild(fe)}c?(X.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function h2(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function m2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g2(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function p2(){return!h2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y2(){try{return typeof indexedDB=="object"}catch{return!1}}function _2(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const v2="FirebaseError";class bs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=v2,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?b2(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new bs(o,g,a)}}function b2(s,e){return s.replace(E2,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const E2=/\{\$([^}]+)}/g;function T2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(t_(c)&&t_(d)){if(!sr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function t_(s){return s!==null&&typeof s=="object"}function nu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function A2(s,e){const i=new S2(s,e);return i.subscribe.bind(i)}class S2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");x2(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function Zt(s){return s&&s._delegate?s._delegate:s}class ar{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const er="[DEFAULT]";class w2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new r2;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N2(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=er){return this.instances.has(e)}getOptions(e=er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:R2(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=er){return this.component?this.component.multipleInstances?e:er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R2(s){return s===er?void 0:s}function N2(s){return s.instantiationMode==="EAGER"}class C2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new w2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const I2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},D2=ze.INFO,O2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},k2=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=O2[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=D2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const M2=(s,e)=>e.some(i=>s instanceof i);let n_,i_;function V2(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,Wd=new WeakMap,Pv=new WeakMap,Bd=new WeakMap,Im=new WeakMap;function U2(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ha(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&zv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function L2(s){if(Wd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,e)}let em={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Pv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ha(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function z2(s){em=s(em)}function P2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(qd(this),e,...i);return Pv.set(a,e.sort?e.sort():[e]),ha(a)}:j2().includes(s)?function(...e){return s.apply(qd(this),e),ha(zv.get(this))}:function(...e){return ha(s.apply(qd(this),e))}}function B2(s){return typeof s=="function"?P2(s):(s instanceof IDBTransaction&&L2(s),M2(s,V2())?new Proxy(s,em):s)}function ha(s){if(s instanceof IDBRequest)return U2(s);if(Bd.has(s))return Bd.get(s);const e=B2(s);return e!==s&&(Bd.set(s,e),Im.set(e,s)),e}const qd=s=>Im.get(s);function q2(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=ha(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ha(d.result),_.oldVersion,_.newVersion,ha(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const H2=["get","getKey","getAll","getAllKeys","count"],G2=["put","add","delete","clear"],Hd=new Map;function s_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=G2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||H2.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Hd.set(e,c),c}z2(s=>({...s,get:(e,i,a)=>s_(e,i)||s.get(e,i,a),has:(e,i)=>!!s_(e,i)||s.has(e,i)}));class F2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Q2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Q2(s){return s.getComponent()?.type==="VERSION"}const tm="@firebase/app",a_="0.14.8";const ms=new Cm("@firebase/app"),K2="@firebase/app-compat",Y2="@firebase/analytics-compat",$2="@firebase/analytics",X2="@firebase/app-check-compat",J2="@firebase/app-check",Z2="@firebase/auth",W2="@firebase/auth-compat",eA="@firebase/database",tA="@firebase/data-connect",nA="@firebase/database-compat",iA="@firebase/functions",sA="@firebase/functions-compat",aA="@firebase/installations",rA="@firebase/installations-compat",lA="@firebase/messaging",oA="@firebase/messaging-compat",uA="@firebase/performance",cA="@firebase/performance-compat",hA="@firebase/remote-config",fA="@firebase/remote-config-compat",dA="@firebase/storage",mA="@firebase/storage-compat",gA="@firebase/firestore",pA="@firebase/ai",yA="@firebase/firestore-compat",_A="firebase",vA="12.9.0";const nm="[DEFAULT]",bA={[tm]:"fire-core",[K2]:"fire-core-compat",[$2]:"fire-analytics",[Y2]:"fire-analytics-compat",[J2]:"fire-app-check",[X2]:"fire-app-check-compat",[Z2]:"fire-auth",[W2]:"fire-auth-compat",[eA]:"fire-rtdb",[tA]:"fire-data-connect",[nA]:"fire-rtdb-compat",[iA]:"fire-fn",[sA]:"fire-fn-compat",[aA]:"fire-iid",[rA]:"fire-iid-compat",[lA]:"fire-fcm",[oA]:"fire-fcm-compat",[uA]:"fire-perf",[cA]:"fire-perf-compat",[hA]:"fire-rc",[fA]:"fire-rc-compat",[dA]:"fire-gcs",[mA]:"fire-gcs-compat",[gA]:"fire-fst",[yA]:"fire-fst-compat",[pA]:"fire-vertex","fire-js":"fire-js",[_A]:"fire-js-all"};const th=new Map,EA=new Map,im=new Map;function r_(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ml(s){const e=s.name;if(im.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,s);for(const i of th.values())r_(i,s);for(const i of EA.values())r_(i,s);return!0}function Dm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Qn(s){return s==null?!1:s.settings!==void 0}const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new tu("app","Firebase",TA);class AA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}const Tl=vA;function Bv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw fa.create("bad-app-name",{appName:String(o)});if(i||(i=Vv()),!i)throw fa.create("no-options");const c=th.get(o);if(c){if(sr(i,c.options)&&sr(a,c.config))return c;throw fa.create("duplicate-app",{appName:o})}const d=new C2(o);for(const _ of im.values())d.addComponent(_);const g=new AA(i,a,d);return th.set(o,g),g}function qv(s=nm){const e=th.get(s);if(!e&&s===nm&&Vv())return Bv();if(!e)throw fa.create("no-app",{appName:s});return e}function da(s,e,i){let a=bA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ml(new ar(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const SA="firebase-heartbeat-database",xA=1,Go="firebase-heartbeat-store";let Gd=null;function Hv(){return Gd||(Gd=q2(SA,xA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Go)}catch(i){console.warn(i)}}}}).catch(s=>{throw fa.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function wA(s){try{const i=(await Hv()).transaction(Go),a=await i.objectStore(Go).get(Gv(s));return await i.done,a}catch(e){if(e instanceof bs)ms.warn(e.message);else{const i=fa.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function l_(s,e){try{const a=(await Hv()).transaction(Go,"readwrite");await a.objectStore(Go).put(e,Gv(s)),await a.done}catch(i){if(i instanceof bs)ms.warn(i.message);else{const a=fa.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function Gv(s){return`${s.name}!${s.options.appId}`}const RA=1024,NA=30;class CA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>NA){const o=OA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o_(),{heartbeatsToSend:i,unsentEntries:a}=IA(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function o_(){return new Date().toISOString().substring(0,10)}function IA(s,e=RA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),u_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),u_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class DA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y2()?_2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function u_(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function OA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function kA(s){ml(new ar("platform-logger",e=>new F2(e),"PRIVATE")),ml(new ar("heartbeat",e=>new CA(e),"PRIVATE")),da(tm,a_,s),da(tm,a_,"esm2020"),da("fire-js","")}kA("");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ma,Fv;(function(){var s;function e(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,D,j){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return x.prototype[D].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,I){I||(I=0);const M=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)M[D]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],D=C.g[2];let j=C.g[3],R;R=x+(j^I&(D^j))+M[0]+3614090360&4294967295,x=I+(R<<7&4294967295|R>>>25),R=j+(D^x&(I^D))+M[1]+3905402710&4294967295,j=x+(R<<12&4294967295|R>>>20),R=D+(I^j&(x^I))+M[2]+606105819&4294967295,D=j+(R<<17&4294967295|R>>>15),R=I+(x^D&(j^x))+M[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=x+(j^I&(D^j))+M[4]+4118548399&4294967295,x=I+(R<<7&4294967295|R>>>25),R=j+(D^x&(I^D))+M[5]+1200080426&4294967295,j=x+(R<<12&4294967295|R>>>20),R=D+(I^j&(x^I))+M[6]+2821735955&4294967295,D=j+(R<<17&4294967295|R>>>15),R=I+(x^D&(j^x))+M[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=x+(j^I&(D^j))+M[8]+1770035416&4294967295,x=I+(R<<7&4294967295|R>>>25),R=j+(D^x&(I^D))+M[9]+2336552879&4294967295,j=x+(R<<12&4294967295|R>>>20),R=D+(I^j&(x^I))+M[10]+4294925233&4294967295,D=j+(R<<17&4294967295|R>>>15),R=I+(x^D&(j^x))+M[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=x+(j^I&(D^j))+M[12]+1804603682&4294967295,x=I+(R<<7&4294967295|R>>>25),R=j+(D^x&(I^D))+M[13]+4254626195&4294967295,j=x+(R<<12&4294967295|R>>>20),R=D+(I^j&(x^I))+M[14]+2792965006&4294967295,D=j+(R<<17&4294967295|R>>>15),R=I+(x^D&(j^x))+M[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=x+(D^j&(I^D))+M[1]+4129170786&4294967295,x=I+(R<<5&4294967295|R>>>27),R=j+(I^D&(x^I))+M[6]+3225465664&4294967295,j=x+(R<<9&4294967295|R>>>23),R=D+(x^I&(j^x))+M[11]+643717713&4294967295,D=j+(R<<14&4294967295|R>>>18),R=I+(j^x&(D^j))+M[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=x+(D^j&(I^D))+M[5]+3593408605&4294967295,x=I+(R<<5&4294967295|R>>>27),R=j+(I^D&(x^I))+M[10]+38016083&4294967295,j=x+(R<<9&4294967295|R>>>23),R=D+(x^I&(j^x))+M[15]+3634488961&4294967295,D=j+(R<<14&4294967295|R>>>18),R=I+(j^x&(D^j))+M[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=x+(D^j&(I^D))+M[9]+568446438&4294967295,x=I+(R<<5&4294967295|R>>>27),R=j+(I^D&(x^I))+M[14]+3275163606&4294967295,j=x+(R<<9&4294967295|R>>>23),R=D+(x^I&(j^x))+M[3]+4107603335&4294967295,D=j+(R<<14&4294967295|R>>>18),R=I+(j^x&(D^j))+M[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=x+(D^j&(I^D))+M[13]+2850285829&4294967295,x=I+(R<<5&4294967295|R>>>27),R=j+(I^D&(x^I))+M[2]+4243563512&4294967295,j=x+(R<<9&4294967295|R>>>23),R=D+(x^I&(j^x))+M[7]+1735328473&4294967295,D=j+(R<<14&4294967295|R>>>18),R=I+(j^x&(D^j))+M[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=x+(I^D^j)+M[5]+4294588738&4294967295,x=I+(R<<4&4294967295|R>>>28),R=j+(x^I^D)+M[8]+2272392833&4294967295,j=x+(R<<11&4294967295|R>>>21),R=D+(j^x^I)+M[11]+1839030562&4294967295,D=j+(R<<16&4294967295|R>>>16),R=I+(D^j^x)+M[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=x+(I^D^j)+M[1]+2763975236&4294967295,x=I+(R<<4&4294967295|R>>>28),R=j+(x^I^D)+M[4]+1272893353&4294967295,j=x+(R<<11&4294967295|R>>>21),R=D+(j^x^I)+M[7]+4139469664&4294967295,D=j+(R<<16&4294967295|R>>>16),R=I+(D^j^x)+M[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=x+(I^D^j)+M[13]+681279174&4294967295,x=I+(R<<4&4294967295|R>>>28),R=j+(x^I^D)+M[0]+3936430074&4294967295,j=x+(R<<11&4294967295|R>>>21),R=D+(j^x^I)+M[3]+3572445317&4294967295,D=j+(R<<16&4294967295|R>>>16),R=I+(D^j^x)+M[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=x+(I^D^j)+M[9]+3654602809&4294967295,x=I+(R<<4&4294967295|R>>>28),R=j+(x^I^D)+M[12]+3873151461&4294967295,j=x+(R<<11&4294967295|R>>>21),R=D+(j^x^I)+M[15]+530742520&4294967295,D=j+(R<<16&4294967295|R>>>16),R=I+(D^j^x)+M[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=x+(D^(I|~j))+M[0]+4096336452&4294967295,x=I+(R<<6&4294967295|R>>>26),R=j+(I^(x|~D))+M[7]+1126891415&4294967295,j=x+(R<<10&4294967295|R>>>22),R=D+(x^(j|~I))+M[14]+2878612391&4294967295,D=j+(R<<15&4294967295|R>>>17),R=I+(j^(D|~x))+M[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=x+(D^(I|~j))+M[12]+1700485571&4294967295,x=I+(R<<6&4294967295|R>>>26),R=j+(I^(x|~D))+M[3]+2399980690&4294967295,j=x+(R<<10&4294967295|R>>>22),R=D+(x^(j|~I))+M[10]+4293915773&4294967295,D=j+(R<<15&4294967295|R>>>17),R=I+(j^(D|~x))+M[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=x+(D^(I|~j))+M[8]+1873313359&4294967295,x=I+(R<<6&4294967295|R>>>26),R=j+(I^(x|~D))+M[15]+4264355552&4294967295,j=x+(R<<10&4294967295|R>>>22),R=D+(x^(j|~I))+M[6]+2734768916&4294967295,D=j+(R<<15&4294967295|R>>>17),R=I+(j^(D|~x))+M[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=x+(D^(I|~j))+M[4]+4149444226&4294967295,x=I+(R<<6&4294967295|R>>>26),R=j+(I^(x|~D))+M[11]+3174756917&4294967295,j=x+(R<<10&4294967295|R>>>22),R=D+(x^(j|~I))+M[2]+718787259&4294967295,D=j+(R<<15&4294967295|R>>>17),R=I+(j^(D|~x))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}a.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<x;){if(D==0)for(;j<=I;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<x;)if(M[D++]=C.charCodeAt(j++),D==this.blockSize){o(this,M),D=0;break}}else for(;j<x;)if(M[D++]=C[j++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=x},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[x++]=this.g[I]>>>M&255;return C};function c(C,x){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function d(C,x){this.h=x;const I=[];let M=!0;for(let D=C.length-1;D>=0;D--){const j=C[D]|0;M&&j==x||(I[D]=j,M=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(x){return new d([x|0],x<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(y(-C));const x=[];let I=1;for(let M=0;C>=I;M++)x[M]=C/I|0,I*=4294967296;return new d(x,0)}function T(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return J(T(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(x,8));let M=S;for(let j=0;j<C.length;j+=8){var D=Math.min(8,C.length-j);const R=parseInt(C.substring(j,j+D),x);D<8?(D=y(Math.pow(x,D)),M=M.j(D).add(y(R))):(M=M.j(I),M=M.add(y(R)))}return M}var S=_(0),w=_(1),B=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*x,x*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(W(this))return"-"+J(this).toString(C);const x=y(Math.pow(C,6));var I=this;let M="";for(;;){const D=Re(I,x).g;I=he(I,D.j(x));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,X(I))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function W(C){return C.h==-1}s.l=function(C){return C=he(this,C),W(C)?-1:X(C)?0:1};function J(C){const x=C.g.length,I=[];for(let M=0;M<x;M++)I[M]=~C.g[M];return new d(I,~C.h).add(w)}s.abs=function(){return W(this)?J(this):this},s.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let D=0;D<=x;D++){let j=M+(this.i(D)&65535)+(C.i(D)&65535),R=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=R>>>16,j&=65535,R&=65535,I[D]=R<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function he(C,x){return C.add(J(x))}s.j=function(C){if(X(this)||X(C))return S;if(W(this))return W(C)?J(this).j(J(C)):J(J(this).j(C));if(W(C))return J(this.j(J(C)));if(this.l(B)<0&&C.l(B)<0)return y(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var M=0;M<2*x;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const j=this.i(M)>>>16,R=this.i(M)&65535,rt=C.i(D)>>>16,bt=C.i(D)&65535;I[2*M+2*D]+=R*bt,ge(I,2*M+2*D),I[2*M+2*D+1]+=j*bt,ge(I,2*M+2*D+1),I[2*M+2*D+1]+=R*rt,ge(I,2*M+2*D+1),I[2*M+2*D+2]+=j*rt,ge(I,2*M+2*D+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new d(I,0)};function ge(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function fe(C,x){this.g=C,this.h=x}function Re(C,x){if(X(x))throw Error("division by zero");if(X(C))return new fe(S,S);if(W(C))return x=Re(J(C),x),new fe(J(x.g),J(x.h));if(W(x))return x=Re(C,J(x)),new fe(J(x.g),x.h);if(C.g.length>30){if(W(C)||W(x))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=x;M.l(C)<=0;)I=ot(I),M=ot(M);var D=Ae(I,1),j=Ae(M,1);for(M=Ae(M,2),I=Ae(I,2);!X(M);){var R=j.add(M);R.l(C)<=0&&(D=D.add(I),j=R),M=Ae(M,1),I=Ae(I,1)}return x=he(C,D.j(x)),new fe(D,x)}for(D=S;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=y(I),R=j.j(x);W(R)||R.l(C)>0;)I-=M,j=y(I),R=j.j(x);X(j)&&(j=w),D=D.add(j),C=he(C,R)}return new fe(D,C)}s.B=function(C){return Re(this,C).h},s.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<x;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function ot(C){const x=C.g.length+1,I=[];for(let M=0;M<x;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Ae(C,x){const I=x>>5;x%=32;const M=C.g.length-I,D=[];for(let j=0;j<M;j++)D[j]=x>0?C.i(j+I)>>>x|C.i(j+I+1)<<32-x:C.i(j+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Fv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,ma=d}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qv,Mo,Kv,Gc,sm,Yv,$v,Xv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break e;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,U,q){for(var ee=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ee[xe-2]=arguments[xe];return m.prototype[U].apply(A,ee)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function X(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let ee=0;ee<q;ee++)u[v+ee]=U[ee]}else u.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function he(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,v){const A=fe.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var fe=new W(()=>new Re,u=>u.reset());class Re{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,Ae=!1,C=new ge,x=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(I)}};function I(){for(var u;u=he();){try{u.h.call(u.g)}catch(v){J(v)}var m=fe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(rt,D),rt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function k(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,A,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=ve(u,m,A,U);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,q,!!A,U),m.fa=v,u.push(m)),m};function pe(u,m){const v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(A,U,1),q&&(oe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ve(u,m,v,A){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return U}return-1}var De="closure_lm_"+(Math.random()*1e6|0),gt={};function We(u,m,v,A,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)We(u,m[q],v,A,U);return null}return v=As(v),u&&u[bt]?u.J(m,v,g(A)?!!A.capture:!1,U):hi(u,m,v,!1,A,U)}function hi(u,m,v,A,U,q){if(!m)throw Error("Invalid event type");const ee=g(U)?!!U.capture:!!U;let xe=In(u);if(xe||(u[De]=xe=new se(u)),v=xe.add(m,v,A,ee,q),v.proxy)return v;if(A=Bi(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)j||(U=ee),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(en(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bi(){function u(v){return m.call(u.src,u.listener,v)}const m=Es;return u}function Yn(u,m,v,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Yn(u,m[q],v,A,U);else A=g(A)?!!A.capture:!!A,v=As(v),u&&u[bt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ve(m,v,A,U),v>-1&&(oe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=In(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ve(m,v,A,U)),(v=u>-1?m[u]:null)&&$n(v))}function $n(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])pe(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(en(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=In(m))?(pe(v,u),v.h==0&&(v.src=null,m[De]=null)):oe(u)}}}function en(u){return u in gt?gt[u]:gt[u]="on"+u}function Es(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&$n(u),u=v.call(A,m)}return u}function In(u){return u=u[De],u instanceof se?u:null}var Ts="__closure_events_fn_"+(Math.random()*1e9>>>0);function As(u){return typeof u=="function"?u:(u[Ts]||(u[Ts]=function(m){return u.handleEvent(m)}),u[Ts])}function ft(){M.call(this),this.i=new se(this),this.M=this,this.G=null}S(ft,M),ft.prototype[bt]=!0,ft.prototype.removeEventListener=function(u,m,v,A){Yn(this,u,m,v,A)};function st(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(A,u),ne(m,U)}U=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],U=fi(q,A,!0,m)&&U;if(q=m.g=u,U=fi(q,A,!0,m)&&U,U=fi(q,A,!1,m)&&U,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],U=fi(q,A,!1,m)&&U}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)oe(v[A]);delete u.g[m],u.h--}}this.G=null},ft.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ft.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function fi(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const xe=ee.listener,Et=ee.ha||ee.src;ee.fa&&pe(u.i,ee),U=xe.call(Et,A)!==!1&&U}}return U&&!A.defaultPrevented}function Cl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function dr(u){u.g=Cl(()=>{u.g=null,u.i&&(u.i=!1,dr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class xt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:dr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(u){M.call(this),this.h=u,this.g={}}S(di,M);var Ss=[];function qi(u){Ie(u.g,function(m,v){this.g.hasOwnProperty(v)&&$n(m)},u),u.g={}}di.prototype.N=function(){di.Z.N.call(this),qi(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=d.JSON.stringify,mr=d.JSON.parse,xs=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function wa(){}function gr(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){D.call(this,"d")}S(Ut,D);function ln(){D.call(this,"c")}S(ln,D);var pt={},pr=null;function ws(){return pr=pr||new ft}pt.Ia="serverreachability";function yr(u){D.call(this,pt.Ia,u)}S(yr,D);function Dn(u){const m=ws();st(m,new yr(m))}pt.STAT_EVENT="statevent";function Hi(u,m){D.call(this,pt.STAT_EVENT,u),this.stat=m}S(Hi,D);function de(u){const m=ws();st(m,new Hi(m,u))}pt.Ja="timingevent";function Ve(u,m){D.call(this,pt.Ja,u),this.size=m}S(Ve,D);function je(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ne(){this.g=!0}Ne.prototype.ua=function(){this.g=!1};function Lt(u,m,v,A,U,q){u.info(function(){if(u.g)if(q){var ee="",xe=q.split("&");for(let Ke=0;Ke<xe.length;Ke++){var Et=xe[Ke].split("=");if(Et.length>1){const dt=Et[0];Et=Et[1];const Vn=dt.split("_");ee=Vn.length>=2&&Vn[1]=="type"?ee+(dt+"="+Et+"&"):ee+(dt+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+ee})}function Rs(u,m,v,A,U,q,ee){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+ee})}function gi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(A?" "+A:"")})}function Ra(u,m){u.info(function(){return"TIMEOUT: "+m})}Ne.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<A.length;ee++)A[ee]=""}}}}return mi(q)}catch{return m}}var Na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function Ca(){}S(Ca,wa),Ca.prototype.g=function(){return new XMLHttpRequest},Dl=new Ca;function Gi(u){return encodeURIComponent(String(u))}function mu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Xn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new di(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var wt={},Bt={};function pi(u,m,v){u.M=1,u.A=Ia(Nt(m)),u.u=v,u.R=!0,_r(u,null)}function _r(u,m){u.F=Date.now(),yi(u),u.B=Nt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Tr(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Jn,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new xt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ss[0]=U.toString()),U=Ss);for(let q=0;q<U.length;q++){const ee=We(v,U[q],A||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Dn(),Lt(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ei(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ei(this.g),Et=this.g.ya(),Ke=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||xe!=4||Et==7||(Et==8||Ke<=0?Dn(3):Dn(2)),_i(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,Rs(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(u=q)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,de(12),bn(this),On(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<v.length;)if(dt=pu(this,v),dt==Bt){xe==4&&(this.m=4,de(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==wt){this.m=4,de(15),gi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,dt,null),vi(this,dt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,de(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ql(ee),ee.P=!0,de(11))}}else gi(this.i,this.l,v,null),vi(this,v);xe==4&&bn(this),this.o&&!this.K&&(xe==4?xu(this.j,this):(this.o=!1,yi(this)))}else Qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),bn(this),On(this)}}}catch{}};function zh(u){if(!gu(u))return u.g.la();const m=Ft(u.g);if(m==="")return"";let v="";const A=m.length,U=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),On(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Bt:(v=Number(m.substring(v,A)),isNaN(v)?wt:(A+=1,A+v>m.length?Bt:(m=m.slice(A,A+v),u.C=A+v,m)))}Xn.prototype.cancel=function(){this.K=!0,bn(this)};function yi(u){u.T=Date.now()+u.H,vr(u,u.H)}function vr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=je(y(u.aa,u),m)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ra(this.i,this.B),this.M!=2&&(Dn(),de(17)),bn(this),this.m=2,On(this)):vr(this,this.T-u)};function On(u){u.j.I==0||u.K||xu(u.j,u)}function bn(u){_i(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Rr(v),Vs(v);else break e;Ua(v),de(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=je(y(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&Rr(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ke=U[m];const dt=Ke[0];if(!(dt<=v.K))if(v.K=dt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Vn=Ke[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ni=Ke[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ti=Ke[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ni=u.g;if(ni){const La=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var q=A.h;q.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ml(q,q.h),q.h=null))}if(A.G){const Nr=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Nr&&(A.wa=Nr,Xe(A.J,A.G,Nr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ee=u;if(A.na=Nu(A,A.L?A.ba:null,A.W),ee.L){Vl(A.h,ee);var xe=ee,Et=A.O;Et&&(xe.H=Et),xe.D&&(_i(xe),yi(xe)),A.g=ee}else Au(A);v.i.length>0&&wi(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ri(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ri(v,7):Gl(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}Dn(4)}catch{}}var Rt=class{constructor(u,m){this.g=u,this.map=m}};function Ol(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ol.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function br(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let U,q=null;A>=0?(U=u[v].substring(0,A),q=u[v].substring(A+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.u),this.h=u.h,Ul(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(yu))?(this.l=!1,qt(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),Ns(this,m[4]),this.h=Ti(m[5]||"",!0),Ul(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Da(m,Er,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Da(m,Er,!0),"@"),u.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Da(v,v.charAt(0)=="/"?Ll:_u,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Da(v,vu)),u.join("")},En.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Ns(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ee=0;ee<U.length;){const xe=U[ee++];xe=="."?A&&ee==U.length&&q.push(""):xe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ee==U.length&&q.push("")):(q.push(xe),A=!0)}A=q.join("/")}else A=U}return v?m.h=A:v=u.i.toString()!=="",v?Ul(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new En(u)}function qt(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ul(u,m,v){m instanceof Is?(u.i=m,Ar(u.i,u.l)):(v||(m=Da(m,Cs)),u.i=new Is(m,u.l))}function Xe(u,m,v){u.i.set(m,v)}function Ia(u){return Xe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Da(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Er=/[#\/\?@]/g,_u=/[#\?:]/g,Ll=/[#\?]/g,Cs=/[#\?@]/g,vu=/#/g;function Is(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&br(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Is.prototype,s.add=function(u,m){hn(this),this.i=null,u=Ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){hn(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zl(u,m){return hn(u),m=Ds(u,m),u.g.has(m)}s.forEach=function(u,m){hn(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)};function Pl(u,m){hn(u);let v=[];if(typeof m=="string")zl(u,m)&&(v=v.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return hn(this),this.i=null,u=Ds(this,u),zl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function Tr(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(Ds(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Gi(v);v=Pl(this,v);for(let q=0;q<v.length;q++){let ee=U;v[q]!==""&&(ee+="="+Gi(v[q])),u.push(ee)}}return this.i=u.join("&")};function Eu(u){const m=new Is;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ar(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(bu(this,A),Tr(this,U,v))},u)),u.j=m}function Zn(u,m){const v=new Ne;if(d.Image){const A=new Image;A.onload=T(kn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(kn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(kn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(kn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Bl(u,m){const v=new Ne,A=new AbortController,U=setTimeout(()=>{A.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Os(){this.g=new xs}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ai,wa),Ai.prototype.g=function(){return new Oa(this.i,this.h)};function Oa(u,m){ft.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Oa,ft),s=Oa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ks(this):Wn(this),this.readyState==3&&Sr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ks(this))},s.Na=function(u){this.g&&(this.response=u,ks(this))},s.ga=function(){this.g&&ks(this)};function ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Ie(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function ka(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Mn(v),typeof u=="string"?v!=null&&Gi(v):Xe(u,m,v))}function et(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,ft);var Si=/^https?$/i,ql=["POST","PUT"];s=et.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ma(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ql,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ma(this,q)}};function Ma(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Hl(u),Fi(u)}function Hl(u){u.A||(u.A=!0,st(u,"complete"),st(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,st(this,"complete"),st(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Va(this):this.Xa())},s.Xa=function(){Va(this)};function Va(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(st(u,"readystatechange"),ei(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let ee=String(u.D).match(yu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),A=!Si.test(ee?ee.toLowerCase():"")}v=A}if(v)st(u,"complete"),st(u,"success");else{u.o=6;try{var U=ei(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Hl(u)}}finally{Fi(u)}}}}function Fi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||st(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),mr(m)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=mu(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Qe(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new Ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ol(u&&u.concurrentRequestLimit),this.Ba=new Os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){de(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Nu(this,null,this.W),wi(this)};function Gl(u){if(xr(u),u.I==3){var m=u.V++,v=Nt(u.J);if(Xe(v,"SID",u.M),Xe(v,"RID",m),Xe(v,"TYPE","terminate"),ja(u,v),m=new Xn(u,u.j,m),m.M=2,m.A=Ia(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}Ru(u)}function Vs(u){u.g&&(Ql(u),u.g.cancel(),u.g=null)}function xr(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Rr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!kl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||x(),Ae||(ot(),Ae=!0),C.add(m,u),u.D=0}}function wr(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=je(y(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Xn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=k(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,U,m),v=Nt(this.J),Xe(v,"RID",u),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),ja(this,v),q&&(this.R?m="headers="+Gi(Mn(q))+"&"+m:this.u&&ka(v,this.u,q)),Ml(this.h,U),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",m),Xe(v,"SID","null"),U.U=!0,pi(U,v,null)):pi(U,v,m),this.I=2}}else this.I==3&&(u?Fl(this,u):this.i.length==0||kl(this.h)||Fl(this))};function Fl(u,m){var v;m?v=m.l:v=u.V++;const A=Nt(u.J);Xe(A,"SID",u.M),Xe(A,"RID",v),Xe(A,"AID",u.K),ja(u,A),u.u&&u.o&&ka(A,u.u,u.o),v=new Xn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,v),pi(v,A,m)}function ja(u,m){u.H&&Ie(u.H,function(v,A){Xe(m,A,v)}),u.l&&Ie({},function(v,A){Xe(m,A,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let xe=-1;for(;;){const Et=["count="+v];xe==-1?v>0?(xe=U[0].g,Et.push("ofs="+xe)):xe=0:Et.push("ofs="+xe);let Ke=!0;for(let dt=0;dt<v;dt++){var q=U[dt].g;const Vn=U[dt].map;if(q-=xe,q<0)xe=Math.max(0,U[dt].g-100),Ke=!1;else try{q="req"+q+"_"||"";try{var ee=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ni,ti]of ee){let ni=ti;g(ti)&&(ni=mi(ti)),Et.push(q+Ni+"="+encodeURIComponent(ni))}}catch(Ni){throw Et.push(q+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(Vn)}}if(Ke){ee=Et.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||x(),Ae||(ot(),Ae=!0),C.add(m,u),u.A=0}}function Ua(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=je(y(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=je(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),Vs(this),Su(this))};function Ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);Xe(m,"RID","rpc"),Xe(m,"SID",u.M),Xe(m,"AID",u.K),Xe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xe(m,"TO",u.ia),Xe(m,"TYPE","xmlhttp"),ja(u,m),u.u&&u.o&&ka(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ia(Nt(m)),v.u=null,v.R=!0,_r(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),Ua(this),de(19))};function Rr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function xu(u,m){var v=null;if(u.g==m){Rr(u),Ql(u),u.g=null;var A=2}else if(Ei(u.h,m))v=m.G,Vl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=ws(),st(A,new Ve(A,v)),wi(u)}else Au(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&wr(u,m)||A==2&&Ua(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const U=!A;A=new En(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(A,"https"),Ia(A),U?Zn(A.toString(),v):Bl(A.toString(),v)}else de(2);u.I=0,u.l&&u.l.pa(m),Ru(u),xr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=jl(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Nu(u,m,v){var A=v instanceof En?Nt(v):new En(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ns(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new En(null);A&&qt(q,A),m&&(q.g=m),U&&Ns(q,U),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Xe(A,v,m),Xe(A,"VER",u.ka),ja(u,A),A}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new Ai({ab:v})):new et(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}s=Iu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function js(){}js.prototype.g=function(u,m){return new on(u,m)};function on(u,m){ft.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}S(on,ft),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Gl(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=mi(u),u=v);m.i.push(new Rt(m.Ya++,u)),m.I==3&&wi(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,on.Z.N.call(this)};function Du(u){Ut.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Du,Ut);function Ou(){ln.call(this),this.status=1}S(Ou,ln);function Ki(u){this.g=u}S(Ki,Iu),Ki.prototype.ra=function(){st(this.g,"a")},Ki.prototype.qa=function(u){st(this.g,new Du(u))},Ki.prototype.pa=function(u){st(this.g,new Ou)},Ki.prototype.oa=function(){st(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Xv=function(){return new js},$v=function(){return ws()},Yv=pt,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,Gc=Na,Il.COMPLETE="complete",Kv=Il,gr.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Mo=gr,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,Qv=et}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Al="12.9.0";function MA(s){Al=s}const rr=new Cm("@firebase/firestore");function sl(){return rr.logLevel}function ae(s,...e){if(rr.logLevel<=ze.DEBUG){const i=e.map(Om);rr.debug(`Firestore (${Al}): ${s}`,...i)}}function gs(s,...e){if(rr.logLevel<=ze.ERROR){const i=e.map(Om);rr.error(`Firestore (${Al}): ${s}`,...i)}}function lr(s,...e){if(rr.logLevel<=ze.WARN){const i=e.map(Om);rr.warn(`Firestore (${Al}): ${s}`,...i)}}function Om(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ye(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Jv(s,a,i)}function Jv(s,e,i){let a=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function $e(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Jv(e,o,a)}function Te(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends bs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ga{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Zv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class jA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class UA{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ga,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ga)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new Zv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class LA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new LA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new h_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=BA(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(s,e){return s<e?-1:s>e?1:0}function am(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Fd(o)===Fd(c)?Pe(o,c):Fd(o)?1:-1}return Pe(s.length,e.length)}const qA=55296,HA=57343;function Fd(s){const e=s.charCodeAt(0);return e>=qA&&e<=HA}function gl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const f_="__name__";class ki{constructor(e,i,a){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ye(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=ki.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=ki.isNumericId(e),o=ki.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ki.extractNumericId(e).compare(ki.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class lt extends ki{construct(e,i,a){return new lt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const GA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends ki{construct(e,i,a){return new Jt(e,i,a)}static isValidIdentifier(e){return GA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new Jt([f_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(i)}static emptyPath(){return new Jt([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(lt.fromString(e))}static fromName(e){return new ce(lt.fromString(e).popFirst(5))}static empty(){return new ce(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return lt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new lt(e.slice()))}}function Wv(s,e,i){if(!i)throw new ie($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function FA(s,e,i,a){if(e===!0&&a===!0)throw new ie($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function d_(s){if(!ce.isDocumentKey(s))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function m_(s){if(ce.isDocumentKey(s))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function e1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function fs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vh(s);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Vt(s,e){const i={typeString:s};return e&&(i.value=e),i}function iu(s,e){if(!e1(s))throw new ie($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ie($.INVALID_ARGUMENT,i);return!0}const g_=-62135596800,p_=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*p_);return new ht(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<g_)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Vt("string",ht._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ht(0,0))}static max(){return new be(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fo=-1;function QA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new ht(i+1,0):new ht(i,a));return new ya(o,ce.empty(),e)}function KA(s){return new ya(s.readTime,s.key,Fo)}class ya{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ya(be.min(),ce.empty(),Fo)}static max(){return new ya(be.max(),ce.empty(),Fo)}}function YA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ce.comparator(s.documentKey,e.documentKey),i!==0?i:Pe(s.largestBatchId,e.largestBatchId))}const $A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==$A)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((T=>{d[y]=T,++g,g===c&&a(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function JA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xl(s){return s.name==="IndexedDbTransactionError"}class bh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const Mm=-1;function Eh(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function ZA(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const t1="";function WA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=y_(e)),e=eS(s.get(i),e);return y_(e)}function eS(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case t1:i+="";break;default:i+=c}}return i}function y_(s){return s+t1+""}function __(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Aa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function n1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||Xt.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Xt.RED,this.left=o??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Xt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Xt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Pt(this.comparator);return i.data=e,i}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Cn([])}unionWith(e){let i=new Pt(Jt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Cn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new i1("Invalid base64 string: "+c):c}})(e);return new Wt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Wt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const tS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=tS.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:St(s.seconds),nanos:St(s.nanos)}}function St(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function va(s){return typeof s=="string"?Wt.fromBase64String(s):Wt.fromUint8Array(s)}const s1="server_timestamp",a1="__type__",r1="__previous_value__",l1="__local_write_time__";function Vm(s){return(s?.mapValue?.fields||{})[a1]?.stringValue===s1}function Th(s){const e=s.mapValue.fields[r1];return Vm(e)?Th(e):e}function Qo(s){const e=_a(s.mapValue.fields[l1].timestampValue);return new ht(e.seconds,e.nanos)}class nS{constructor(e,i,a,o,c,d,g,_,y,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const ih="(default)";class Ko{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}function iS(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(s.options.projectId,e)}const o1="__type__",sS="__max__",Lc={mapValue:{}},u1="__vector__",sh="value";function ba(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vm(s)?4:rS(s)?9007199254740991:aS(s)?10:11:ye(28295,{value:s})}function Pi(s,e){if(s===e)return!0;const i=ba(s);if(i!==ba(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Qo(s).isEqual(Qo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=_a(o.timestampValue),g=_a(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return va(o.bytesValue).isEqual(va(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return St(o.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return St(o.integerValue)===St(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=St(o.doubleValue),g=St(c.doubleValue);return d===g?nh(d)===nh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return gl(s.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(__(d)!==__(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Pi(d[_],g[_])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function Yo(s,e){return(s.values||[]).find((i=>Pi(i,e)))!==void 0}function pl(s,e){if(s===e)return 0;const i=ba(s),a=ba(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=St(c.integerValue||c.doubleValue),_=St(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return b_(s.timestampValue,e.timestampValue);case 4:return b_(Qo(s),Qo(e));case 5:return am(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=va(c),_=va(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=Pe(g[y],_[y]);if(T!==0)return T}return Pe(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Pe(St(c.latitude),St(d.latitude));return g!==0?g:Pe(St(c.longitude),St(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return E_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[sh]?.arrayValue,T=_[sh]?.arrayValue,S=Pe(y?.values?.length||0,T?.values?.length||0);return S!==0?S:E_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const w=am(_[S],T[S]);if(w!==0)return w;const B=pl(g[_[S]],y[T[S]]);if(B!==0)return B}return Pe(_.length,T.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function b_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const i=_a(s),a=_a(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function E_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=pl(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function yl(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=_a(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return va(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ce.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=rm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${rm(i.fields[d])}`;return o+"}"})(s.mapValue):ye(61005,{value:s})}function Fc(s){switch(ba(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(s);return e?16+Fc(e):16;case 5:return 2*s.stringValue.length;case 6:return va(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Aa(a.fields,((c,d)=>{o+=c.length+Fc(d)})),o})(s.mapValue);default:throw ye(13486,{value:s})}}function T_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function lm(s){return!!s&&"integerValue"in s}function jm(s){return!!s&&"arrayValue"in s}function A_(s){return!!s&&"nullValue"in s}function S_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qc(s){return!!s&&"mapValue"in s}function aS(s){return(s?.mapValue?.fields||{})[o1]?.stringValue===u1}function zo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Aa(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=zo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zo(s.arrayValue.values[i]);return e}return{...s}}function rS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sS}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(i)}setAll(e){let i=Jt.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=zo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Aa(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new _n(zo(this.value))}}function c1(s){const e=[];return Aa(s.fields,((i,a)=>{const o=new Jt([i]);if(Qc(a)){const c=c1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Cn(e)}class an{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new an(e,0,be.min(),be.min(),be.min(),_n.empty(),0)}static newFoundDocument(e,i,a,o){return new an(e,1,i,be.min(),a,o,0)}static newNoDocument(e,i){return new an(e,2,i,be.min(),be.min(),_n.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,be.min(),be.min(),_n.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,i){this.position=e,this.inclusive=i}}function x_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ce.comparator(ce.fromName(d.referenceValue),i.key):a=pl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function w_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Pi(s.position[i],e.position[i]))return!1;return!0}class $o{constructor(e,i="asc"){this.field=e,this.dir=i}}function lS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class h1{}class Mt extends h1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new uS(e,i,a):i==="array-contains"?new fS(e,a):i==="in"?new dS(e,a):i==="not-in"?new mS(e,a):i==="array-contains-any"?new gS(e,a):new Mt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new cS(e,a):new hS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(pl(i,this.value)):i!==null&&ba(this.value)===ba(i)&&this.matchesComparison(pl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends h1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ci(e,i)}matches(e){return f1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f1(s){return s.op==="and"}function d1(s){return oS(s)&&f1(s)}function oS(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function om(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+yl(s.value);if(d1(s))return s.filters.map((e=>om(e))).join(",");{const e=s.filters.map((i=>om(i))).join(",");return`${s.op}(${e})`}}function m1(s,e){return s instanceof Mt?(function(a,o){return o instanceof Mt&&a.op===o.op&&a.field.isEqual(o.field)&&Pi(a.value,o.value)})(s,e):s instanceof ci?(function(a,o){return o instanceof ci&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&m1(d,o.filters[g])),!0):!1})(s,e):void ye(19439)}function g1(s){return s instanceof Mt?(function(i){return`${i.field.canonicalString()} ${i.op} ${yl(i.value)}`})(s):s instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(g1).join(" ,")+"}"})(s):"Filter"}class uS extends Mt{constructor(e,i,a){super(e,i,a),this.key=ce.fromName(a.referenceValue)}matches(e){const i=ce.comparator(e.key,this.key);return this.matchesComparison(i)}}class cS extends Mt{constructor(e,i){super(e,"in",i),this.keys=p1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class hS extends Mt{constructor(e,i){super(e,"not-in",i),this.keys=p1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function p1(s,e){return(e.arrayValue?.values||[]).map((i=>ce.fromName(i.referenceValue)))}class fS extends Mt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jm(i)&&Yo(i.arrayValue,this.value)}}class dS extends Mt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yo(this.value.arrayValue,i)}}class mS extends Mt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yo(this.value.arrayValue,i)}}class gS extends Mt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Yo(this.value.arrayValue,a)))}}class pS{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function R_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new pS(s,e,i,a,o,c,d)}function Um(s){const e=Te(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>om(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Eh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>yl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>yl(a))).join(",")),e.Te=i}return e.Te}function Lm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!lS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!m1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!w_(s.startAt,e.startAt)&&w_(s.endAt,e.endAt)}function um(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wl{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yS(s,e,i,a,o,c,d,g){return new wl(s,e,i,a,o,c,d,g)}function zm(s){return new wl(s)}function N_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _S(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function y1(s){return s.collectionGroup!==null}function Po(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pt(Jt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new $o(c,a))})),i.has(Jt.keyField().canonicalString())||e.Ie.push(new $o(Jt.keyField(),a))}return e.Ie}function Mi(s){const e=Te(s);return e.Ee||(e.Ee=vS(e,Po(s))),e.Ee}function vS(s,e){if(s.limitType==="F")return R_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new $o(o.field,c)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return R_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function cm(s,e){const i=s.filters.concat([e]);return new wl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function bS(s,e){const i=s.explicitOrderBy.concat([e]);return new wl(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function hm(s,e,i){return new wl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ah(s,e){return Lm(Mi(s),Mi(e))&&s.limitType===e.limitType}function _1(s){return`${Um(Mi(s))}|lt:${s.limitType}`}function al(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>g1(o))).join(", ")}]`),Eh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>yl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>yl(o))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function Sh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ce.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Po(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=x_(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Po(a),o)||a.endAt&&!(function(d,g,_){const y=x_(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Po(a),o))})(s,e)}function ES(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function v1(s){return(e,i)=>{let a=!1;for(const o of Po(s)){const c=TS(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function TS(s,e,i){const a=s.field.isKeyField()?ce.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?pl(_,y):ye(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ye(19790,{direction:s.dir})}}class hr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}const AS=new yt(ce.comparator);function ps(){return AS}const b1=new yt(ce.comparator);function Vo(...s){let e=b1;for(const i of s)e=e.insert(i.key,i);return e}function E1(s){let e=b1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function tr(){return Bo()}function T1(){return Bo()}function Bo(){return new hr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const SS=new yt(ce.comparator),xS=new Pt(ce.comparator);function Be(...s){let e=xS;for(const i of s)e=e.add(i);return e}const wS=new Pt(Pe);function RS(){return wS}function Pm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function A1(s){return{integerValue:""+s}}function NS(s,e){return ZA(e)?A1(e):Pm(s,e)}class xh{constructor(){this._=void 0}}function CS(s,e,i){return s instanceof Xo?(function(o,c){const d={fields:{[a1]:{stringValue:s1},[l1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Vm(c)&&(c=Th(c)),c&&(d.fields[r1]=c),{mapValue:d}})(i,e):s instanceof Jo?x1(s,e):s instanceof Zo?w1(s,e):(function(o,c){const d=S1(o,c),g=C_(d)+C_(o.Ae);return lm(d)&&lm(o.Ae)?A1(g):Pm(o.serializer,g)})(s,e)}function IS(s,e,i){return s instanceof Jo?x1(s,e):s instanceof Zo?w1(s,e):i}function S1(s,e){return s instanceof rh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Xo extends xh{}class Jo extends xh{constructor(e){super(),this.elements=e}}function x1(s,e){const i=R1(e);for(const a of s.elements)i.some((o=>Pi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Zo extends xh{constructor(e){super(),this.elements=e}}function w1(s,e){let i=R1(e);for(const a of s.elements)i=i.filter((o=>!Pi(o,a)));return{arrayValue:{values:i}}}class rh extends xh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function C_(s){return St(s.integerValue||s.doubleValue)}function R1(s){return jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class DS{constructor(e,i){this.field=e,this.transform=i}}function OS(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Jo&&o instanceof Jo||a instanceof Zo&&o instanceof Zo?gl(a.elements,o.elements,Pi):a instanceof rh&&o instanceof rh?Pi(a.Ae,o.Ae):a instanceof Xo&&o instanceof Xo})(s.transform,e.transform)}class kS{constructor(e,i){this.version=e,this.transformResults=i}}class Vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class wh{}function N1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new I1(s.key,Vi.none()):new su(s.key,s.data,Vi.none());{const i=s.data,a=_n.empty();let o=new Pt(Jt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Sa(s.key,a,new Cn(o.toArray()),Vi.none())}}function MS(s,e,i){s instanceof su?(function(o,c,d){const g=o.value.clone(),_=D_(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Sa?(function(o,c,d){if(!Kc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=D_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(C1(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function qo(s,e,i,a){return s instanceof su?(function(c,d,g,_){if(!Kc(c.precondition,d))return g;const y=c.value.clone(),T=O_(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Sa?(function(c,d,g,_){if(!Kc(c.precondition,d))return g;const y=O_(c.fieldTransforms,_,d),T=d.data;return T.setAll(C1(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,g){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function VS(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=S1(a.transform,o||null);c!=null&&(i===null&&(i=_n.empty()),i.set(a.field,c))}return i||null}function I_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&gl(a,o,((c,d)=>OS(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class su extends wh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sa extends wh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function C1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function D_(s,e,i){const a=new Map;$e(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,IS(d,g,i[o]))}return a}function O_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,CS(c,d,e))}return a}class I1 extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jS extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class US{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MS(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=qo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=qo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=T1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=N1(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((i,a)=>I_(i,a)))&&gl(this.baseMutations,e.baseMutations,((i,a)=>I_(i,a)))}}class Bm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return SS})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Bm(e,i,a,o)}}class LS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zS{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,He;function PS(s){switch(s){case $.OK:return ye(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function D1(s){if(s===void 0)return gs("GRPC error has no .code"),$.UNKNOWN;switch(s){case kt.OK:return $.OK;case kt.CANCELLED:return $.CANCELLED;case kt.UNKNOWN:return $.UNKNOWN;case kt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case kt.INTERNAL:return $.INTERNAL;case kt.UNAVAILABLE:return $.UNAVAILABLE;case kt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case kt.NOT_FOUND:return $.NOT_FOUND;case kt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case kt.ABORTED:return $.ABORTED;case kt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case kt.DATA_LOSS:return $.DATA_LOSS;default:return ye(39323,{code:s})}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function BS(){return new TextEncoder}const qS=new ma([4294967295,4294967295],0);function k_(s){const e=BS().encode(s),i=new Fv;return i.update(e),new Uint8Array(i.digest())}function M_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ma([i,a],0),new ma([o,c],0)]}class qm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new jo(`Invalid padding: ${i}`);if(a<0)throw new jo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new jo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ma.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(ma.fromNumber(a)));return o.compare(qS)===1&&(o=new ma([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=k_(e),[a,o]=M_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=k_(e),[a,o]=M_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(be.min(),o,new yt(Pe),ps(),Be())}}class au{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new au(a,i,Be(),Be(),Be())}}class Yc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class O1{constructor(e,i){this.targetId=e,this.Ce=i}}class k1{constructor(e,i,a=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class V_{constructor(){this.ve=0,this.Fe=j_(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),i=Be(),a=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ye(38017,{changeType:c})}})),new au(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=j_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.He=zc(),this.Je=zc(),this.Ze=new yt(Pe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(um(c))if(a===0){const d=new ce(c.path);this.et(i,d,an.newNoDocument(d,be.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=va(a).toUint8Array()}catch(_){if(_ instanceof i1)return lr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new qm(d,o,c)}catch(_){return lr(_ instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&um(g.target)){const _=new ce(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Be();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Rh(e,i,this.Ze,this.je,a);return this.je=ps(),this.He=zc(),this.Je=zc(),this.Ze=new yt(Pe),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new V_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Pt(Pe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Pt(Pe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new yt(ce.comparator)}function j_(){return new yt(ce.comparator)}const GS={asc:"ASCENDING",desc:"DESCENDING"},FS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QS={and:"AND",or:"OR"};class KS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fm(s,e){return s.useProto3Json||Eh(e)?e:{value:e}}function lh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function YS(s,e){return lh(s,e.toTimestamp())}function ji(s){return $e(!!s,49232),be.fromTimestamp((function(i){const a=_a(i);return new ht(a.seconds,a.nanos)})(s))}function Hm(s,e){return dm(s,e).canonicalString()}function dm(s,e){const i=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function V1(s){const e=lt.fromString(s);return $e(P1(e),10190,{key:e.toString()}),e}function mm(s,e){return Hm(s.databaseId,e.path)}function Qd(s,e){const i=V1(e);if(i.get(1)!==s.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ce(U1(i))}function j1(s,e){return Hm(s.databaseId,e)}function $S(s){const e=V1(s);return e.length===4?lt.emptyPath():U1(e)}function gm(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function U1(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function U_(s,e,i){return{name:mm(s,e),fields:i.value.mapValue.fields}}function XS(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?($e(T===void 0||typeof T=="string",58123),Wt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Wt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:D1(y.code);return new ie(T,y.message||"")})(d);i=new k1(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Qd(s,a.document.name),c=ji(a.document.updateTime),d=a.document.createTime?ji(a.document.createTime):be.min(),g=new _n({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(o,c,d,g),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Yc(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Qd(s,a.document),c=a.readTime?ji(a.readTime):be.min(),d=an.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Yc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Qd(s,a.document),c=a.removedTargetIds||[];i=new Yc([],c,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new zS(o,c),g=a.targetId;i=new O1(g,d)}}return i}function JS(s,e){let i;if(e instanceof su)i={update:U_(s,e.key,e.value)};else if(e instanceof I1)i={delete:mm(s,e.key)};else if(e instanceof Sa)i={update:U_(s,e.key,e.data),updateMask:rx(e.fieldMask)};else{if(!(e instanceof jS))return ye(16599,{dt:e.type});i={verify:mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Xo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ye(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:YS(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(s,e.precondition)),i}function ZS(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?ji(o.updateTime):ji(c);return d.isEqual(be.min())&&(d=ji(c)),new kS(d,o.transformResults||[])})(i,e)))):[]}function WS(s,e){return{documents:[j1(s,e.path)]}}function ex(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=j1(s,o);const c=(function(y){if(y.length!==0)return z1(ci.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(w){return{field:rl(w.field),direction:ix(w.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function tx(s){let e=$S(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$e(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const w=L1(S);return w instanceof ci&&d1(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((w=>(function(X){return new $o(ll(X.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let w;return w=typeof S=="object"?S.value:S,Eh(w)?null:w})(i.limit));let _=null;i.startAt&&(_=(function(S){const w=!!S.before,B=S.values||[];return new ah(B,w)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const w=!S.before,B=S.values||[];return new ah(B,w)})(i.endAt)),yS(e,o,d,c,g,"F",_,y)}function nx(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function L1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ll(i.unaryFilter.field);return Mt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ll(i.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ll(i.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ll(i.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Mt.create(ll(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((a=>L1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(s):ye(30097,{filter:s})}function ix(s){return GS[s]}function sx(s){return FS[s]}function ax(s){return QS[s]}function rl(s){return{fieldPath:s.canonicalString()}}function ll(s){return Jt.fromServerFormat(s.fieldPath)}function z1(s){return s instanceof Mt?(function(i){if(i.op==="=="){if(S_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NAN"}};if(A_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(S_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NOT_NAN"}};if(A_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(i.field),op:sx(i.op),value:i.value}}})(s):s instanceof ci?(function(i){const a=i.getFilters().map((o=>z1(o)));return a.length===1?a[0]:{compositeFilter:{op:ax(i.op),filters:a}}})(s):ye(54877,{filter:s})}function rx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function P1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function B1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ca{constructor(e,i,a,o,c=be.min(),d=be.min(),g=Wt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lx{constructor(e){this.yt=e}}function ox(s){const e=tx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(e,e.limit,"L"):e}class ux{constructor(){this.Sn=new cx}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(ya.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class cx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Pt(lt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Pt(lt.comparator)).toArray()}}const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(q1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class _l{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _l(0)}static ar(){return new _l(-1)}}const z_="LruGarbageCollector",hx=1048576;function P_([s,e],[i,a]){const o=Pe(s,i);return o===0?Pe(e,a):o}class fx{constructor(e){this.Pr=e,this.buffer=new Pt(P_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();P_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xl(i)?ae(z_,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Ar(3e5)}))}}class mx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(bh.ce);const a=new fx(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(L_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,g,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),sl()<=ze.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function gx(s,e){return new mx(s,e)}class px{constructor(){this.changes=new hr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class _x{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&qo(a.mutation,o,Cn.empty(),ht.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const o=tr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Vo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=tr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=ps();const d=Bo(),g=(function(){return Bo()})();return i.forEach(((_,y)=>{const T=a.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Sa)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),qo(T.mutation,y,T.mutation.getFieldMask(),ht.now())):d.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new yx(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Bo();let o=new yt(((d,g)=>d-g)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||Cn.empty();T=g.applyToLocalView(y,T),a.set(_,T);const S=(o.get(g.batchId)||Be()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,S=T1();T.forEach((w=>{if(!c.has(w)){const B=N1(i.get(w),a.get(w));B!==null&&S.set(w,B),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return _S(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):y1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(tr());let g=Fo,_=c;return d.next((y=>Z.forEach(y,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{_=_.insert(T,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Be()))).next((T=>({batchId:g,changes:E1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ce(i)).next((a=>{let o=Vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Vo();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(_=>{const y=(function(S,w){return new wl(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((T=>{T.forEach(((S,w)=>{d=d.insert(S,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,an.newInvalidDocument(T)))}));let g=Vo();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&qo(T.mutation,y,Cn.empty(),ht.now()),Sh(i,y)&&(g=g.insert(_,y))})),g}))}}class vx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:ox(o.bundledQuery),readTime:ji(o.readTime)}})(i)),Z.resolve()}}class bx{constructor(){this.overlays=new yt(ce.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=tr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=tr(),c=i.length+1,d=new ce(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new yt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=tr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=tr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=o)););return Z.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new LS(i,a));let c=this.Lr.get(i);c===void 0&&(c=Be(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class Ex{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Gm{constructor(){this.kr=new Pt(Gt.Kr),this.qr=new Pt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Gt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Gt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ce(new lt([])),a=new Gt(i,e),o=new Gt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ce(new lt([])),a=new Gt(i,e),o=new Gt(i,e+1);let c=Be();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Gt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Gt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ce.comparator(e.key,i.key)||Pe(e.Hr,i.Hr)}static Ur(e,i){return Pe(e.Hr,i.Hr)||ce.comparator(e.key,i.key)}}class Tx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Gt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new US(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Gt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Mm:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Pt(Pe);return i.forEach((o=>{const c=new Gt(o,0),d=new Gt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),Z.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ce.isDocumentKey(c)||(c=c.child(""));const d=new Gt(new ce(c),0);let g=new Pt(Pe);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Hr)),!0)}),d),Z.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$e(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Z.forEach(i.mutations,(o=>{const c=new Gt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Gt(i,0),o=this.Jr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Ax{constructor(e){this.ti=e,this.docs=(function(){return new yt(ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=ps();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ps();const d=i.path,g=new ce(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||YA(KA(T),a)<=0||(o.has(T.key)||Sh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ye(9500)}ni(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Sx(this)}getSize(e){return Z.resolve(this.size)}}class Sx extends px{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class xx{constructor(e){this.persistence=e,this.ri=new hr((i=>Um(i)),Lm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new Gm,this.targetCount=0,this.oi=_l._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new _l(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class H1{constructor(e,i){this._i={},this.overlays={},this.ai=new bh(0),this.ui=!1,this.ui=!0,this.ci=new Ex,this.referenceDelegate=e(this),this.li=new xx(this),this.indexManager=new ux,this.remoteDocumentCache=(function(o){return new Ax(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new lx(i),this.Pi=new vx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new bx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new Tx(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new wx(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return Z.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class wx extends XA{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ri=new Gm,this.Ai=null}static Vi(e){return new Fm(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(a=>{const o=ce.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class oh{constructor(e,i){this.persistence=e,this.fi=new hr((a=>WA(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=gx(this,i)}static Vi(e,i){return new oh(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(a++,c.removeEntry(d,be.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}wr(e,i,a){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Be(),o=Be();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Qm(e,i.fromCache,a,o)}}class Rx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return p2()?8:JA(rn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Rx;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(sl()<=ze.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(sl()<=ze.DEBUG&&ae("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(sl()<=ze.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(i))):Z.resolve())}gs(e,i){if(N_(i))return Z.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hm(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(e,hm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,a,o){return N_(i)||o.isEqual(be.min())?Z.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?Z.resolve(null):(sl()<=ze.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.Ds(e,d,i,QA(o,Fo)).next((g=>g)))}))}bs(e,i){let a=new Pt(v1(e));return i.forEach(((o,c)=>{Sh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return sl()<=ze.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",al(i)),this.fs.getDocumentsMatchingQuery(e,i,ya.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Km="LocalStore",Cx=3e8;class Ix{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new yt(Pe),this.Fs=new hr((c=>Um(c)),Lm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _x(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Dx(s,e,i,a){return new Ix(s,e,i,a)}async function G1(s,e){const i=Te(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Be();for(const y of o){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Ox(s,e){const i=Te(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const S=y.batch,w=S.keys();let B=Z.resolve();return w.forEach((X=>{B=B.next((()=>T.getEntry(_,X))).next((W=>{const J=y.docVersions.get(X);$e(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Be();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function F1(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function kx(s,e){const i=Te(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((T,S)=>{const w=o.get(S);if(!w)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let B=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Wt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,a)),o=o.insert(S,B),(function(W,J,he){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Cx?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(w,B,T)&&g.push(i.li.updateTargetData(c,B))}));let _=ps(),y=Be();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(Mx(c,d,e.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!a.isEqual(be.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=o,c)))}function Mx(s,e,i){let a=Be(),o=Be();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ps();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ae(Km,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function Vx(s,e){const i=Te(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function jx(s,e){const i=Te(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new ca(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function pm(s,e,i){const a=Te(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xl(d))throw d;ae(Km,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function B_(s,e,i){const a=Te(s);let o=be.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=Te(_),w=S.Fs.get(T);return w!==void 0?Z.resolve(S.vs.get(w)):S.li.getTargetData(y,T)})(a,d,Mi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:be.min(),i?c:Be()))).next((g=>(Ux(a,ES(e),g),{documents:g,ks:c})))))}function Ux(s,e,i){let a=s.Ms.get(e)||be.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class q_{constructor(){this.activeTargetIds=RS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lx{constructor(){this.vo=new q_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new q_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zx{Mo(e){}shutdown(){}}const H_="ConnectivityMonitor";class G_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(H_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function ym(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Kd="RestConnection",Px={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Bx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=ym(),g=this.Qo(e,i.toUriEncodedString());ae(Kd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:y}=new URL(g),T=El(y);return this.zo(e,g,_,a,T).then((S=>(ae(Kd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw lr(Kd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=Px[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class qx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nn="WebChannelConnection",Oo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ul extends Bx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=$v();Oo(e,Yv.STAT_EVENT,(i=>{i.stat===sm.PROXY?ae(nn,"STAT_EVENT: detected buffering proxy"):i.stat===sm.NOPROXY&&ae(nn,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,i,a,o,c){const d=ym();return new Promise(((g,_)=>{const y=new Qv;y.setWithCredentials(!0),y.listenOnce(Kv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const S=y.getResponseJson();ae(nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Gc.TIMEOUT:ae(nn,`RPC '${e}' ${d} timed out`),_(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const w=y.getStatus();if(ae(nn,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const X=B?.error;if(X&&X.status&&X.message){const W=(function(he){const ge=he.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ge)>=0?ge:$.UNKNOWN})(X.status);_(new ie(W,X.message))}else _(new ie($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ie($.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(nn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ae(nn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=ym(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");ae(nn,`Creating RPC '${e}' stream ${o}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let S=!1,w=!1;const B=new qx({Ho:X=>{w?ae(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(S||(ae(nn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ae(nn,`RPC '${e}' stream ${o} sending:`,X),T.send(X))},Jo:()=>T.close()});return Oo(T,Mo.EventType.OPEN,(()=>{w||(ae(nn,`RPC '${e}' stream ${o} transport opened.`),B.i_())})),Oo(T,Mo.EventType.CLOSE,(()=>{w||(w=!0,ae(nn,`RPC '${e}' stream ${o} transport closed`),B.o_(),this.E_(T))})),Oo(T,Mo.EventType.ERROR,(X=>{w||(w=!0,lr(nn,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),B.o_(new ie($.UNAVAILABLE,"The operation could not be completed")))})),Oo(T,Mo.EventType.MESSAGE,(X=>{if(!w){const W=X.data[0];$e(!!W,16349);const J=W,he=J?.error||J[0]?.error;if(he){ae(nn,`RPC '${e}' stream ${o} received error:`,he);const ge=he.status;let fe=(function(Ae){const C=kt[Ae];if(C!==void 0)return D1(C)})(ge),Re=he.message;ge==="NOT_FOUND"&&Re.includes("database")&&Re.includes("does not exist")&&Re.includes(this.databaseId.database)&&lr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),fe===void 0&&(fe=$.INTERNAL,Re="Unknown error status: "+ge+" with message "+he.message),w=!0,B.o_(new ie(fe,Re)),T.close()}else ae(nn,`RPC '${e}' stream ${o} received:`,W),B.__(W)}})),ul.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Xv()}}function Hx(s){return new ul(s)}function Yd(){return typeof document<"u"?document:null}function Nh(s){return new KS(s,!0)}ul.c_=!1;class Q1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const F_="PersistentStream";class K1{constructor(e,i,a,o,c,d,g,_){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ie($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(F_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(F_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gx extends K1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=XS(this.serializer,e),a=(function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?ji(d.readTime):be.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=gm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=um(_)?{documents:WS(c,_)}:{query:ex(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=M1(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=lh(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=nx(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=gm(this.serializer),i.removeTarget=e,this.K_(i)}}class Fx extends K1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ZS(e.writeResults,e.commitTime),a=ji(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=gm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>JS(this.serializer,a)))};this.K_(i)}}class Qx{}class Kx extends Qx{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,dm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie($.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,dm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ie($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Yx(s,e,i,a){return new Kx(s,e,i,a)}class $x{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const or="RemoteStore";class Xx{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{fr(this)&&(ae(or,"Restarting streams for network reachability change."),await(async function(_){const y=Te(_);y.Ea.add(4),await ru(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ch(y)})(this))}))})),this.Va=new $x(a,o)}}async function Ch(s){if(fr(s))for(const e of s.Ra)await e(!0)}async function ru(s){for(const e of s.Ra)await e(!1)}function Y1(s,e){const i=Te(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Jm(i)?Xm(i):Rl(i).O_()&&$m(i,e))}function Ym(s,e){const i=Te(s),a=Rl(i);i.Ia.delete(e),a.O_()&&$1(i,e),i.Ia.size===0&&(a.O_()?a.L_():fr(i)&&i.Va.set("Unknown"))}function $m(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rl(s).Z_(e)}function $1(s,e){s.da.$e(e),Rl(s).X_(e)}function Xm(s){s.da=new HS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Rl(s).start(),s.Va.ua()}function Jm(s){return fr(s)&&!Rl(s).x_()&&s.Ia.size>0}function fr(s){return Te(s).Ea.size===0}function X1(s){s.da=void 0}async function Jx(s){s.Va.set("Online")}async function Zx(s){s.Ia.forEach(((e,i)=>{$m(s,e)}))}async function Wx(s,e){X1(s),Jm(s)?(s.Va.ha(e),Xm(s)):s.Va.set("Unknown")}async function ew(s,e,i){if(s.Va.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){ae(or,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uh(s,a)}else if(e instanceof Yc?s.da.Xe(e):e instanceof O1?s.da.st(e):s.da.tt(e),!i.isEqual(be.min()))try{const a=await F1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Wt.EMPTY_BYTE_STRING,T.snapshotVersion)),$1(c,_);const S=new ca(T.target,_,y,T.sequenceNumber);$m(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ae(or,"Failed to raise snapshot:",a),await uh(s,a)}}async function uh(s,e,i){if(!xl(e))throw e;s.Ea.add(1),await ru(s),s.Va.set("Offline"),i||(i=()=>F1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(or,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function J1(s,e){return e().catch((i=>uh(s,i,e)))}async function Ih(s){const e=Te(s),i=Ea(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;tw(e);)try{const o=await Vx(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,nw(e,o)}catch(o){await uh(e,o)}Z1(e)&&W1(e)}function tw(s){return fr(s)&&s.Ta.length<10}function nw(s,e){s.Ta.push(e);const i=Ea(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function Z1(s){return fr(s)&&!Ea(s).x_()&&s.Ta.length>0}function W1(s){Ea(s).start()}async function iw(s){Ea(s).ra()}async function sw(s){const e=Ea(s);for(const i of s.Ta)e.ea(i.mutations)}async function aw(s,e,i){const a=s.Ta.shift(),o=Bm.from(a,e,i);await J1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ih(s)}async function rw(s,e){e&&Ea(s).Y_&&await(async function(a,o){if((function(d){return PS(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Ea(a).B_(),await J1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ih(a)}})(s,e),Z1(s)&&W1(s)}async function Q_(s,e){const i=Te(s);i.asyncQueue.verifyOperationInProgress(),ae(or,"RemoteStore received new credentials");const a=fr(i);i.Ea.add(3),await ru(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ch(i)}async function lw(s,e){const i=Te(s);e?(i.Ea.delete(2),await Ch(i)):e||(i.Ea.add(2),await ru(i),i.Va.set("Unknown"))}function Rl(s){return s.ma||(s.ma=(function(i,a,o){const c=Te(i);return c.sa(),new Gx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Jx.bind(null,s),Yo:Zx.bind(null,s),t_:Wx.bind(null,s),J_:ew.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Jm(s)?Xm(s):s.Va.set("Unknown")):(await s.ma.stop(),X1(s))}))),s.ma}function Ea(s){return s.fa||(s.fa=(function(i,a,o){const c=Te(i);return c.sa(),new Fx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iw.bind(null,s),t_:rw.bind(null,s),ta:sw.bind(null,s),na:aw.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ih(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(or,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Zm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new Zm(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(s,e){if(gs("AsyncQueue",`${e}: ${s}`),xl(s))return new ie($.UNAVAILABLE,`${e}: ${s}`);throw s}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ce.comparator(i.key,a.key):(i,a)=>ce.comparator(i.key,a.key),this.keyedMap=Vo(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class K_{constructor(){this.ga=new yt(ce.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vl{constructor(e,i,a,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new vl(e,i,cl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class ow{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class uw{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Te(i),c=o.queries;o.queries=Y_(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new ie($.ABORTED,"Firestore shutting down"))}}function Y_(){return new hr((s=>_1(s)),Ah)}async function eb(s,e){const i=Te(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new ow,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Wm(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&eg(i)}async function tb(s,e){const i=Te(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cw(s,e){const i=Te(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&eg(i)}function hw(s,e,i){const a=Te(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function eg(s){s.Ca.forEach((e=>{e.next()}))}var _m,$_;($_=_m||(_m={})).Ma="default",$_.Cache="cache";class nb{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new vl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class ib{constructor(e){this.key=e}}class sb{constructor(e){this.key=e}}class fw{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=v1(e),this.tu=new cl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new K_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const w=o.get(T),B=Sh(this.query,S)?S:null,X=!!w&&this.mutatedKeys.has(w.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;w&&B?w.data.isEqual(B.data)?X!==W&&(a.track({type:3,doc:B}),J=!0):this.su(w,B)||(a.track({type:2,doc:B}),J=!0,(_&&this.eu(B,_)>0||y&&this.eu(B,y)<0)&&(g=!0)):!w&&B?(a.track({type:0,doc:B}),J=!0):w&&!B&&(a.track({type:1,doc:w}),J=!0,(_||y)&&(g=!0)),J&&(B?(d=d.add(B),c=W?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(B,X){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:J})}};return W(B)-W(X)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new vl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new sb(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new ib(a))})),i}cu(e){this.Za=e.ks,this.Ya=Be();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tg="SyncEngine";class dw{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class mw{constructor(e){this.key=e,this.hu=!1}}class gw{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new hr((g=>_1(g)),Ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(ce.comparator),this.Au=new Map,this.Vu=new Gm,this.du={},this.mu=new Map,this.fu=_l.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pw(s,e,i=!0){const a=cb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await ab(a,e,i,!0),o}async function yw(s,e){const i=cb(s);await ab(i,e,!0,!1)}async function ab(s,e,i,a){const o=await jx(s.localStore,Mi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await _w(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Y1(s.remoteStore,o),g}async function _w(s,e,i,a,o){s.pu=(S,w,B)=>(async function(W,J,he,ge){let fe=J.view.ru(he);fe.Ss&&(fe=await B_(W.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,fe))));const Re=ge&&ge.targetChanges.get(J.targetId),ot=ge&&ge.targetMismatches.get(J.targetId)!=null,Ae=J.view.applyChanges(fe,W.isPrimaryClient,Re,ot);return J_(W,J.targetId,Ae.au),Ae.snapshot})(s,S,w,B);const c=await B_(s.localStore,e,!0),d=new fw(e,c.ks),g=d.ru(c.documents),_=au.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);J_(s,i,y.au);const T=new dw(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function vw(s,e,i){const a=Te(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ah(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await pm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ym(a.remoteStore,o.targetId),vm(a,o.targetId)})).catch(Sl)):(vm(a,o.targetId),await pm(a.localStore,o.targetId,!0))}async function bw(s,e){const i=Te(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function Ew(s,e,i){const a=Nw(s);try{const o=await(function(d,g){const _=Te(d),y=ht.now(),T=g.reduce(((B,X)=>B.add(X.key)),Be());let S,w;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let X=ps(),W=Be();return _.xs.getEntries(B,T).next((J=>{X=J,X.forEach(((he,ge)=>{ge.isValidDocument()||(W=W.add(he))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,X))).next((J=>{S=J;const he=[];for(const ge of g){const fe=VS(ge,S.get(ge.key).overlayedDocument);fe!=null&&he.push(new Sa(ge.key,fe,c1(fe.value.mapValue),Vi.exists(!0)))}return _.mutationQueue.addMutationBatch(B,y,he,g)})).next((J=>{w=J;const he=J.applyToLocalDocumentSet(S,W);return _.documentOverlayCache.saveOverlays(B,J.batchId,he)}))})).then((()=>({batchId:w.batchId,changes:E1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new yt(Pe)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await lu(a,o.changes),await Ih(a.remoteStore)}catch(o){const c=Wm(o,"Failed to persist write");i.reject(c)}}async function rb(s,e){const i=Te(s);try{const a=await kx(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$e(d.hu,14607):o.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await lu(i,a,e)}catch(a){await Sl(a)}}function X_(s,e,i){const a=Te(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Te(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,S)=>{for(const w of S.ba)w.va(g)&&(y=!0)})),y&&eg(_)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Tw(s,e,i){const a=Te(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new yt(ce.comparator);d=d.insert(c,an.newNoDocument(c,be.min()));const g=Be().add(c),_=new Rh(be.min(),new Map,new yt(Pe),d,g);await rb(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),ng(a)}else await pm(a.localStore,e,!1).then((()=>vm(a,e,i))).catch(Sl)}async function Aw(s,e){const i=Te(s),a=e.batch.batchId;try{const o=await Ox(i.localStore,e);ob(i,a,null),lb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await lu(i,o)}catch(o){await Sl(o)}}async function Sw(s,e,i){const a=Te(s);try{const o=await(function(d,g){const _=Te(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>($e(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,e);ob(a,e,i),lb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await lu(a,o)}catch(o){await Sl(o)}}function lb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function ob(s,e,i){const a=Te(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||ub(s,a)}))}function ub(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Ym(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),ng(s))}function J_(s,e,i){for(const a of i)a instanceof ib?(s.Vu.addReference(a.key,e),xw(s,a)):a instanceof sb?(ae(tg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||ub(s,a.key)):ye(19791,{wu:a})}function xw(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ae(tg,"New document in limbo: "+i),s.Eu.add(a),ng(s))}function ng(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ce(lt.fromString(e)),a=s.fu.next();s.Au.set(a,new mw(i)),s.Ru=s.Ru.insert(i,a),Y1(s.remoteStore,new ca(Mi(zm(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function lu(s,e,i){const a=Te(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Qm.Es(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(_,y){const T=Te(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(w=>Z.forEach(w.Ts,(B=>T.persistence.referenceDelegate.addReference(S,w.targetId,B))).next((()=>Z.forEach(w.Is,(B=>T.persistence.referenceDelegate.removeReference(S,w.targetId,B)))))))))}catch(S){if(!xl(S))throw S;ae(Km,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const B=T.vs.get(w),X=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(X);T.vs=T.vs.insert(w,W)}}})(a.localStore,c))}async function ww(s,e){const i=Te(s);if(!i.currentUser.isEqual(e)){ae(tg,"User change. New user:",e.toKey());const a=await G1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ie($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await lu(i,a.Ns)}}function Rw(s,e){const i=Te(s),a=i.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let o=Be();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function cb(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tw.bind(null,e),e.Pu.J_=cw.bind(null,e.eventManager),e.Pu.yu=hw.bind(null,e.eventManager),e}function Nw(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sw.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Dx(this.persistence,new Nx,e.initialUser,this.serializer)}Cu(e){return new H1(Fm.Vi,this.serializer)}Du(e){return new Lx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class Cw extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new dx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new H1((a=>oh.Vi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>X_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ww.bind(null,this.syncEngine),await lw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uw})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),a=Hx(e.databaseInfo);return Yx(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new Xx(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>X_(this.syncEngine,i,0)),(function(){return G_.v()?new G_:new zx})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,T){const S=new gw(o,c,d,g,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Te(i);ae(or,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ta="FirestoreClient";class Iw{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(Ta,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(Ta,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Wm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function $d(s,e){s.asyncQueue.verifyOperationInProgress(),ae(Ta,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await G1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Z_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Dw(s);ae(Ta,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Q_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Q_(e.remoteStore,o))),s._onlineComponents=e}async function Dw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(Ta,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;lr("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new ch)}}else ae(Ta,"Using default OfflineComponentProvider"),await $d(s,new Cw(void 0));return s._offlineComponents}async function fb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(Ta,"Using user provided OnlineComponentProvider"),await Z_(s,s._uninitializedComponentsProvider._online)):(ae(Ta,"Using default OnlineComponentProvider"),await Z_(s,new bm))),s._onlineComponents}function Ow(s){return fb(s).then((e=>e.syncEngine))}async function Em(s){const e=await fb(s),i=e.eventManager;return i.onListen=pw.bind(null,e.syncEngine),i.onUnlisten=vw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=bw.bind(null,e.syncEngine),i}function kw(s,e,i,a){const o=new hb(a),c=new nb(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>eb(await Em(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>tb(await Em(s),c)))}}function Mw(s,e,i={}){const a=new ga;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new hb({next:w=>{T.Nu(),d.enqueueAndForget((()=>tb(c,S))),w.fromCache&&_.source==="server"?y.reject(new ie($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new nb(g,T,{includeMetadataChanges:!0,Ka:!0});return eb(c,S)})(await Em(s),s.asyncQueue,e,i,a))),a.promise}function Vw(s,e){const i=new ga;return s.asyncQueue.enqueueAndForget((async()=>Ew(await Ow(s),e,i))),i.promise}function db(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const jw="ComponentProvider",W_=new Map;function Uw(s,e,i,a,o){return new nS(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,db(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const mb="firestore.googleapis.com",ev=!0;class tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mb,this.ssl=ev}else this.host=e.host,this.ssl=e.ssl??ev;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hx)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=db(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new VA;switch(a.type){case"firstParty":return new zA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=W_.get(i);a&&(ae(jw,"Removing Datastore"),W_.delete(i),a.terminate())})(this),Promise.resolve()}}function Lw(s,e,i,a={}){s=fs(s,Dh);const o=El(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Uv(`https://${g}`),Lv("Firestore",!0)),c.host!==mb&&c.host!==g&&lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!sr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=sn.MOCK_USER;else{y=l2(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new sn(S)}s._authCredentials=new jA(new Zv(y,T))}}class xa{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class jt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(iu(i,jt._jsonSchema))return new jt(e,a||null,new ce(lt.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Vt("string",jt._jsonSchemaVersion),referencePath:Vt("string")};class pa extends xa{constructor(e,i,a){super(e,i,zm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ce(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function ri(s,e,...i){if(s=Zt(s),Wv("collection","path",e),s instanceof Dh){const a=lt.fromString(e,...i);return m_(a),new pa(s,null,a)}{if(!(s instanceof jt||s instanceof pa))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(lt.fromString(e,...i));return m_(a),new pa(s.firestore,null,a)}}function gb(s,e,...i){if(s=Zt(s),arguments.length===1&&(e=km.newId()),Wv("doc","path",e),s instanceof Dh){const a=lt.fromString(e,...i);return d_(a),new jt(s,null,new ce(a))}{if(!(s instanceof jt||s instanceof pa))throw new ie($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(lt.fromString(e,...i));return d_(a),new jt(s.firestore,s instanceof pa?s.converter:null,new ce(a))}}const nv="AsyncQueue";class iv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q1(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&ae(nv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;ae(nv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",sv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Zm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function sv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class bl extends Dh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new iv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iv(e),this._firestoreClient=void 0,await e}}}function zw(s,e){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:ih,o=Dm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=a2("firestore");c&&Lw(o,...c)}return o}function ig(s){if(s._terminated)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Pw(s),s._firestoreClient}function Pw(s){const e=s._freezeSettings(),i=Uw(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Iw(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Wt.fromBase64String(e))}catch(i){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Vt("string",Kn._jsonSchemaVersion),bytes:Vt("string")};class sg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Ui{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Vt("string",Ui._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ui(e.vectorValues);throw new ie($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Vt("string",ui._jsonSchemaVersion),vectorValues:Vt("object")};const Bw=/^__.*__$/;class qw{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new su(e,this.data,i,this.fieldTransforms)}}class pb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function yb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:s})}}class ag{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return hh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yb(this.dataSource)&&Bw.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Hw{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(e)}createContext(e,i,a,o=!1){return new ag({dataSource:e,methodName:i,targetDoc:a,path:Jt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(s){const e=s._freezeSettings(),i=Nh(s._databaseId);return new Hw(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Gw(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);og("Data must be an object, but it was:",d,a);const g=_b(a,d);let _,y;if(c.merge)_=new Cn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const w=ur(e,S,i);if(!d.contains(w))throw new ie($.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Eb(T,w)||T.push(w)}_=new Cn(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new qw(new _n(g),_,y)}class kh extends Oh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}class lg extends Oh{_toFieldTransform(e){return new DS(e.path,new Xo)}isEqual(e){return e instanceof lg}}function Fw(s,e,i,a){const o=s.createContext(1,e,i);og("Data must be an object, but it was:",o,a);const c=[],d=_n.empty();Aa(a,((_,y)=>{const T=bb(e,_,i);y=Zt(y);const S=o.childContextForFieldPath(T);if(y instanceof kh)c.push(T);else{const w=ou(y,S);w!=null&&(c.push(T),d.set(T,w))}}));const g=new Cn(c);return new pb(d,g,o.fieldTransforms)}function Qw(s,e,i,a,o,c){const d=s.createContext(1,e,i),g=[ur(e,a,i)],_=[o];if(c.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(ur(e,c[w])),_.push(c[w+1]);const y=[],T=_n.empty();for(let w=g.length-1;w>=0;--w)if(!Eb(y,g[w])){const B=g[w];let X=_[w];X=Zt(X);const W=d.childContextForFieldPath(B);if(X instanceof kh)y.push(B);else{const J=ou(X,W);J!=null&&(y.push(B),T.set(B,J))}}const S=new Cn(y);return new pb(T,S,d.fieldTransforms)}function Kw(s,e,i,a=!1){return ou(i,s.createContext(a?4:3,e))}function ou(s,e){if(vb(s=Zt(s)))return og("Unsupported field value:",e,s),_b(s,e);if(s instanceof Oh)return(function(a,o){if(!yb(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=ou(g,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Zt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return NS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ht.fromDate(a);return{timestampValue:lh(o.serializer,c)}}if(a instanceof ht){const c=new ht(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(o.serializer,c)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:M1(o.serializer,a._byteString)};if(a instanceof jt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ui)return(function(d,g){const _=d instanceof ui?d.toArray():d;return{mapValue:{fields:{[o1]:{stringValue:u1},[sh]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return Pm(g.serializer,T)}))}}}}}})(a,o);if(B1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${vh(a)}`)})(s,e)}function _b(s,e){const i={};return n1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(s,((a,o)=>{const c=ou(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function vb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof Ui||s instanceof Kn||s instanceof jt||s instanceof Oh||s instanceof ui||B1(s))}function og(s,e,i){if(!vb(i)||!e1(i)){const a=vh(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function ur(s,e,i){if((e=Zt(e))instanceof sg)return e._internalPath;if(typeof e=="string")return bb(s,e);throw hh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Yw=new RegExp("[~\\*/\\[\\]]");function bb(s,e,i){if(e.search(Yw)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new sg(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ie($.INVALID_ARGUMENT,g+s+_)}function Eb(s,e){return s.some((i=>i.isEqual(e)))}class $w{convertValue(e,i="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Aa(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>St(a.doubleValue)));return new ui(i)}convertGeoPoint(e){return new Ui(St(e.latitude),St(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Th(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){const i=_a(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=lt.fromString(e);$e(P1(a),9688,{name:e});const o=new Ko(a.get(1),a.get(3)),c=new ce(a.popFirst(5));return o.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class ug extends $w{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function av(){return new lg("serverTimestamp")}const rv="@firebase/firestore",lv="4.11.0";function ov(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Tb{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(ur("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Xw extends Tb{data(){return super.data()}}function Ab(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ie($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class Sb extends cg{}function us(s,e,...i){let a=[];e instanceof cg&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof hg)).length,g=c.filter((_=>_ instanceof Mh)).length;if(d>1||d>0&&g>0)throw new ie($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Mh extends Sb{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Mh(e,i,a)}_apply(e){const i=this._parse(e);return xb(e._query,i),new xa(e.firestore,e.converter,cm(e._query,i))}_parse(e){const i=rg(e.firestore);return(function(c,d,g,_,y,T,S){let w;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ie($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){cv(S,T);const X=[];for(const W of S)X.push(uv(_,c,W));w={arrayValue:{values:X}}}else w=uv(_,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||cv(S,T),w=Kw(g,d,S,T==="in"||T==="not-in");return Mt.create(y,T,w)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function li(s,e,i){const a=e,o=ur("where",s);return Mh._create(o,a,i)}class hg extends cg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new hg(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ci.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const _ of g)xb(d,_),d=cm(d,_)})(e._query,i),new xa(e.firestore,e.converter,cm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fg extends Sb{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new fg(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ie($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $o(c,d)})(e._query,this._field,this._direction);return new xa(e.firestore,e.converter,bS(e._query,i))}}function Jw(s,e="asc"){const i=e,a=ur("orderBy",s);return fg._create(a,i)}function uv(s,e,i){if(typeof(i=Zt(i))=="string"){if(i==="")throw new ie($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y1(e)&&i.indexOf("/")!==-1)throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(lt.fromString(i));if(!ce.isDocumentKey(a))throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return T_(s,new ce(a))}if(i instanceof jt)return T_(s,i._key);throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(i)}.`)}function cv(s,e){if(!Array.isArray(s)||s.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xb(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function Zw(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Uo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nr extends Tb{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(ur("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=nr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}nr._jsonSchemaVersion="firestore/documentSnapshot/1.0",nr._jsonSchema={type:Vt("string",nr._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class $c extends nr{data(e={}){return super.data(e)}}class ir{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Uo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Uo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ie($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Uo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Uo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:Ww(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ir._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ww(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}ir._jsonSchemaVersion="firestore/querySnapshot/1.0",ir._jsonSchema={type:Vt("string",ir._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function ko(s){s=fs(s,xa);const e=fs(s.firestore,bl),i=ig(e),a=new ug(e);return Ab(s._query),Mw(i,s._query).then((o=>new ir(e,a,s,o)))}function eR(s,e,i,...a){s=fs(s,jt);const o=fs(s.firestore,bl),c=rg(o);let d;return d=typeof(e=Zt(e))=="string"||e instanceof sg?Qw(c,"updateDoc",s._key,e,i,a):Fw(c,"updateDoc",s._key,e),wb(o,[d.toMutation(s._key,Vi.exists(!0))])}function Bc(s,e){const i=fs(s.firestore,bl),a=gb(s),o=Zw(s.converter,e),c=rg(s.firestore);return wb(i,[Gw(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Vi.exists(!1))]).then((()=>a))}function qc(s,...e){s=Zt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||ov(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ov(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof jt)d=fs(s.firestore,bl),g=zm(s._key.path),c={next:y=>{e[a]&&e[a](tR(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=fs(s,xa);d=fs(y.firestore,bl),g=y._query;const T=new ug(d);c={next:S=>{e[a]&&e[a](new ir(d,T,y,S))},error:e[a+1],complete:e[a+2]},Ab(s._query)}const _=ig(d);return kw(_,g,o,c)}function wb(s,e){const i=ig(s);return Vw(i,e)}function tR(s,e,i){const a=i.docs.get(e._key),o=new ug(s);return new nr(s,o,e._key,a,new Uo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){MA(Tl),ml(new ar("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new bl(new UA(a.getProvider("auth-internal")),new PA(d,a.getProvider("app-check-internal")),iS(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),da(rv,lv,e),da(rv,lv,"esm2020")})();function Rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nR=Rb,Nb=new tu("auth","Firebase",Rb());const fh=new Cm("@firebase/auth");function iR(s,...e){fh.logLevel<=ze.WARN&&fh.warn(`Auth (${Tl}): ${s}`,...e)}function Xc(s,...e){fh.logLevel<=ze.ERROR&&fh.error(`Auth (${Tl}): ${s}`,...e)}function ys(s,...e){throw dg(s,...e)}function Li(s,...e){return dg(s,...e)}function Cb(s,e,i){const a={...nR(),[e]:i};return new tu("auth","Firebase",a).create(e,{appName:s.name})}function ds(s){return Cb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Nb.create(s,...e)}function _e(s,e,...i){if(!s)throw dg(e,...i)}function cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Xc(e),new Error(e)}function _s(s,e){s||cs(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function sR(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function aR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||d2()||"connection"in navigator)?navigator.onLine:!0}function rR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class uu{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=c2()||m2()}get(){return aR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mg(s,e){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Ib{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const oR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uR=new uu(3e4,6e4);function cu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Nl(s,e,i,a,o={}){return Db(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=nu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return f2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&El(s.emulatorConfig.host)&&(y.credentials="include"),Ib.fetch()(await Ob(s,s.config.apiHost,i,g),y)})}async function Db(s,e,i){s._canInitEmulator=!1;const a={...lR,...e};try{const o=new cR(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Hc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Hc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Hc(s,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Cb(s,T,y);ys(s,T)}}catch(o){if(o instanceof bs)throw o;ys(s,"network-request-failed",{message:String(o)})}}async function gg(s,e,i,a,o={}){const c=await Nl(s,e,i,a,o);return"mfaPendingCredential"in c&&ys(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Ob(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?mg(s.config,o):`${s.config.apiScheme}://${o}`;return oR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class cR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),uR.get())})}}function Hc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Li(s,e,a);return o.customData._tokenResponse=i,o}async function hR(s,e){return Nl(s,"POST","/v1/accounts:delete",e)}async function dh(s,e){return Nl(s,"POST","/v1/accounts:lookup",e)}function Ho(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fR(s,e=!1){const i=Zt(s),a=await i.getIdToken(e),o=pg(a);_e(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ho(Xd(o.auth_time)),issuedAtTime:Ho(Xd(o.iat)),expirationTime:Ho(Xd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function pg(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=kv(i);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function fv(s){const e=pg(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof bs&&dR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function dR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class mR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Am{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mh(s){const e=s.auth,i=await s.getIdToken(),a=await Wo(s,dh(e,{idToken:i}));_e(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?kb(o.providerUserInfo):[],d=pR(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function gR(s){const e=Zt(s);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pR(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function kb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function yR(s,e){const i=await Db(s,{},async()=>{const a=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Ob(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&El(s.emulatorConfig.host)&&(_.credentials="include"),Ib.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function _R(s,e){return Nl(s,"POST","/v2/accounts:revokeToken",cu(s,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=fv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await yR(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new hl;return a&&(_e(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(_e(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return cs("not implemented")}}function aa(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new mR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return fR(this,e)}reload(){return gR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await mh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await Wo(this,hR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:B,providerData:X,stsTokenManager:W}=i;_e(S&&W,e,"internal-error");const J=hl.fromJSON(this.name,W);_e(typeof S=="string",e,"internal-error"),aa(a,e.name),aa(o,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof B=="boolean",e,"internal-error"),aa(c,e.name),aa(d,e.name),aa(g,e.name),aa(_,e.name),aa(y,e.name),aa(T,e.name);const he=new oi({uid:S,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:T});return X&&Array.isArray(X)&&(he.providerData=X.map(ge=>({...ge}))),_&&(he._redirectEventId=_),he}static async _fromIdTokenResponse(e,i,a=!1){const o=new hl;o.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await mh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];_e(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?kb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new hl;g.updateFromIdToken(a);const _=new oi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const dv=new Map;function hs(s){_s(s instanceof Function,"Expected a class definition");let e=dv.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,dv.set(s,e),e)}class Mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Mb.type="NONE";const mv=Mb;function Jc(s,e,i){return`firebase:${s}:${e}:${i}`}class fl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await dh(this.auth,{idToken:e}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fl(hs(mv),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||hs(mv);const d=Jc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const w=await dh(e,{idToken:T}).catch(()=>{});if(!w)break;S=await oi._fromGetAccountInfoResponse(e,w,T)}else S=oi._fromJSON(e,T);y!==c&&(g=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new fl(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new fl(c,e,a))}}function gv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(Bb(e))return"Webos";if(jb(e))return"Safari";if((e.includes("chrome/")||Ub(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Vb(s=rn()){return/firefox\//i.test(s)}function jb(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ub(s=rn()){return/crios\//i.test(s)}function Lb(s=rn()){return/iemobile/i.test(s)}function zb(s=rn()){return/android/i.test(s)}function Pb(s=rn()){return/blackberry/i.test(s)}function Bb(s=rn()){return/webos/i.test(s)}function yg(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function vR(s=rn()){return yg(s)&&!!window.navigator?.standalone}function bR(){return g2()&&document.documentMode===10}function qb(s=rn()){return yg(s)||zb(s)||Bb(s)||Pb(s)||/windows phone/i.test(s)||Lb(s)}function Hb(s,e=[]){let i;switch(s){case"Browser":i=gv(rn());break;case"Worker":i=`${gv(rn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Tl}/${a}`}class ER{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function TR(s,e={}){return Nl(s,"GET","/v2/passwordPolicy",cu(s,e))}const AR=6;class SR{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??AR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class xR{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new ER(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=hs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await dh(this,{idToken:e}),a=await oi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(ds(this));const i=e?Zt(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TR(this),i=new SR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await _R(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&hs(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[hs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hu(s){return Zt(s)}class pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=A2(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wR(s){_g=s}function RR(s){return _g.loadJS(s)}function NR(){return _g.gapiScript}function CR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function IR(s,e){const i=Dm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(sr(c,e??{}))return o;ys(o,"already-initialized")}return i.initialize({options:e})}function DR(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(hs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function OR(s,e,i){const a=hu(s);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Gb(e),{host:d,port:g}=kR(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(sr(y,a.config.emulator)&&sr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,El(d)?(Uv(`${c}//${d}${_}`),Lv("Auth",!0)):MR()}function Gb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function kR(s){const e=Gb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:yv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:yv(d)}}}function yv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function MR(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Fb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,i){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function dl(s,e){return gg(s,"POST","/v1/accounts:signInWithIdp",cu(s,e))}const VR="http://localhost";class cr extends Fb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new cr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ys("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new cr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return dl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,dl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dl(e,i)}buildRequest(){const e={requestUri:VR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=nu(i)}return e}}class Qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fu extends Qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ra extends fu{constructor(){super("facebook.com")}static credential(e){return cr._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";class la extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return cr._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return la.credential(i,a)}catch{return null}}}la.GOOGLE_SIGN_IN_METHOD="google.com";la.PROVIDER_ID="google.com";class oa extends fu{constructor(){super("github.com")}static credential(e){return cr._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";class ua extends fu{constructor(){super("twitter.com")}static credential(e,i){return cr._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ua.credential(i,a)}catch{return null}}}ua.TWITTER_SIGN_IN_METHOD="twitter.com";ua.PROVIDER_ID="twitter.com";async function jR(s,e){return gg(s,"POST","/v1/accounts:signUp",cu(s,e))}class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await oi._fromIdTokenResponse(e,a,o),d=_v(a);return new vs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=_v(a);return new vs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function _v(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function UR(s){if(Qn(s.app))return Promise.reject(ds(s));const e=hu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new vs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await jR(e,{returnSecureToken:!0}),a=await vs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class gh extends bs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new gh(e,i,a,o)}}function Kb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(s,c,e,a):c})}async function LR(s,e,i=!1){const a=await Wo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return vs._forOperation(s,"link",a)}async function zR(s,e,i=!1){const{auth:a}=s;if(Qn(a.app))return Promise.reject(ds(a));const o="reauthenticate";try{const c=await Wo(s,Kb(a,o,e,s),i);_e(c.idToken,a,"internal-error");const d=pg(c.idToken);_e(d,a,"internal-error");const{sub:g}=d;return _e(s.uid===g,a,"user-mismatch"),vs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ys(a,"user-mismatch"),c}}async function PR(s,e,i=!1){if(Qn(s.app))return Promise.reject(ds(s));const a="signIn",o=await Kb(s,a,e),c=await vs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function BR(s,e){return gg(s,"POST","/v1/accounts:signInWithCustomToken",cu(s,e))}async function qR(s,e){if(Qn(s.app))return Promise.reject(ds(s));const i=hu(s),a=await BR(i,{token:e,returnSecureToken:!0}),o=await vs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function HR(s,e,i,a){return Zt(s).onIdTokenChanged(e,i,a)}function GR(s,e,i){return Zt(s).beforeAuthStateChanged(e,i)}function FR(s,e,i,a){return Zt(s).onAuthStateChanged(e,i,a)}const ph="__sak";class Yb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QR=1e3,KR=10;class $b extends Yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);bR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KR):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},QR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}$b.type="LOCAL";const YR=$b;class Xb extends Yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Xb.type="SESSION";const Jb=Xb;function $R(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await $R(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function vg(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class XR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=vg("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function JR(s){zi().location.href=s}function Zb(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function ZR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WR(){return navigator?.serviceWorker?.controller||null}function eN(){return Zb()?self:null}const Wb="firebaseLocalStorageDb",tN=1,yh="firebaseLocalStorage",eE="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function jh(s,e){return s.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function nN(){const s=indexedDB.deleteDatabase(Wb);return new du(s).toPromise()}function Sm(){const s=indexedDB.open(Wb,tN);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(yh,{keyPath:eE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(yh)?e(a):(a.close(),await nN(),e(await Sm()))})})}async function vv(s,e,i){const a=jh(s,!0).put({[eE]:e,value:i});return new du(a).toPromise()}async function iN(s,e){const i=jh(s,!1).get(e),a=await new du(i).toPromise();return a===void 0?null:a.value}function bv(s,e){const i=jh(s,!0).delete(e);return new du(i).toPromise()}const sN=800,aN=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>aN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(eN()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZR(),!this.activeServiceWorker)return;this.sender=new XR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await vv(e,ph,"1"),await bv(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>vv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>iN(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>bv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=jh(o,!1).getAll();return new du(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const rN=tE;new uu(3e4,6e4);function lN(s,e){return e?hs(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class bg extends Fb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function oN(s){return PR(s.auth,new bg(s),s.bypassAuthState)}function uN(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),zR(i,new bg(s),s.bypassAuthState)}async function cN(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),LR(i,new bg(s),s.bypassAuthState)}class nE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oN;case"linkViaPopup":case"linkViaRedirect":return cN;case"reauthViaPopup":case"reauthViaRedirect":return uN;default:ys(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hN=new uu(2e3,1e4);class ol extends nE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hN.get())};e()}}ol.currentPopupAction=null;const fN="pendingRedirect",Zc=new Map;class dN extends nE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const a=await mN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mN(s,e){const i=yN(e),a=pN(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function gN(s,e){Zc.set(s._key(),e)}function pN(s){return hs(s._redirectPersistence)}function yN(s){return Jc(fN,s.config.apiKey,s.name)}async function _N(s,e,i=!1){if(Qn(s.app))return Promise.reject(ds(s));const a=hu(s),o=lN(a,e),d=await new dN(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const vN=600*1e3;class bN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!iE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(e))}saveEventToCache(e){this.cachedEventUids.add(Ev(e)),this.lastProcessedEventTime=Date.now()}}function Ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function iE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function EN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(s);default:return!1}}async function TN(s,e={}){return Nl(s,"GET","/v1/projects",e)}const AN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function xN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await TN(s);for(const i of e)try{if(wN(i))return}catch{}ys(s,"unauthorized-domain")}function wN(s){const e=Tm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!SN.test(i))return!1;if(AN.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const RN=new uu(3e4,6e4);function Tv(){const s=zi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function NN(s){return new Promise((e,i)=>{function a(){Tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tv(),i(Li(s,"network-request-failed"))},timeout:RN.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)a();else{const o=CR("iframefcb");return zi()[o]=()=>{gapi.load?a():i(Li(s,"network-request-failed"))},RR(`${NR()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function CN(s){return Wc=Wc||NN(s),Wc}const IN=new uu(5e3,15e3),DN="__/auth/iframe",ON="emulator/auth/iframe",kN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VN(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?mg(e,ON):`https://${s.config.authDomain}/${DN}`,a={apiKey:e.apiKey,appName:s.name,v:Tl},o=MN.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${nu(a).slice(1)}`}async function jN(s){const e=await CN(s),i=zi().gapi;return _e(i,s,"internal-error"),e.open({where:document.body,url:VN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kN,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(s,"network-request-failed"),g=zi().setTimeout(()=>{c(d)},IN.get());function _(){zi().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const UN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,zN=600,PN="_blank",BN="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qN(s,e,i,a=LN,o=zN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...UN,width:a.toString(),height:o.toString(),top:c,left:d},y=rn().toLowerCase();i&&(g=Ub(y)?PN:i),Vb(y)&&(e=e||BN,_.scrollbars="yes");const T=Object.entries(_).reduce((w,[B,X])=>`${w}${B}=${X},`,"");if(vR(y)&&g!=="_self")return HN(e||"",g),new Av(null);const S=window.open(e||"",g,T);_e(S,s,"popup-blocked");try{S.focus()}catch{}return new Av(S)}function HN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const GN="__/auth/handler",FN="emulator/auth/handler",QN=encodeURIComponent("fac");async function Sv(s,e,i,a,o,c){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Tl,eventId:o};if(e instanceof Qb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",T2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof fu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),y=_?`#${QN}=${encodeURIComponent(_)}`:"";return`${KN(s)}?${nu(g).slice(1)}${y}`}function KN({config:s}){return s.emulator?mg(s,FN):`https://${s.authDomain}/${GN}`}const Jd="webStorageSupport";class YN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jb,this._completeRedirectFn=_N,this._overrideRedirectResult=gN}async _openPopup(e,i,a,o){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Sv(e,i,a,Tm(),o);return qN(e,c,vg())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await Sv(e,i,a,Tm(),o);return JR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await jN(e),a=new bN(e);return i.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Jd,{type:Jd},o=>{const c=o?.[0]?.[Jd];c!==void 0&&i(!!c),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return qb()||jb()||yg()}}const $N=YN;var xv="@firebase/auth",wv="1.12.0";class XN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function JN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZN(s){ml(new ar("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(s)},y=new xR(a,o,c,_);return DR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ml(new ar("auth-internal",e=>{const i=hu(e.getProvider("auth").getImmediate());return(a=>new XN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),da(xv,wv,JN(s)),da(xv,wv,"esm2020")}const WN=300,eC=jv("authIdTokenMaxAge")||WN;let Rv=null;const tC=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>eC)return;const o=i?.token;Rv!==o&&(Rv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nC(s=qv()){const e=Dm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=IR(s,{popupRedirectResolver:$N,persistence:[rN,YR,Jb]}),a=jv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=tC(c.toString());GR(i,d,()=>d(i.currentUser)),HR(i,g=>d(g))}}const o=Mv("auth");return o&&OR(i,`http://${o}`),i}function iC(){return document.getElementsByTagName("head")?.[0]??document}wR({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Li("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",iC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZN("Browser");var sC="firebase",aC="12.9.0";da(sC,aC,"app");const rC=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"PLACEHOLDER",authDomain:"PLACEHOLDER",projectId:"PLACEHOLDER",storageBucket:"PLACEHOLDER",messagingSenderId:"PLACEHOLDER",appId:"PLACEHOLDER"},sE=Bv(rC),Zd=nC(sE),Gn=zw(sE),Fn=typeof __app_id<"u"?__app_id:"default-app-id",Nv=typeof __initial_auth_token<"u"?__initial_auth_token:null;const aE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const lC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const oC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Cv=s=>{const e=oC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var uC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const hC=Se.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>Se.createElement("svg",{ref:_,...uC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:aE("lucide",o),...!c&&!cC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,T])=>Se.createElement(y,T)),...Array.isArray(c)?c:[c]]));const Me=(s,e)=>{const i=Se.forwardRef(({className:a,...o},c)=>Se.createElement(hC,{ref:c,iconNode:e,className:aE(`lucide-${lC(Cv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Cv(s),i};const fC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xm=Me("arrow-right",fC);const dC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],rE=Me("award",dC);const mC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gC=Me("bell",mC);const pC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eu=Me("book-open",pC);const yC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wm=Me("chevron-right",yC);const _C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Uh=Me("circle-check-big",_C);const vC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Rm=Me("circle-plus",vC);const bC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EC=Me("circle-question-mark",bC);const TC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Iv=Me("clock",TC);const AC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SC=Me("credit-card",AC);const xC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wC=Me("eye-off",xC);const RC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NC=Me("eye",RC);const CC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],IC=Me("file-text",CC);const DC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],OC=Me("heart",DC);const kC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],MC=Me("house",kC);const VC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],lE=Me("key",VC);const jC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Eg=Me("list",jC);const UC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oE=Me("loader-circle",UC);const LC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],zC=Me("log-in",LC);const PC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BC=Me("log-out",PC);const qC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],HC=Me("moon",qC);const GC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],FC=Me("panels-top-left",GC);const QC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KC=Me("pen-line",QC);const YC=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],$C=Me("quote",YC);const XC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JC=Me("save",XC);const ZC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WC=Me("settings",ZC);const eI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Tg=Me("shield-alert",eI);const tI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uE=Me("sparkles",tI);const nI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iI=Me("star",nI);const sI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aI=Me("sun",sI);const rI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lI=Me("target",rI);const oI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uI=Me("trash-2",oI);const cI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hI=Me("trending-up",cI);const fI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dI=Me("user-plus",fI);const mI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cE=Me("users",mI);const gI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pI=Me("x",gI);const yI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_I=Me("zap",yI),vI=({title:s,children:e,onClose:i,icon:a,color:o="blue"})=>b.jsxs("div",{className:"fixed inset-0 z-[100] bg-white flex flex-col animate-in slide-in-from-bottom-5 duration-300",children:[b.jsxs("div",{className:`p-6 bg-gradient-to-r from-${o}-600 to-${o}-700 text-white flex justify-between items-center shadow-md shrink-0`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[a&&b.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md border border-white/10",children:b.jsx(a,{size:24})}),b.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:s})]}),b.jsx("button",{onClick:i,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:b.jsx(pI,{size:28})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-12",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:e})})]}),bI=[{name:"Sarah Putri",role:"Siswa Kelas 12",text:"EduQuest bikin ujian jadi nggak kerasa tegang. Tampilannya keren!",avatar:"bg-pink-100 text-pink-600"},{name:"Pak Budi",role:"Guru Matematika",text:"Sangat membantu saya mengelola nilai siswa. Hemat waktu koreksi!",avatar:"bg-blue-100 text-blue-600"},{name:"Rian Pratama",role:"Mahasiswa",text:"Platform paling stabil yang pernah saya coba. Nggak ada lag.",avatar:"bg-purple-100 text-purple-600"}];function EI({handleAuthNavigation:s,activeModal:e,setActiveModal:i}){return b.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans flex flex-col overflow-x-hidden selection:bg-blue-100 relative",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#4f46e5 1px, transparent 1px), linear-gradient(to right, #4f46e5 1px, transparent 1px)",backgroundSize:"40px 40px"}}),b.jsx("div",{className:"absolute top-20 right-[-10%] w-[500px] h-[500px] bg-blue-400/10 rounded-full blur-[100px] animate-pulse"}),b.jsx("div",{className:"absolute bottom-20 left-[-10%] w-[600px] h-[600px] bg-indigo-400/10 rounded-full blur-[120px] animate-pulse delay-1000"})]}),b.jsx("div",{className:"bg-gradient-to-r from-blue-700 to-indigo-700 text-white text-xs font-bold text-center py-2.5 px-4 shadow-md relative z-20",children:b.jsxs("span",{className:"opacity-95 flex items-center justify-center gap-2",children:[b.jsx(uE,{size:12,className:"text-yellow-300"})," Platform Ujian #1 Pilihan Guru Indonesia - Gratis Selamanya!"]})}),b.jsxs("nav",{className:"sticky top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-white/50 py-4 px-6 md:px-12 flex justify-between items-center transition-all shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/20 text-white",children:b.jsx(eu,{size:24,strokeWidth:2.5})}),b.jsxs("span",{className:"font-extrabold text-2xl tracking-tight text-slate-800",children:["EduQuest",b.jsx("span",{className:"text-blue-600",children:"."})]}),b.jsx("div",{className:"hidden md:flex ml-10 gap-8 text-sm font-bold text-slate-500",children:["FAQ","Fitur","Harga"].map(a=>b.jsxs("button",{onClick:()=>i(a.toLowerCase().replace("faq","faq").replace("fitur","features").replace("harga","pricing")),className:"hover:text-blue-600 transition-colors relative group py-2",children:[a,b.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 transition-all group-hover:w-full rounded-full"})]},a))})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("button",{onClick:()=>s("login","student"),className:"hidden md:flex bg-white hover:bg-slate-50 text-slate-700 px-5 py-2.5 rounded-xl font-bold text-sm border border-slate-200 items-center gap-2 transition-all hover:shadow-md hover:-translate-y-0.5 group",children:[b.jsx(lE,{size:16,className:"text-blue-500 group-hover:rotate-45 transition-transform"})," Masukkan Kode"]}),b.jsx("button",{onClick:()=>s("login","teacher"),className:"text-slate-600 font-bold text-sm hover:text-blue-700 px-4 transition-colors",children:"Masuk"}),b.jsxs("button",{onClick:()=>s("register","teacher"),className:"bg-slate-900 hover:bg-black text-white px-6 py-2.5 rounded-xl font-bold text-sm shadow-lg shadow-slate-900/20 hover:-translate-y-0.5 transition-all flex items-center gap-2",children:["Daftar Gratis ",b.jsx(xm,{size:14})]})]})]}),b.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center px-4 py-24 relative z-10",children:b.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto space-y-8",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur border border-blue-100 rounded-full shadow-sm mb-2 animate-in fade-in slide-in-from-bottom-4 duration-700 hover:scale-105 transition-transform cursor-default select-none",children:[b.jsx("span",{className:"flex h-2 w-2 rounded-full bg-blue-500 animate-pulse"}),b.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Revolusi Pendidikan Digital"})]}),b.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold leading-tight text-slate-900 tracking-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100 drop-shadow-sm",children:["Belajar Tanpa Batas, ",b.jsx("br",{}),b.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",children:"Ujian Tanpa Cemas."})]}),b.jsx("p",{className:"text-slate-600 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200 font-medium",children:"Platform all-in-one yang menghubungkan guru dan siswa melalui asesmen interaktif, analisis mendalam, dan pengalaman belajar yang menyenangkan."}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 w-full max-w-lg mx-auto animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[b.jsxs("button",{onClick:()=>s("register","teacher"),className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 group",children:["Mulai Sekarang ",b.jsx(xm,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),b.jsx("button",{onClick:()=>alert("Hubungi Tim Sales kami untuk demo sekolah."),className:"w-full sm:w-auto bg-white text-slate-700 px-8 py-4 rounded-2xl font-bold text-lg hover:bg-slate-50 border border-slate-200 shadow-sm hover:shadow-md transition-all duration-300",children:"Hubungi Kami"})]})]})}),b.jsx("div",{className:"py-24 px-6 border-t border-slate-200 bg-white/60 backdrop-blur-md relative z-10",children:b.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h3",{className:"text-3xl font-extrabold text-slate-800 mb-3",children:"Kisah Sukses Pengguna"}),b.jsx("p",{className:"text-slate-500 font-medium text-lg",children:"Apa kata mereka tentang EduQuest?"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:bI.map((a,o)=>b.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-[0_8px_30px_rgba(0,0,0,0.04)] hover:-translate-y-2 transition-all duration-300 flex flex-col relative group",children:[b.jsx($C,{size:40,className:"text-blue-100 absolute top-6 right-6 group-hover:text-blue-200 transition-colors"}),b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-xl font-bold ${a.avatar}`,children:a.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:a.name}),b.jsx("p",{className:"text-sm text-slate-500 font-medium",children:a.role})]})]}),b.jsxs("p",{className:"text-slate-600 leading-relaxed flex-1 italic",children:['"',a.text,'"']}),b.jsx("div",{className:"flex gap-1 mt-6 text-yellow-400",children:[1,2,3,4,5].map(c=>b.jsx(iI,{size:16,fill:"currentColor"},c))})]},o))})]})}),e&&b.jsxs(vI,{title:e==="faq"?"FAQ & Tentang Kami":e==="features"?"Fitur Unggulan":"Info Harga",onClose:()=>i(null),icon:e==="faq"?EC:e==="features"?_I:SC,color:e==="faq"?"blue":e==="features"?"purple":"green",children:[e==="faq"&&b.jsxs("div",{className:"space-y-12",children:[b.jsx("div",{className:"space-y-4",children:[{q:"Apakah EduQuest benar-benar gratis?",a:"Ya! EduQuest berkomitmen untuk menyediakan akses pendidikan gratis untuk semua fitur dasar tanpa biaya tersembunyi."},{q:"Bagaimana cara guru mendaftar?",a:"Guru dapat mendaftar dengan mengklik tombol 'Daftar Gratis' dan memasukkan kode akses khusus: EduQuestGuru26."},{q:"Bisakah siswa melihat nilai mereka?",a:"Tentu, siswa memiliki dashboard pribadi untuk melihat riwayat nilai dan kemajuan mereka secara real-time."},{q:"Apakah perlu menginstal aplikasi?",a:"Tidak, EduQuest berbasis web dan dapat diakses dari perangkat apa pun (Laptop, Tablet, HP) melalui browser."}].map((a,o)=>b.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border border-slate-100 hover:border-blue-200 transition-colors",children:[b.jsxs("h4",{className:"font-bold text-slate-800 mb-2 flex items-center gap-2",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.q]}),b.jsx("p",{className:"text-slate-600 text-sm leading-relaxed ml-4",children:a.a})]},o))}),b.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 text-blue-900",children:b.jsx(OC,{size:200})}),b.jsxs("h3",{className:"text-2xl font-extrabold text-blue-900 mb-6 flex items-center gap-3 relative z-10",children:[b.jsx(cE,{size:28})," Kisah Tiga Sahabat"]}),b.jsxs("div",{className:"space-y-6 text-slate-700 leading-relaxed text-justify relative z-10 font-medium",children:[b.jsx("p",{children:"Pembuat website ini adalah tiga sahabat yang memiliki sebuah ide untuk menciptakan suatu aplikasi yang memudahkan guru dan siswa untuk berinteraksi secara real-time dan mengelola administrasi kelas tanpa kertas. Berawal dari diskusi sederhana mengenai tantangan pendidikan di era digital, kami menyadari bahwa teknologi seharusnya menjadi jembatan, bukan penghambat. Persahabatan kami yang solid menjadi fondasi kuat dalam menyatukan berbagai sudut pandang untuk membangun sebuah solusi yang tidak hanya fungsional, tetapi juga tepat sasaran bagi kebutuhan sekolah saat ini."}),b.jsx("p",{children:"Dalam proses pengembangannya, kami berkomitmen untuk menciptakan antarmuka yang ramah pengguna agar transisi menuju digitalisasi pendidikan terasa lebih ringan bagi siapa pun. Kami percaya bahwa setiap detik yang dihemat oleh guru dalam urusan administratif adalah waktu tambahan yang berharga untuk mendidik dan memberikan perhatian lebih kepada para siswa. Oleh karena itu, aplikasi ini dirancang sedemikian rupa untuk memangkas proses yang rumit menjadi rangkaian langkah yang intuitif dan efisien."}),b.jsx("p",{children:"Melalui platform ini, kami memiliki visi besar untuk menciptakan ekosistem belajar yang lebih inklusif dan terorganisir di seluruh Indonesia. Kami berharap inovasi kecil dari tiga sahabat ini dapat memberikan dampak besar dalam meningkatkan kualitas interaksi belajar-mengajar. Dengan memudahkan guru dan siswa untuk saling terhubung dan berbagi sumber daya secara praktis, kami optimis bahwa masa depan pendidikan kita akan menjadi jauh lebih dinamis, transparan, dan tentunya lebih maju."})]})]})]}),e==="features"&&b.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{title:"Ujian Real-time",desc:"Siswa mengerjakan soal secara bersamaan dengan hasil instan.",img:b.jsx(lI,{size:32,className:"text-purple-600"}),bg:"bg-purple-50"},{title:"Bank Soal",desc:"Simpan dan kelola ribuan soal untuk digunakan kembali.",img:b.jsx(Eg,{size:32,className:"text-blue-600"}),bg:"bg-blue-50"},{title:"Analisis Nilai",desc:"Laporan otomatis untuk setiap siswa dan kelas.",img:b.jsx(Award,{size:32,className:"text-yellow-600"}),bg:"bg-yellow-50"},{title:"Keamanan Anti-Cheat",desc:"Sistem satu kali pengerjaan untuk integritas ujian.",img:b.jsx(Tg,{size:32,className:"text-red-600"}),bg:"bg-red-50"}].map((a,o)=>b.jsxs("div",{className:"flex flex-col gap-3 p-8 rounded-3xl border border-slate-100 hover:shadow-xl transition-all group bg-white",children:[b.jsx("div",{className:`p-4 rounded-2xl w-fit ${a.bg} group-hover:scale-110 transition-transform`,children:a.img}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-800 text-xl mb-2",children:a.title}),b.jsx("p",{className:"text-slate-500 leading-relaxed",children:a.desc})]})]},o))}),e==="pricing"&&b.jsxs("div",{className:"text-center py-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] h-full flex flex-col justify-center",children:[b.jsx("div",{className:"w-32 h-32 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner animate-pulse ring-8 ring-green-50",children:b.jsx(CheckCircle,{size:64})}),b.jsx("h2",{className:"text-5xl font-black text-slate-800 mb-6 tracking-tight",children:"100% GRATIS"}),b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsx("p",{className:"text-xl text-slate-600 font-medium leading-relaxed px-4 italic",children:'"EduQuest Ini Bersifat Gratis dan Dapat Dipakai Oleh Siapapun, Dimanapun, dan Kapanpun."'})}),b.jsxs("div",{className:"mt-12 flex justify-center gap-4 flex-wrap",children:[b.jsxs("div",{className:"bg-green-50 text-green-700 px-6 py-3 rounded-xl font-bold border border-green-200 flex items-center gap-2 shadow-sm",children:[b.jsx(CheckCircle,{size:16})," Tanpa Iklan"]}),b.jsxs("div",{className:"bg-green-50 text-green-700 px-6 py-3 rounded-xl font-bold border border-green-200 flex items-center gap-2 shadow-sm",children:[b.jsx(CheckCircle,{size:16})," Fitur Lengkap"]}),b.jsxs("div",{className:"bg-green-50 text-green-700 px-6 py-3 rounded-xl font-bold border border-green-200 flex items-center gap-2 shadow-sm",children:[b.jsx(CheckCircle,{size:16})," Unlimited Siswa"]})]})]})]})]})}function TI({authMode:s,setAuthMode:e,loginRole:i,setLoginRole:a,loginForm:o,setLoginForm:c,handleAuth:d,errorMsg:g,successMsg:_,showPassword:y,setShowPassword:T,rememberMe:S,setRememberMe:w,loading:B,setView:X}){return b.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 relative overflow-hidden font-sans",children:b.jsxs("div",{className:"bg-white/90 backdrop-blur-xl w-full max-w-md rounded-[32px] shadow-2xl relative z-10 p-8 border border-white animate-in zoom-in-95 duration-300",children:[b.jsx("button",{onClick:()=>X("landing"),className:"absolute top-8 left-8 text-slate-400 hover:text-slate-800 transition flex items-center gap-1 text-sm font-bold group",children:b.jsx("div",{className:"p-1 rounded-full group-hover:bg-slate-100 transition",children:b.jsx(wm,{className:"rotate-180",size:18})})}),b.jsxs("div",{className:"text-center mt-8 mb-8",children:[b.jsx("div",{className:"inline-flex p-4 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-2xl mb-5 shadow-lg shadow-blue-500/30",children:s==="login"?b.jsx(zC,{size:28,strokeWidth:2.5}):b.jsx(dI,{size:28,strokeWidth:2.5})}),b.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 tracking-tight",children:s==="login"?"Selamat Datang":"Buat Akun"}),b.jsx("p",{className:"text-slate-500 text-sm mt-2 font-medium",children:"Silakan masukkan detail Anda untuk melanjutkan."})]}),b.jsxs("div",{className:"flex bg-slate-100/80 p-1.5 rounded-2xl mb-8 border border-slate-200",children:[b.jsx("button",{onClick:()=>a("student"),className:`flex-1 py-3 text-sm font-bold rounded-xl transition-all shadow-sm ${i==="student"?"bg-white text-blue-700 shadow":"text-slate-500 hover:text-slate-700 shadow-none bg-transparent"}`,children:"Siswa"}),b.jsx("button",{onClick:()=>a("teacher"),className:`flex-1 py-3 text-sm font-bold rounded-xl transition-all shadow-sm ${i==="teacher"?"bg-white text-blue-700 shadow":"text-slate-500 hover:text-slate-700 shadow-none bg-transparent"}`,children:"Guru"})]}),b.jsxs("form",{onSubmit:d,className:"space-y-5",children:[b.jsxs("div",{className:"group",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1.5 block tracking-wide group-focus-within:text-blue-600 transition-colors",children:"Nama Lengkap"}),b.jsx("input",{type:"text",required:!0,className:"w-full p-4 border border-slate-200 rounded-2xl bg-slate-50 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all text-slate-800 font-semibold placeholder:text-slate-400 placeholder:font-normal",placeholder:"Contoh: Budi Santoso",value:o.name,onChange:W=>c({...o,name:W.target.value})})]}),s==="register"&&i==="student"&&b.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300 group",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1.5 block tracking-wide group-focus-within:text-blue-600 transition-colors",children:"Kelas"}),b.jsx("input",{type:"text",required:!0,className:"w-full p-4 border border-slate-200 rounded-2xl bg-slate-50 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all text-slate-800 font-semibold placeholder:text-slate-400 placeholder:font-normal",placeholder:"Format: 10A, 5B, 12C",value:o.classroom,onChange:W=>c({...o,classroom:W.target.value})})]}),b.jsxs("div",{className:"group",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1.5 block tracking-wide group-focus-within:text-blue-600 transition-colors",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:y?"text":"password",required:!0,className:"w-full p-4 border border-slate-200 rounded-2xl bg-slate-50 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all text-slate-800 font-semibold placeholder:text-slate-400 placeholder:font-normal",placeholder:"",value:o.password,onChange:W=>c({...o,password:W.target.value})}),b.jsx("button",{type:"button",onClick:()=>T(!y),className:"absolute right-4 top-4 text-slate-400 hover:text-slate-600 transition-colors p-1",children:y?b.jsx(wC,{size:20}):b.jsx(NC,{size:20})})]})]}),s==="register"&&i==="teacher"&&b.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300",children:[b.jsxs("label",{className:"text-xs font-bold text-indigo-600 uppercase ml-1 mb-1.5 block tracking-wide flex items-center gap-1",children:[b.jsx(uE,{size:12})," Kode Akses Guru"]}),b.jsx("input",{type:"password",required:!0,className:"w-full p-4 border border-indigo-200 rounded-2xl bg-indigo-50/30 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all text-slate-800 font-semibold placeholder:text-slate-400 placeholder:font-normal",placeholder:"Wajib untuk guru...",value:o.teacherCode,onChange:W=>c({...o,teacherCode:W.target.value})})]}),g&&b.jsxs("div",{className:"text-red-600 text-sm bg-red-50 p-4 rounded-2xl flex items-center gap-3 font-semibold border border-red-100 animate-in slide-in-from-top-2",children:[b.jsx(Tg,{size:18,className:"shrink-0"})," ",g]}),_&&b.jsxs("div",{className:"text-green-600 text-sm bg-green-50 p-4 rounded-2xl flex items-center gap-3 font-semibold border border-green-100 animate-in slide-in-from-top-2",children:[b.jsx(Uh,{size:18,className:"shrink-0"})," ",_]}),b.jsx("button",{type:"submit",disabled:B,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-4 rounded-2xl font-bold shadow-xl shadow-blue-500/20 transition-all transform active:scale-[0.98] text-lg mt-4 flex justify-center items-center gap-2",children:B?b.jsx(oE,{className:"animate-spin",size:20}):s==="login"?"Masuk Aplikasi":"Buat Akun Baru"}),s==="login"&&b.jsx("div",{className:"flex items-center justify-center pt-2",children:b.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-500 cursor-pointer font-medium select-none hover:text-slate-800 transition-colors",children:[b.jsx("input",{type:"checkbox",checked:S,onChange:W=>w(W.target.checked),className:"rounded text-blue-600 focus:ring-blue-500 w-4 h-4 border-slate-300"}),"Ingat saya di perangkat ini"]})})]}),b.jsxs("div",{className:"p-4 text-center text-sm text-slate-500 mt-6 border-t border-slate-100 pt-6",children:[s==="login"?"Belum punya akun? ":"Sudah punya akun? ",b.jsx("button",{onClick:()=>e(s==="login"?"register":"login"),className:"text-blue-600 font-extrabold hover:underline transition decoration-2 underline-offset-4",children:s==="login"?"Daftar Sekarang":"Login"})]})]})})}function AI({appUser:s,classes:e,selectedClass:i,setSelectedClass:a,isCreatingClass:o,setIsCreatingClass:c,newClassName:d,setNewClassName:g,handleCreateClass:_,createdQuizzes:y,quizResults:T,rosterForm:S,setRosterForm:w,handleAddStudentToClass:B,handleLogout:X,setView:W}){return b.jsxs("div",{className:"min-h-screen bg-slate-50 flex font-sans",children:[b.jsxs("aside",{className:"w-72 bg-white border-r border-slate-200 flex flex-col h-screen sticky top-0 z-20 shadow-[4px_0_24px_rgba(0,0,0,0.02)]",children:[b.jsxs("div",{className:"p-8 flex items-center gap-3 text-slate-800",children:[b.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-xl",children:b.jsx(eu,{size:24})}),b.jsx("span",{className:"font-extrabold text-xl tracking-tight",children:"EduQuest"})]}),b.jsxs("div",{className:"flex-1 px-4 py-2 space-y-2 overflow-y-auto",children:[b.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest px-4 mb-2 mt-4",children:"Menu Utama"}),b.jsxs("button",{onClick:()=>a(null),className:`w-full text-left px-4 py-3.5 rounded-xl flex items-center gap-3 transition-all duration-200 font-bold ${i?"text-slate-500 hover:bg-slate-50 hover:text-slate-800":"bg-blue-50 text-blue-700 shadow-sm"}`,children:[b.jsx(FC,{size:20})," Dashboard"]}),b.jsxs("div",{className:"flex justify-between items-center px-4 mt-8 mb-2",children:[b.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Kelas Saya"}),b.jsx("button",{onClick:()=>c(!o),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded-lg transition",children:b.jsx(Rm,{size:16})})]}),o&&b.jsxs("div",{className:"px-2 mb-2 flex gap-2 animate-in slide-in-from-top-2",children:[b.jsx("input",{autoFocus:!0,className:"w-full text-sm border border-slate-200 p-2.5 rounded-xl focus:border-blue-500 outline-none shadow-sm font-medium",placeholder:"Nama Kelas...",value:d,onChange:J=>g(J.target.value)}),b.jsx("button",{onClick:_,className:"bg-green-500 text-white p-2.5 rounded-xl hover:bg-green-600 shadow-sm transition",children:b.jsx(Uh,{size:18})})]}),b.jsx("div",{className:"space-y-1",children:e.map(J=>b.jsxs("button",{onClick:()=>a(J),className:`w-full text-left px-4 py-3 rounded-xl flex items-center justify-between group transition-all duration-200 ${i?.id===J.id?"bg-white border border-blue-200 shadow-sm text-blue-700 font-bold":"text-slate-500 hover:bg-slate-50 hover:text-slate-800 font-medium"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${i?.id===J.id?"bg-blue-500":"bg-slate-300 group-hover:bg-blue-400"} transition-colors`}),b.jsx("span",{className:"truncate w-32",children:J.name})]}),i?.id===J.id&&b.jsx(wm,{size:16,className:"text-blue-500"})]},J.id))})]}),b.jsxs("div",{className:"p-4 m-4 bg-slate-50 rounded-2xl border border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold shadow-md",children:s?.name.charAt(0)}),b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("div",{className:"font-bold text-slate-800 text-sm truncate",children:s?.name}),b.jsx("div",{className:"text-xs text-slate-500",children:"Guru Pengajar"})]})]}),b.jsxs("button",{onClick:X,className:"flex gap-2 text-red-600 hover:text-white hover:bg-red-500 text-xs font-bold items-center justify-center w-full py-2.5 rounded-xl transition-all duration-200 border border-red-100 hover:border-red-500",children:[b.jsx(BC,{size:14})," Keluar Aplikasi"]})]})]}),b.jsx("main",{className:"flex-1 p-10 overflow-y-auto",children:i?b.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-200 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("div",{className:"flex items-center gap-3 mb-2",children:b.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold uppercase tracking-wide",children:"Kelas Aktif"})}),b.jsx("h2",{className:"text-4xl font-extrabold text-slate-800 tracking-tight",children:i.name}),b.jsxs("p",{className:"text-slate-500 font-medium mt-2 flex items-center gap-2",children:[b.jsx(cE,{size:18})," ",i.students?.length||0," Siswa Terdaftar"]})]}),b.jsxs("div",{className:"flex gap-2 bg-slate-50 p-2 rounded-2xl border border-slate-200",children:[b.jsx("input",{className:"bg-transparent border-none outline-none p-2 w-40 text-sm font-medium placeholder:text-slate-400",placeholder:"Nama Siswa",value:S.name,onChange:J=>w({...S,name:J.target.value})}),b.jsx("div",{className:"w-px bg-slate-200 my-1"}),b.jsx("input",{className:"bg-transparent border-none outline-none p-2 w-24 text-sm font-medium placeholder:text-slate-400",placeholder:"Kelas",value:S.classroom,onChange:J=>w({...S,classroom:J.target.value})}),b.jsx("button",{onClick:()=>B(i.id,i.students),className:"bg-blue-600 text-white px-4 rounded-xl font-bold text-sm hover:bg-blue-700 shadow-md transition",children:"Tambah"})]})]}),b.jsxs("div",{className:"bg-white rounded-[32px] shadow-sm border border-slate-200 overflow-hidden",children:[b.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:b.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[b.jsx(rE,{className:"text-amber-500"})," Buku Nilai"]})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"bg-white text-slate-500 font-bold border-b border-slate-100",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-5 w-32 bg-slate-50/30",children:"Kelas"}),b.jsx("th",{className:"p-5 bg-slate-50/30",children:"Nama Lengkap"}),y.filter(J=>J.assignedClassIds?.includes(i.id)).map(J=>b.jsx("th",{className:"p-5 text-center border-l border-slate-100 min-w-[120px]",children:b.jsx("div",{className:"truncate w-24 mx-auto",title:J.title,children:J.title})},J.id))]})}),b.jsx("tbody",{className:"divide-y divide-slate-50",children:(i.students||[]).length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"100%",className:"p-12 text-center text-slate-400 font-medium italic bg-slate-50/20",children:"Belum ada siswa. Tambahkan di panel atas."})}):(i.students||[]).map((J,he)=>b.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[b.jsx("td",{className:"p-5 text-slate-500 font-mono font-medium",children:J.classroom}),b.jsx("td",{className:"p-5 font-bold text-slate-700 group-hover:text-blue-700 transition",children:J.name}),y.filter(ge=>ge.assignedClassIds?.includes(i.id)).map(ge=>{const fe=T.find(Re=>Re.quizId===ge.id&&Re.studentName.toLowerCase()===J.name.toLowerCase());return b.jsx("td",{className:"p-5 text-center border-l border-slate-100",children:fe?b.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-bold border ${fe.score>=70?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:fe.score}):b.jsx("span",{className:"text-slate-300",children:"-"})},ge.id)})]},he))})]})})]})]}):b.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-[32px] p-12 flex flex-col md:flex-row justify-between items-center shadow-xl shadow-blue-900/10 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("h2",{className:"text-4xl font-extrabold mb-3 tracking-tight",children:"Buat Ujian Baru"}),b.jsx("p",{className:"text-blue-100 text-lg opacity-90 max-w-xl font-medium",children:"Desain soal interaktif dan bagikan ke siswa dalam hitungan menit."})]}),b.jsxs("button",{onClick:()=>W("create-quiz"),className:"relative z-10 mt-6 md:mt-0 bg-white text-blue-700 px-8 py-4 rounded-2xl font-bold shadow-lg hover:scale-105 transition-transform flex gap-3 items-center text-lg",children:[b.jsx(Rm,{size:20})," Mulai Buat"]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"font-bold text-slate-800 text-xl mb-6 flex items-center gap-2",children:[b.jsx(Eg,{className:"text-blue-600"})," Perpustakaan Quiz Saya"]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.length===0?b.jsxs("div",{className:"col-span-full p-16 text-center text-slate-400 border-2 border-dashed border-slate-200 rounded-[32px] bg-slate-50/50",children:[b.jsx(eu,{size:48,className:"mx-auto mb-4 opacity-20"}),b.jsx("p",{className:"font-medium",children:"Belum ada quiz yang dibuat."})]}):y.map(J=>b.jsxs("div",{className:"bg-white p-6 rounded-[24px] border border-slate-100 shadow-[0_4px_20px_rgba(0,0,0,0.03)] hover:shadow-[0_8px_30px_rgba(0,0,0,0.06)] hover:-translate-y-1 transition-all duration-300 group cursor-default flex flex-col justify-between h-48",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsx("div",{className:"flex gap-2",children:J.assignedClassIds?.length?b.jsx("span",{className:"text-[10px] uppercase tracking-wider bg-blue-50 text-blue-600 border border-blue-100 px-2 py-1 rounded-lg font-bold",children:"Ditugaskan"}):b.jsx("span",{className:"text-[10px] uppercase tracking-wider bg-slate-100 text-slate-500 border border-slate-200 px-2 py-1 rounded-lg font-bold",children:"Publik"})}),b.jsx("div",{className:"font-mono bg-slate-900 text-white px-2 py-1 rounded-lg text-xs font-bold tracking-widest",children:J.code})]}),b.jsx("h4",{className:"font-bold text-xl text-slate-800 group-hover:text-blue-600 transition-colors line-clamp-2 leading-snug",children:J.title})]}),b.jsxs("div",{className:"pt-4 border-t border-slate-50 flex justify-between items-center text-slate-400 text-sm font-medium",children:[b.jsxs("span",{children:[J.questions.length," Soal"]}),b.jsxs("span",{className:"flex items-center gap-1 group-hover:translate-x-1 transition-transform text-blue-600 opacity-0 group-hover:opacity-100",children:["Detail ",b.jsx(wm,{size:14})]})]})]},J.id))})]})]})})]})}function SI({appUser:s,studentTab:e,setStudentTab:i,darkMode:a,setDarkMode:o,studentHistory:c,handleJoinQuiz:d,roomCode:g,setRoomCode:_,errorMsg:y,handleLogout:T}){const S=a?"bg-slate-900 text-slate-100":"bg-slate-50 text-slate-800",w=a?"bg-slate-800 border-slate-700 shadow-slate-900/50":"bg-white border-slate-200 shadow-sm",B=a?"text-slate-400":"text-slate-500",X=a?"text-white":"text-slate-800";return b.jsxs("div",{className:`min-h-screen font-sans flex transition-colors duration-300 ${S}`,children:[b.jsxs("aside",{className:`w-64 border-r flex flex-col sticky top-0 h-screen z-20 transition-colors duration-300 ${a?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`,children:[b.jsxs("div",{className:`p-6 flex items-center gap-3 border-b ${a?"border-slate-800":"border-slate-100"}`,children:[b.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-xl shadow-lg",children:b.jsx(eu,{size:20})}),b.jsx("span",{className:`font-extrabold text-lg ${X}`,children:"EduQuest"})]}),b.jsxs("div",{className:"p-4 space-y-2",children:[b.jsx("div",{className:`text-xs font-bold uppercase tracking-widest px-4 mb-2 mt-4 ${B}`,children:"Menu"}),b.jsxs("button",{onClick:()=>i("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${e==="dashboard"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":`${B} hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:[b.jsx(MC,{size:18})," Dashboard"]}),b.jsxs("button",{onClick:()=>i("results"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${e==="results"?"bg-blue-600 text-white shadow-lg":`${B} hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:[b.jsx(IC,{size:18})," Hasil Ujian"]}),b.jsxs("button",{onClick:()=>i("activity"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${e==="activity"?"bg-blue-600 text-white shadow-lg":`${B} hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:[b.jsx(Iv,{size:18})," Aktivitas"]}),b.jsxs("button",{onClick:()=>i("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${e==="settings"?"bg-blue-600 text-white shadow-lg":`${B} hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:[b.jsx(WC,{size:18})," Pengaturan"]})]})]}),b.jsxs("main",{className:"flex-1 p-8 overflow-y-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-8",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:`text-2xl font-extrabold ${X}`,children:["Halo, ",s?.name," "]}),b.jsxs("p",{className:`font-medium ${B}`,children:["Kelas: ",s?.classroom,"  Selamat Belajar!"]})]}),b.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold border shadow-sm ${a?"bg-slate-700 text-slate-200 border-slate-600":"bg-slate-200 text-slate-500 border-white"}`,children:s?.name.charAt(0)})]}),e==="dashboard"&&b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4 mb-2",children:[b.jsxs("div",{className:`p-6 rounded-2xl border shadow-sm flex items-center gap-4 ${w}`,children:[b.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:b.jsx(Uh,{size:24})}),b.jsxs("div",{children:[b.jsx("p",{className:`text-sm font-bold uppercase ${B}`,children:"Ujian Selesai"}),b.jsx("p",{className:`text-2xl font-extrabold ${X}`,children:c.length})]})]}),b.jsxs("div",{className:`p-6 rounded-2xl border shadow-sm flex items-center gap-4 ${w}`,children:[b.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-xl",children:b.jsx(hI,{size:24})}),b.jsxs("div",{children:[b.jsx("p",{className:`text-sm font-bold uppercase ${B}`,children:"Rata-rata Nilai"}),b.jsx("p",{className:`text-2xl font-extrabold ${X}`,children:c.length>0?Math.round(c.reduce((W,J)=>W+J.score,0)/c.length):0})]})]}),b.jsxs("div",{className:`p-6 rounded-2xl border shadow-sm flex items-center gap-4 ${w}`,children:[b.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-xl",children:b.jsx(Iv,{size:24})}),b.jsxs("div",{children:[b.jsx("p",{className:`text-sm font-bold uppercase ${B}`,children:"Terakhir Aktif"}),b.jsx("p",{className:`text-sm font-bold ${X}`,children:new Date().toLocaleDateString()})]})]})]}),b.jsx("div",{className:"lg:col-span-2 space-y-6",children:b.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-[32px] p-8 text-white shadow-xl shadow-blue-500/20 relative overflow-hidden",children:[b.jsxs("div",{className:"relative z-10",children:[b.jsx("h2",{className:"text-3xl font-extrabold mb-2",children:"Siap Ujian?"}),b.jsx("p",{className:"text-blue-100 mb-6 font-medium",children:"Masukkan kode unik dari gurumu untuk mulai."}),b.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1 group",children:[b.jsx(lE,{className:"absolute left-4 top-4 text-slate-400",size:20}),b.jsx("input",{className:"w-full pl-12 pr-4 py-4 rounded-xl text-slate-800 font-mono text-xl font-bold uppercase tracking-widest outline-none focus:ring-4 focus:ring-blue-400/50 transition bg-white",placeholder:"KODE...",maxLength:6,value:g,onChange:W=>_(W.target.value.toUpperCase())})]}),b.jsx("button",{type:"submit",className:"bg-slate-900 hover:bg-black text-white font-bold px-8 rounded-xl transition shadow-lg",children:"MASUK"})]}),y&&b.jsxs("div",{className:"mt-4 bg-red-500/20 border border-red-400/30 text-white px-4 py-2 rounded-lg font-bold text-sm inline-flex items-center gap-2",children:[b.jsx(Tg,{size:14})," ",y]})]}),b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"})]})}),b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-amber-50 p-6 rounded-[24px] border border-amber-100",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 text-amber-700 font-bold",children:[b.jsx(gC,{size:18})," Pengumuman"]}),b.jsx("p",{className:"text-sm text-amber-800 leading-relaxed",children:"Jangan lupa mengecek jadwal ujian semester depan. Tetap semangat belajar!"})]})})]}),e==="results"&&b.jsxs("div",{className:`rounded-[24px] border overflow-hidden ${w}`,children:[b.jsx("div",{className:`p-6 border-b flex justify-between items-center ${a?"border-slate-700":"border-slate-100"}`,children:b.jsx("h3",{className:`font-bold text-lg ${X}`,children:"Daftar Nilai Ujian"})}),b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:`text-xs font-bold uppercase border-b ${a?"bg-slate-800 text-slate-400 border-slate-700":"bg-slate-50 text-slate-500 border-slate-100"}`,children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4",children:"Judul Quiz"}),b.jsx("th",{className:"px-6 py-4",children:"Kode"}),b.jsx("th",{className:"px-6 py-4",children:"Tanggal"}),b.jsx("th",{className:"px-6 py-4 text-right",children:"Nilai"})]})}),b.jsx("tbody",{className:`divide-y text-sm ${a?"divide-slate-700":"divide-slate-50"}`,children:c.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"4",className:`p-8 text-center italic ${B}`,children:"Belum ada data nilai."})}):c.map((W,J)=>b.jsxs("tr",{className:`transition ${a?"hover:bg-slate-700/50":"hover:bg-slate-50/50"}`,children:[b.jsx("td",{className:`px-6 py-4 font-bold ${X}`,children:W.quizTitle}),b.jsx("td",{className:`px-6 py-4 font-mono ${B}`,children:W.quizCode}),b.jsx("td",{className:`px-6 py-4 ${B}`,children:W.timestamp?new Date(W.timestamp.seconds*1e3).toLocaleDateString():"-"}),b.jsx("td",{className:"px-6 py-4 text-right",children:b.jsx("span",{className:`px-3 py-1 rounded-lg font-bold text-xs ${W.score>=70?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:W.score})})]},J))})]})]}),e==="activity"&&b.jsxs("div",{className:"max-w-3xl",children:[b.jsx("h3",{className:`font-bold text-lg mb-6 ${X}`,children:"Timeline Aktivitas"}),b.jsx("div",{className:"space-y-6",children:c.length===0?b.jsx("p",{className:B,children:"Belum ada aktivitas tercatat."}):c.map((W,J)=>b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:`w-3 h-3 rounded-full ${W.score>=70?"bg-green-500":"bg-blue-500"}`}),J!==c.length-1&&b.jsx("div",{className:`w-0.5 flex-1 my-1 ${a?"bg-slate-700":"bg-slate-200"}`})]}),b.jsx("div",{className:`flex-1 p-4 rounded-xl border ${w}`,children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h4",{className:`font-bold ${X}`,children:W.quizTitle}),b.jsxs("p",{className:`text-xs ${B}`,children:["Menyelesaikan ujian dengan kode ",b.jsx("span",{className:"font-mono font-bold",children:W.quizCode})]})]}),b.jsx("span",{className:`text-xs font-bold ${B}`,children:W.timestamp?new Date(W.timestamp.seconds*1e3).toLocaleDateString():"Baru saja"})]})})]},J))})]}),e==="settings"&&b.jsxs("div",{className:"max-w-2xl space-y-6",children:[b.jsxs("div",{className:`p-6 rounded-2xl border ${w}`,children:[b.jsx("h3",{className:`font-bold text-lg mb-4 ${X}`,children:"Tampilan"}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-lg ${a?"bg-slate-700 text-yellow-400":"bg-slate-100 text-slate-600"}`,children:a?b.jsx(HC,{size:20}):b.jsx(aI,{size:20})}),b.jsxs("div",{children:[b.jsx("p",{className:`font-bold ${X}`,children:"Mode Gelap"}),b.jsx("p",{className:`text-xs ${B}`,children:"Ganti tampilan antarmuka"})]})]}),b.jsx("button",{onClick:()=>o(!a),className:`w-12 h-6 rounded-full transition-colors relative ${a?"bg-blue-600":"bg-slate-300"}`,children:b.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${a?"left-7":"left-1"}`})})]})]}),b.jsxs("div",{className:`p-6 rounded-2xl border ${w}`,children:[b.jsx("h3",{className:`font-bold text-lg mb-4 ${X}`,children:"Akun Saya"}),b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:s?.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("p",{className:`font-bold text-lg ${X}`,children:s?.name}),b.jsxs("p",{className:`text-sm ${B}`,children:["Siswa  Kelas ",s?.classroom]})]})]}),b.jsx("button",{onClick:T,className:"w-full py-3 border border-red-200 text-red-500 font-bold rounded-xl hover:bg-red-50 transition",children:"Keluar Aplikasi"})]})]})]})]})}function xI({quizTitle:s,setQuizTitle:e,classes:i,selectedClassIds:a,setSelectedClassIds:o,handleSaveQuiz:c,setView:d,currentQ:g,setCurrentQ:_,addQuestionToLocalList:y,questions:T,setQuestions:S}){return b.jsx("div",{className:"min-h-screen bg-slate-50 p-6 flex justify-center font-sans items-center",children:b.jsxs("div",{className:"w-full max-w-7xl bg-white rounded-[40px] shadow-2xl border border-slate-200 flex flex-col md:flex-row overflow-hidden h-[85vh]",children:[b.jsxs("div",{className:"md:w-1/3 bg-slate-50/50 p-10 border-r border-slate-200 flex flex-col h-full",children:[b.jsxs("div",{className:"mb-8",children:[b.jsxs("h2",{className:"text-2xl font-extrabold flex items-center gap-3 text-slate-800 mb-2",children:[b.jsx("div",{className:"p-2.5 bg-blue-600 rounded-xl text-white shadow-lg shadow-blue-200",children:b.jsx(KC,{size:20})})," Editor Quiz"]}),b.jsx("p",{className:"text-slate-500 text-sm font-medium pl-14",children:"Konfigurasi detail ujian Anda."})]}),b.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto pr-2",children:[b.jsxs("div",{className:"group",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2 block group-focus-within:text-blue-600 transition-colors",children:"Judul Quiz"}),b.jsx("input",{className:"w-full border border-slate-200 bg-white p-4 rounded-2xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none font-bold text-lg text-slate-800 transition-all placeholder:font-normal placeholder:text-slate-300",value:s,onChange:w=>e(w.target.value),placeholder:"Contoh: PH Matematika..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-3 block",children:"Tugaskan ke Kelas"}),b.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-2xl p-3 shadow-sm",children:[i.length===0&&b.jsx("div",{className:"p-6 text-center text-xs text-slate-400 font-medium italic",children:"Belum ada kelas dibuat."}),i.map(w=>b.jsxs("label",{className:`flex gap-3 items-center p-3 rounded-xl cursor-pointer transition-all ${a.includes(w.id)?"bg-blue-50 border border-blue-100":"hover:bg-slate-50 border border-transparent"}`,children:[b.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-md text-blue-600 focus:ring-blue-500 border-slate-300",checked:a.includes(w.id),onChange:B=>B.target.checked?o([...a,w.id]):o(a.filter(X=>X!==w.id))})," ",b.jsx("span",{className:`text-sm font-bold ${a.includes(w.id)?"text-blue-700":"text-slate-600"}`,children:w.name})]},w.id))]}),b.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium bg-slate-100 inline-block px-2 py-1 rounded-lg",children:"*Kosongkan untuk akses publik via kode."})]})]}),b.jsxs("div",{className:"pt-6 border-t border-slate-200 mt-auto grid gap-3",children:[b.jsxs("button",{onClick:c,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-4 rounded-2xl font-bold shadow-xl shadow-blue-200 hover:shadow-blue-300 hover:-translate-y-0.5 transition-all flex justify-center items-center gap-2 text-lg",children:[b.jsx(JC,{size:20})," Simpan & Terbitkan"]}),b.jsx("button",{onClick:()=>d("teacher-dash"),className:"w-full text-slate-500 text-sm font-bold hover:text-slate-800 hover:bg-slate-100 py-3 rounded-xl transition",children:"Batalkan"})]})]}),b.jsxs("div",{className:"md:w-2/3 p-10 bg-white overflow-y-auto relative",children:[b.jsxs("div",{className:"mb-10 p-8 border-2 border-dashed border-blue-200 rounded-[32px] bg-blue-50/20 hover:bg-blue-50/40 transition-colors group",children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"text-xs font-extrabold text-blue-600 uppercase mb-3 block tracking-widest",children:"Pertanyaan Baru"}),b.jsx("textarea",{className:"w-full p-5 border border-slate-200 rounded-2xl mb-4 bg-white focus:ring-4 focus:ring-blue-100 focus:border-blue-400 outline-none resize-none font-bold text-lg text-slate-800 placeholder:text-slate-300 transition-all shadow-sm group-hover:border-blue-300",rows:"2",placeholder:"Tulis pertanyaan di sini...",value:g.question,onChange:w=>_({...g,question:w.target.value})})]}),b.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:g.options.map((w,B)=>b.jsxs("div",{className:"flex gap-3 items-center group/opt",children:[b.jsx("div",{onClick:()=>_({...g,answer:w}),className:`w-12 h-12 flex shrink-0 items-center justify-center rounded-xl cursor-pointer text-white font-bold transition-all shadow-md hover:scale-105 active:scale-95 ${g.answer===w&&w!==""?"bg-green-500 ring-4 ring-green-100":"bg-slate-200 text-slate-400 hover:bg-slate-300"}`,children:String.fromCharCode(65+B)}),b.jsx("input",{className:`w-full border p-3.5 rounded-xl text-sm outline-none font-medium transition-all ${g.answer===w&&w!==""?"border-green-500 bg-green-50 text-green-800":"border-slate-200 focus:border-blue-400"}`,placeholder:`Pilihan ${String.fromCharCode(65+B)}`,value:w,onChange:X=>{const W=[...g.options];W[B]=X.target.value,_({...g,options:W,answer:g.answer===w?X.target.value:g.answer})}})]},B))}),b.jsxs("button",{onClick:y,className:"w-full bg-blue-50 hover:bg-blue-100 text-blue-600 font-bold py-4 rounded-2xl text-sm transition flex items-center justify-center gap-2 border border-blue-100 hover:border-blue-200",children:[b.jsx(Rm,{size:18})," Tambahkan ke Daftar Soal"]})]}),b.jsx("div",{className:"space-y-4",children:T.length===0?b.jsxs("div",{className:"text-center py-20 opacity-40 select-none",children:[b.jsx(Eg,{size:64,className:"mx-auto mb-4 text-slate-300"}),b.jsx("p",{className:"text-lg font-bold text-slate-400",children:"Bank soal masih kosong."}),b.jsx("p",{className:"text-sm text-slate-300",children:"Mulai tambahkan pertanyaan di atas."})]}):T.map((w,B)=>b.jsxs("div",{className:"bg-white border border-slate-100 p-6 rounded-[24px] flex justify-between items-start shadow-sm hover:shadow-lg hover:border-blue-200 transition-all group animate-in slide-in-from-bottom-2 duration-300",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("span",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:B+1}),b.jsx("span",{className:"font-bold text-lg text-slate-800",children:w.question})]}),b.jsx("div",{className:"pl-11",children:b.jsxs("span",{className:"text-xs font-bold text-green-700 bg-green-100 px-3 py-1.5 rounded-lg border border-green-200 inline-flex items-center gap-1",children:[b.jsx(Uh,{size:12})," Jawaban: ",w.answer]})})]}),b.jsx("button",{onClick:()=>{const X=[...T];X.splice(B,1),S(X)},className:"text-slate-300 hover:text-red-500 p-3 rounded-xl hover:bg-red-50 transition",children:b.jsx(uI,{size:20})})]},B))})]})]})})}function wI({quizFinished:s,activeQuiz:e,score:i,currentQuestionIdx:a,selectedAnswer:o,setSelectedAnswer:c,handleNextQuestion:d,setView:g,setRoomCode:_,setStudentTab:y}){if(s)return b.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6 text-center font-sans",children:b.jsxs("div",{className:"bg-white p-12 rounded-[40px] shadow-2xl max-w-md w-full border border-white animate-in zoom-in duration-300",children:[b.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-green-400 to-emerald-600 text-white rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-green-500/30 ring-8 ring-green-50",children:b.jsx(rE,{size:64})}),b.jsx("h2",{className:"text-4xl font-black text-slate-800 mb-2 tracking-tight",children:"Selesai!"}),b.jsx("p",{className:"text-slate-500 mb-10 font-medium text-lg",children:e.title}),b.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl mb-8 border border-slate-100",children:[b.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase tracking-[0.2em] mb-3",children:"Skor Akhir"}),b.jsx("div",{className:"text-7xl font-black text-transparent bg-clip-text bg-gradient-to-br from-blue-600 to-indigo-600",children:Math.round(i)})]}),b.jsx("button",{onClick:()=>{g("student-dash"),_(""),y("dashboard")},className:"w-full bg-slate-900 hover:bg-black text-white py-4 rounded-2xl font-bold text-lg transition shadow-xl hover:scale-[1.02]",children:"Kembali ke Dashboard"})]})});const T=e.questions[a];return b.jsx("div",{className:"min-h-screen bg-slate-100 flex flex-col items-center p-6 font-sans",children:b.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-[40px] shadow-xl border border-slate-200 overflow-hidden mt-10 flex flex-col",children:[b.jsxs("div",{className:"bg-white border-b border-slate-100 px-10 py-8 flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-slate-700 text-xl",children:e.title}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-slate-400 text-sm font-bold uppercase tracking-wider mr-2",children:"Progress"}),b.jsxs("div",{className:"bg-blue-50 text-blue-700 px-4 py-2 rounded-xl text-sm font-bold border border-blue-100",children:[a+1," ",b.jsx("span",{className:"text-blue-300 mx-1",children:"/"})," ",e.questions.length]})]})]}),b.jsx("div",{className:"w-full bg-slate-100 h-2",children:b.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500 ease-out",style:{width:`${(a+1)/e.questions.length*100}%`}})}),b.jsxs("div",{className:"p-12 md:p-16",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12 text-slate-800 leading-tight",children:T.question}),b.jsx("div",{className:"grid gap-5 mb-12",children:T.options.map((S,w)=>b.jsxs("button",{onClick:()=>c(S),className:`w-full text-left p-6 rounded-2xl border-2 font-bold text-xl flex gap-6 items-center transition-all duration-200 group ${o===S?"border-blue-600 bg-blue-50 text-blue-900 shadow-md ring-1 ring-blue-200 transform scale-[1.01]":"border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-blue-300 hover:text-slate-900"}`,children:[b.jsx("span",{className:`w-10 h-10 flex shrink-0 items-center justify-center rounded-xl text-sm font-bold transition-colors ${o===S?"bg-blue-600 text-white":"bg-slate-200 text-slate-500 group-hover:bg-blue-200 group-hover:text-blue-700"}`,children:String.fromCharCode(65+w)}),S]},w))}),b.jsx("div",{className:"flex justify-end pt-8 border-t border-slate-100",children:b.jsxs("button",{onClick:d,disabled:!o,className:`px-12 py-5 rounded-2xl font-bold text-lg shadow-xl transition-all transform active:scale-95 flex items-center gap-3 ${o?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-blue-500/40 hover:-translate-y-1":"bg-slate-100 text-slate-300 cursor-not-allowed shadow-none"}`,children:["Selanjutnya ",b.jsx(xm,{size:20})]})})]})]})})}const RI=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<6;i++)e+=s.charAt(Math.floor(Math.random()*s.length));return e},NI=s=>/^([1-9]|1[0-2])[a-zA-Z]$/.test(s);function CI(){const[s,e]=Se.useState(null),[i,a]=Se.useState(null),[o,c]=Se.useState(!0),[d,g]=Se.useState("landing"),[_,y]=Se.useState(!0),[T,S]=Se.useState(!1),[w,B]=Se.useState(null),[X,W]=Se.useState(!1),[J,he]=Se.useState("dashboard"),[ge,fe]=Se.useState("login"),[Re,ot]=Se.useState("student"),[Ae,C]=Se.useState({name:"",classroom:"",password:"",teacherCode:""}),[x,I]=Se.useState(!1),[M,D]=Se.useState(""),[j,R]=Se.useState(""),[rt,bt]=Se.useState(!1),[G,te]=Se.useState([]),[oe,Ie]=Se.useState(null),[Qe,k]=Se.useState([]),[K,ne]=Se.useState([]),[se,pe]=Se.useState(!1),[ve,De]=Se.useState(""),[gt,We]=Se.useState(""),[hi,Bi]=Se.useState([]),[Yn,$n]=Se.useState([]),[en,Es]=Se.useState({question:"",options:["","","",""],answer:""}),[In,Ts]=Se.useState({name:"",classroom:""}),[As,ft]=Se.useState(""),[st,fi]=Se.useState(null),[Cl,dr]=Se.useState([]),[xt,di]=Se.useState(0),[Ss,qi]=Se.useState(0),[mi,mr]=Se.useState(!1),[xs,wa]=Se.useState(null);Se.useEffect(()=>{const de=setTimeout(()=>y(!1),2e3);(async()=>{try{Nv?await qR(Zd,Nv):await UR(Zd)}catch(Ne){console.error("Auth Error:",Ne)}})();const je=FR(Zd,Ne=>{e(Ne),Ne?gr():c(!1)});return()=>{clearTimeout(de),je()}},[]),Se.useEffect(()=>{if(!s||!i||i.role!=="teacher")return;const de=qc(us(ri(Gn,"artifacts",Fn,"public","data","quizzes"),li("teacherId","==",i.id)),Ne=>k(Ne.docs.map(Lt=>({id:Lt.id,...Lt.data()})))),Ve=qc(us(ri(Gn,"artifacts",Fn,"public","data","classes"),li("teacherId","==",i.id)),Ne=>te(Ne.docs.map(Lt=>({id:Lt.id,...Lt.data()})))),je=qc(us(ri(Gn,"artifacts",Fn,"public","data","results"),Jw("timestamp","desc")),Ne=>ne(Ne.docs.map(Lt=>({id:Lt.id,...Lt.data()}))));return()=>{de(),Ve(),je()}},[i,s]),Se.useEffect(()=>{if(!s||!i||i.role!=="student")return;const de=qc(us(ri(Gn,"artifacts",Fn,"public","data","results"),li("studentId","==",i.id)),Ve=>{const je=Ve.docs.map(Ne=>({id:Ne.id,...Ne.data()}));je.sort((Ne,Lt)=>(Lt.timestamp?.seconds||0)-(Ne.timestamp?.seconds||0)),dr(je)});return()=>de()},[i?.id,s]);const gr=async()=>{const de=localStorage.getItem("eduquest_uid");if(de){const Ve=await ko(us(ri(Gn,"artifacts",Fn,"public","data","users"),li("__name__","==",de)));if(!Ve.empty){const je={id:Ve.docs[0].id,...Ve.docs[0].data()};a(je),g(je.role==="teacher"?"teacher-dash":"student-dash")}}c(!1)},vn=(de,Ve)=>{S(!0),setTimeout(()=>{fe(de),ot(Ve),D(""),R(""),C({name:"",classroom:"",password:"",teacherCode:""}),g("auth"),S(!1)},800)},Ut=async de=>{de.preventDefault(),c(!0),D(""),R("");const Ve=ri(Gn,"artifacts",Fn,"public","data","users");try{if(ge==="register"){if(Re==="teacher"&&Ae.teacherCode!=="EduQuestGuru26")throw new Error("Kode Akses Guru salah!");if(Re==="student"&&!NI(Ae.classroom))throw new Error("Format kelas salah! Harus Angka (1-12) + 1 Huruf. Contoh: 10A, 5B, 12C");if(!(await ko(us(Ve,li("name","==",Ae.name),li("role","==",Re)))).empty)throw new Error("Nama pengguna sudah ada.");await Bc(Ve,{role:Re,name:Ae.name,password:Ae.password,classroom:Re==="student"?Ae.classroom.toUpperCase():null}),R("Akun dibuat! Silakan login."),setTimeout(()=>{fe("login"),R("")},1500)}else{const je=await ko(us(Ve,li("role","==",Re),li("name","==",Ae.name)));let Ne=null;if(je.forEach(Lt=>{const Rs=Lt.data();Rs.password===Ae.password&&(Re!=="student"||Rs.classroom===Ae.classroom.toUpperCase())&&(Ne={id:Lt.id,...Rs})}),Ne)x?localStorage.setItem("eduquest_uid",Ne.id):localStorage.removeItem("eduquest_uid"),a(Ne),g(Ne.role==="teacher"?"teacher-dash":"student-dash");else throw new Error("Kredensial salah. Periksa data Anda.")}}catch(je){D(je.message||"Terjadi kesalahan.")}c(!1)},ln=()=>{a(null),localStorage.removeItem("eduquest_uid"),g("landing"),C({name:"",classroom:"",password:"",teacherCode:""}),Ie(null),$n([]),We(""),ft(""),he("dashboard")},pt=async()=>{if(ve)try{await Bc(ri(Gn,"artifacts",Fn,"public","data","classes"),{name:ve,teacherId:i.id,students:[]}),De(""),pe(!1)}catch(de){console.error(de)}},pr=async(de,Ve)=>{if(!(!In.name||!In.classroom))try{const je=[...Ve||[],In].sort((Ne,Lt)=>Ne.name.localeCompare(Lt.name));await eR(gb(Gn,"artifacts",Fn,"public","data","classes",de),{students:je}),Ts({name:"",classroom:""}),oe&&oe.id===de&&Ie({...oe,students:je})}catch(je){console.error(je)}},ws=()=>{if(!en.question||!en.answer||en.options.some(de=>!de))return alert("Lengkapi data soal.");$n([...Yn,en]),Es({question:"",options:["","","",""],answer:""})},yr=async()=>{if(!gt||Yn.length===0)return alert("Judul dan minimal 1 soal harus diisi.");c(!0);try{const de=RI();await Bc(ri(Gn,"artifacts",Fn,"public","data","quizzes"),{title:gt,questions:Yn,code:de,teacherId:i.id,teacherName:i.name,assignedClassIds:hi,createdAt:av()}),alert(`Quiz Berhasil! Kode: ${de}`),$n([]),We(""),Bi([]),g("teacher-dash")}catch(de){console.error(de)}c(!1)},Dn=async de=>{de.preventDefault(),c(!0),D("");try{const Ve=await ko(us(ri(Gn,"artifacts",Fn,"public","data","quizzes"),li("code","==",As.toUpperCase())));if(Ve.empty){D("Kode tidak ditemukan."),c(!1);return}const je={id:Ve.docs[0].id,...Ve.docs[0].data()};if(!(await ko(us(ri(Gn,"artifacts",Fn,"public","data","results"),li("studentId","==",i.id),li("quizId","==",je.id)))).empty){D("Sudah dikerjakan!"),c(!1);return}fi(je),g("quiz"),di(0),qi(0),mr(!1)}catch(Ve){console.error(Ve),D("Gagal bergabung.")}c(!1)},Hi=async()=>{let de=Ss;const Ve=st.questions[xt],je=100/st.questions.length;if(xs===Ve.answer&&(de+=je),qi(de),xt+1<st.questions.length)di(xt+1),wa(null);else{mr(!0);try{const Ne=Math.round(de+(xs===Ve.answer?je:0));await Bc(ri(Gn,"artifacts",Fn,"public","data","results"),{quizId:st.id,quizCode:st.code,quizTitle:st.title,studentId:i.id,studentName:i.name,studentClass:i.classroom,score:Ne,timestamp:av()}),qi(Ne)}catch(Ne){console.error(Ne)}}};if(_)return b.jsxs("div",{className:"fixed inset-0 z-[200] bg-white flex flex-col items-center justify-center animate-out fade-out duration-700 fill-mode-forwards",children:[b.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-3xl shadow-2xl animate-bounce",children:b.jsx(eu,{size:64,className:"text-white"})}),b.jsx("h1",{className:"mt-6 text-4xl font-extrabold text-slate-800 tracking-tight animate-pulse",children:"EduQuest"}),b.jsx("p",{className:"text-slate-400 mt-2 font-medium",children:"Memuat Aplikasi..."})]});if(T)return b.jsxs("div",{className:"fixed inset-0 z-[100] bg-white/90 backdrop-blur-sm flex flex-col items-center justify-center",children:[b.jsx(oE,{size:48,className:"text-blue-600 animate-spin"}),b.jsx("p",{className:"mt-4 text-slate-500 font-bold",children:"Memproses..."})]});switch(d){case"landing":return b.jsx(EI,{handleAuthNavigation:vn,activeModal:w,setActiveModal:B});case"auth":return b.jsx(TI,{authMode:ge,setAuthMode:fe,loginRole:Re,setLoginRole:ot,loginForm:Ae,setLoginForm:C,handleAuth:Ut,errorMsg:M,successMsg:j,showPassword:rt,setShowPassword:bt,rememberMe:x,setRememberMe:I,loading:o,setView:g});case"teacher-dash":return b.jsx(AI,{appUser:i,classes:G,selectedClass:oe,setSelectedClass:Ie,isCreatingClass:se,setIsCreatingClass:pe,newClassName:ve,setNewClassName:De,handleCreateClass:pt,createdQuizzes:Qe,quizResults:K,rosterForm:In,setRosterForm:Ts,handleAddStudentToClass:pr,handleLogout:ln,setView:g});case"student-dash":return b.jsx(SI,{appUser:i,studentTab:J,setStudentTab:he,darkMode:X,setDarkMode:W,studentHistory:Cl,handleJoinQuiz:Dn,roomCode:As,setRoomCode:ft,errorMsg:M,handleLogout:ln});case"create-quiz":return b.jsx(xI,{quizTitle:gt,setQuizTitle:We,classes:G,selectedClassIds:hi,setSelectedClassIds:Bi,handleSaveQuiz:yr,setView:g,currentQ:en,setCurrentQ:Es,addQuestionToLocalList:ws,questions:Yn,setQuestions:$n});case"quiz":return b.jsx(wI,{quizFinished:mi,activeQuiz:st,score:Ss,currentQuestionIdx:xt,selectedAnswer:xs,setSelectedAnswer:wa,handleNextQuestion:Hi,setView:g,setRoomCode:ft,setStudentTab:he});default:return null}}XT.createRoot(document.getElementById("root")).render(b.jsx(Se.StrictMode,{children:b.jsx(CI,{})}));
