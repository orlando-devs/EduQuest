(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function hx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var em={exports:{}},Ko={};var d_;function dx(){if(d_)return Ko;d_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Ko.Fragment=e,Ko.jsx=i,Ko.jsxs=i,Ko}var f_;function fx(){return f_||(f_=1,em.exports=dx()),em.exports}var p=fx(),tm={exports:{}},Ne={};var m_;function mx(){if(m_)return Ne;m_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=D&&O[D]||O["@@iterator"],typeof O=="function"?O:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},le=Object.assign,se={};function de(O,Q,ae){this.props=O,this.context=Q,this.refs=se,this.updater=ae||te}de.prototype.isReactComponent={},de.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},de.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _e(){}_e.prototype=de.prototype;function xe(O,Q,ae){this.props=O,this.context=Q,this.refs=se,this.updater=ae||te}var we=xe.prototype=new _e;we.constructor=xe,le(we,de.prototype),we.isPureReactComponent=!0;var ft=Array.isArray;function Oe(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Q,ae){var re=ae.ref;return{$$typeof:s,type:O,key:Q,ref:re!==void 0?re:null,props:ae}}function j(O,Q){return I(O.type,Q,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function z(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return Q[ae]})}var N=/\/+/g;function Ze(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):Q.toString(36)}function mt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Oe,Oe):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Q,ae,re,ve){var Te=typeof O;(Te==="undefined"||Te==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(Te){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case s:case e:Ue=!0;break;case x:return Ue=O._init,F(Ue(O._payload),Q,ae,re,ve)}}if(Ue)return ve=ve(O),Ue=re===""?"."+Ze(O,0):re,ft(ve)?(ae="",Ue!=null&&(ae=Ue.replace(N,"$&/")+"/"),F(ve,Q,ae,"",function(Hs){return Hs})):ve!=null&&(M(ve)&&(ve=j(ve,ae+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+Ue)),Q.push(ve)),1;Ue=0;var je=re===""?".":re+":";if(ft(O))for(var Ye=0;Ye<O.length;Ye++)re=O[Ye],Te=je+Ze(re,Ye),Ue+=F(re,Q,ae,Te,ve);else if(Ye=Y(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(re=O.next()).done;)re=re.value,Te=je+Ze(re,Ye++),Ue+=F(re,Q,ae,Te,ve);else if(Te==="object"){if(typeof O.then=="function")return F(mt(O),Q,ae,re,ve);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ie(O,Q,ae){if(O==null)return O;var re=[],ve=0;return F(O,re,"","",function(Te){return Q.call(ae,Te,ve++)}),re}function pe(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qe={map:ie,forEach:function(O,Q,ae){ie(O,function(){Q.apply(this,arguments)},ae)},count:function(O){var Q=0;return ie(O,function(){Q++}),Q},toArray:function(O){return ie(O,function(Q){return Q})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ne.Activity=A,Ne.Children=Qe,Ne.Component=de,Ne.Fragment=i,Ne.Profiler=o,Ne.PureComponent=xe,Ne.StrictMode=r,Ne.Suspense=b,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(O,Q,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=le({},O.props),ve=O.key;if(Q!=null)for(Te in Q.key!==void 0&&(ve=""+Q.key),Q)!S.call(Q,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Q.ref===void 0||(re[Te]=Q[Te]);var Te=arguments.length-2;if(Te===1)re.children=ae;else if(1<Te){for(var Ue=Array(Te),je=0;je<Te;je++)Ue[je]=arguments[je+2];re.children=Ue}return I(O.type,ve,re)},Ne.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ne.createElement=function(O,Q,ae){var re,ve={},Te=null;if(Q!=null)for(re in Q.key!==void 0&&(Te=""+Q.key),Q)S.call(Q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=Q[re]);var Ue=arguments.length-2;if(Ue===1)ve.children=ae;else if(1<Ue){for(var je=Array(Ue),Ye=0;Ye<Ue;Ye++)je[Ye]=arguments[Ye+2];ve.children=je}if(O&&O.defaultProps)for(re in Ue=O.defaultProps,Ue)ve[re]===void 0&&(ve[re]=Ue[re]);return I(O,Te,ve)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:y,render:O}},Ne.isValidElement=M,Ne.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:pe}},Ne.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Ne.startTransition=function(O){var Q=R.T,ae={};R.T=ae;try{var re=O(),ve=R.S;ve!==null&&ve(ae,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Oe,Me)}catch(Te){Me(Te)}finally{Q!==null&&ae.types!==null&&(Q.types=ae.types),R.T=Q}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(O){return R.H.use(O)},Ne.useActionState=function(O,Q,ae){return R.H.useActionState(O,Q,ae)},Ne.useCallback=function(O,Q){return R.H.useCallback(O,Q)},Ne.useContext=function(O){return R.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,Q){return R.H.useDeferredValue(O,Q)},Ne.useEffect=function(O,Q){return R.H.useEffect(O,Q)},Ne.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(O,Q,ae){return R.H.useImperativeHandle(O,Q,ae)},Ne.useInsertionEffect=function(O,Q){return R.H.useInsertionEffect(O,Q)},Ne.useLayoutEffect=function(O,Q){return R.H.useLayoutEffect(O,Q)},Ne.useMemo=function(O,Q){return R.H.useMemo(O,Q)},Ne.useOptimistic=function(O,Q){return R.H.useOptimistic(O,Q)},Ne.useReducer=function(O,Q,ae){return R.H.useReducer(O,Q,ae)},Ne.useRef=function(O){return R.H.useRef(O)},Ne.useState=function(O){return R.H.useState(O)},Ne.useSyncExternalStore=function(O,Q,ae){return R.H.useSyncExternalStore(O,Q,ae)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.2.4",Ne}var p_;function tp(){return p_||(p_=1,tm.exports=mx()),tm.exports}var fe=tp();const px=hx(fe);var nm={exports:{}},Qo={},im={exports:{}},sm={};var g_;function gx(){return g_||(g_=1,(function(s){function e(F,ie){var pe=F.length;F.push(ie);e:for(;0<pe;){var Me=pe-1>>>1,Qe=F[Me];if(0<o(Qe,ie))F[Me]=ie,F[pe]=Qe,pe=Me;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ie=F[0],pe=F.pop();if(pe!==ie){F[0]=pe;e:for(var Me=0,Qe=F.length,O=Qe>>>1;Me<O;){var Q=2*(Me+1)-1,ae=F[Q],re=Q+1,ve=F[re];if(0>o(ae,pe))re<Qe&&0>o(ve,ae)?(F[Me]=ve,F[re]=pe,Me=re):(F[Me]=ae,F[Q]=pe,Me=Q);else if(re<Qe&&0>o(ve,pe))F[Me]=ve,F[re]=pe,Me=re;else break e}}return ie}function o(F,ie){var pe=F.sortIndex-ie.sortIndex;return pe!==0?pe:F.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,y=f.now();s.unstable_now=function(){return f.now()-y}}var b=[],_=[],x=1,A=null,D=3,Y=!1,te=!1,le=!1,se=!1,de=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,xe=typeof setImmediate<"u"?setImmediate:null;function we(F){for(var ie=i(_);ie!==null;){if(ie.callback===null)r(_);else if(ie.startTime<=F)r(_),ie.sortIndex=ie.expirationTime,e(b,ie);else break;ie=i(_)}}function ft(F){if(le=!1,we(F),!te)if(i(b)!==null)te=!0,Oe||(Oe=!0,z());else{var ie=i(_);ie!==null&&mt(ft,ie.startTime-F)}}var Oe=!1,R=-1,S=5,I=-1;function j(){return se?!0:!(s.unstable_now()-I<S)}function M(){if(se=!1,Oe){var F=s.unstable_now();I=F;var ie=!0;try{e:{te=!1,le&&(le=!1,_e(R),R=-1),Y=!0;var pe=D;try{t:{for(we(F),A=i(b);A!==null&&!(A.expirationTime>F&&j());){var Me=A.callback;if(typeof Me=="function"){A.callback=null,D=A.priorityLevel;var Qe=Me(A.expirationTime<=F);if(F=s.unstable_now(),typeof Qe=="function"){A.callback=Qe,we(F),ie=!0;break t}A===i(b)&&r(b),we(F)}else r(b);A=i(b)}if(A!==null)ie=!0;else{var O=i(_);O!==null&&mt(ft,O.startTime-F),ie=!1}}break e}finally{A=null,D=pe,Y=!1}ie=void 0}}finally{ie?z():Oe=!1}}}var z;if(typeof xe=="function")z=function(){xe(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ze=N.port2;N.port1.onmessage=M,z=function(){Ze.postMessage(null)}}else z=function(){de(M,0)};function mt(F,ie){R=de(function(){F(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(F){switch(D){case 1:case 2:case 3:var ie=3;break;default:ie=D}var pe=D;D=ie;try{return F()}finally{D=pe}},s.unstable_requestPaint=function(){se=!0},s.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var pe=D;D=F;try{return ie()}finally{D=pe}},s.unstable_scheduleCallback=function(F,ie,pe){var Me=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,F){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=pe+Qe,F={id:x++,callback:ie,priorityLevel:F,startTime:pe,expirationTime:Qe,sortIndex:-1},pe>Me?(F.sortIndex=pe,e(_,F),i(b)===null&&F===i(_)&&(le?(_e(R),R=-1):le=!0,mt(ft,pe-Me))):(F.sortIndex=Qe,e(b,F),te||Y||(te=!0,Oe||(Oe=!0,z()))),F},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(F){var ie=D;return function(){var pe=D;D=ie;try{return F.apply(this,arguments)}finally{D=pe}}}})(sm)),sm}var y_;function yx(){return y_||(y_=1,im.exports=gx()),im.exports}var am={exports:{}},yn={};var __;function _x(){if(__)return yn;__=1;var s=tp();function e(b){var _="https://react.dev/errors/"+b;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+b+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(b,_,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:b,containerInfo:_,implementation:x}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,_){if(b==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(b,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(b,_,null,x)},yn.flushSync=function(b){var _=f.T,x=r.p;try{if(f.T=null,r.p=2,b)return b()}finally{f.T=_,r.p=x,r.d.f()}},yn.preconnect=function(b,_){typeof b=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(b,_))},yn.prefetchDNS=function(b){typeof b=="string"&&r.d.D(b)},yn.preinit=function(b,_){if(typeof b=="string"&&_&&typeof _.as=="string"){var x=_.as,A=y(x,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?r.d.S(b,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:Y}):x==="script"&&r.d.X(b,{crossOrigin:A,integrity:D,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},yn.preinitModule=function(b,_){if(typeof b=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);r.d.M(b,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(b)},yn.preload=function(b,_){if(typeof b=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,A=y(x,_.crossOrigin);r.d.L(b,x,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},yn.preloadModule=function(b,_){if(typeof b=="string")if(_){var x=y(_.as,_.crossOrigin);r.d.m(b,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(b)},yn.requestFormReset=function(b){r.d.r(b)},yn.unstable_batchedUpdates=function(b,_){return b(_)},yn.useFormState=function(b,_,x){return f.H.useFormState(b,_,x)},yn.useFormStatus=function(){return f.H.useHostTransitionStatus()},yn.version="19.2.4",yn}var v_;function vx(){if(v_)return am.exports;v_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),am.exports=_x(),am.exports}var b_;function bx(){if(b_)return Qo;b_=1;var s=yx(),e=tp(),i=vx();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return b(h),t;if(d===l)return b(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=d;break}if(E===l){g=!0,l=h,a=d;break}E=E.sibling}if(!g){for(E=d.child;E;){if(E===a){g=!0,a=d,l=h;break}if(E===l){g=!0,l=d,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),_e=Symbol.for("react.consumer"),xe=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case le:return"Fragment";case de:return"Profiler";case se:return"StrictMode";case ft:return"Suspense";case Oe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case xe:return t.displayName||"Context";case _e:return(t._context.displayName||"Context")+".Consumer";case we:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Ze(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ze(t(n))}catch{}}return null}var mt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Me=[],Qe=-1;function O(t){return{current:t}}function Q(t){0>Qe||(t.current=Me[Qe],Me[Qe]=null,Qe--)}function ae(t,n){Qe++,Me[Qe]=t.current,t.current=n}var re=O(null),ve=O(null),Te=O(null),Ue=O(null);function je(t,n){switch(ae(Te,n),ae(ve,t),ae(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?jy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=jy(n),t=Vy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(re),ae(re,t)}function Ye(){Q(re),Q(ve),Q(Te)}function Hs(t){t.memoizedState!==null&&ae(Ue,t);var n=re.current,a=Vy(n,t.type);n!==a&&(ae(ve,t),ae(re,a))}function Ya(t){ve.current===t&&(Q(re),Q(ve)),Ue.current===t&&(Q(Ue),qo._currentValue=pe)}var Fn,Zt;function Gn(t){if(Fn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Fn=n&&n[1]||"",Zt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fn+t+Zt}var ai=!1;function Si(t,n){if(!t||ai)return"";ai=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var B=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){B=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){B=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],E=d[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{ai=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Gn(a):""}function Xa(t,n){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==n&&n!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Si(t.type,!1);case 11:return Si(t.type.render,!1);case 1:return Si(t.type,!0);case 31:return Gn("Activity");default:return""}}function Kn(t){try{var n="",a=null;do n+=Xa(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pt=Object.prototype.hasOwnProperty,Dt=s.unstable_scheduleCallback,Qn=s.unstable_cancelCallback,pn=s.unstable_shouldYield,cs=s.unstable_requestPaint,nt=s.unstable_now,ri=s.unstable_getCurrentPriorityLevel,Fs=s.unstable_ImmediatePriority,hs=s.unstable_UserBlockingPriority,Yn=s.unstable_NormalPriority,$a=s.unstable_LowPriority,qi=s.unstable_IdlePriority,Gs=s.log,Ni=s.unstable_setDisableYieldValue,sn=null,At=null;function Tn(t){if(typeof Gs=="function"&&Ni(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(sn,t)}catch{}}var Tt=Math.clz32?Math.clz32:ds,Hi=Math.log,xn=Math.LN2;function ds(t){return t>>>=0,t===0?32:31-(Hi(t)/xn|0)|0}var Dn=256,kn=262144,it=4194304;function an(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zt(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=an(l):(g&=E,g!==0?h=an(g):a||(a=E&~t,a!==0&&(h=an(a))))):(E=l&~d,E!==0?h=an(E):g!==0?h=an(g):a||(a=l&~t,a!==0&&(h=an(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Wt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Qt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fi(){var t=it;return it<<=1,(it&62914560)===0&&(it=4194304),t}function Ci(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ks(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qs(t,n,a,l,h,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=g&~a;0<a;){var K=31-Tt(a),J=1<<K;E[K]=0,C[K]=-1;var B=P[K];if(B!==null)for(P[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Gi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function Gi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Tt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function rt(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Tt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Ja(t,n){var a=n&-n;return a=(a&42)!==0?1:gn(a),(a&(t.suspendedLanes|n))!==0?0:a}function gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ur(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:a_(t.type))}function wn(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var rn=Math.random().toString(36).slice(2),xt="__reactFiber$"+rn,vt="__reactProps$"+rn,Xn="__reactContainer$"+rn,fs="__reactEvents$"+rn,Za="__reactListeners$"+rn,en="__reactHandles$"+rn,Wa="__reactResources$"+rn,An="__reactMarker$"+rn;function Ys(t){delete t[xt],delete t[vt],delete t[fs],delete t[Za],delete t[en]}function oi(t){var n=t[xt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Xn]||a[xt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Hy(t);t!==null;){if(a=t[xt])return a;t=Hy(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[xt]||t[Xn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ui(t){var n=t[Wa];return n||(n=t[Wa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(t){t[An]=!0}var er=new Set,tr={};function ci(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(tr[t]=n,t=0;t<n.length;t++)er.add(n[t])}var nr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ir={},Xs={};function Lr(t){return pt.call(Xs,t)?!0:pt.call(ir,t)?!1:nr.test(t)?Xs[t]=!0:(ir[t]=!0,!1)}function $s(t,n,a){if(Lr(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Nt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ms(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function w(t){if(!t._valueTracker){var n=Ki(t)?"checked":"value";t._valueTracker=ms(t,n,""+t[n])}}function G(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function W(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ee=/[\n"\\]/g;function ue(t){return t.replace(ee,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Lt(t,n,a,l,h,d,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Pr(t,g,Ut(n)):a!=null?Pr(t,g,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function Ri(t,n,a,l,h,d,g,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){w(t);return}a=a!=null?""+Ut(a):"",n=n!=null?""+Ut(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),w(t)}function Pr(t,n,a){n==="number"&&W(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function di(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Cu(t,n,a){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ut(a):""}function Js(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ut(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),w(t)}function Mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ru.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function no(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&to(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&to(t,d,n[d])}function Br(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qr(t){return Zs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ii(){}var io=null;function fi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ws=null,Qi=null;function sr(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Lt(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ue(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(r(90));Lt(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&G(l)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&di(t,!!a.multiple,n,!1)}}}var Hr=!1;function ea(t,n,a){if(Hr)return t(n,a);Hr=!0;try{var l=t(n);return l}finally{if(Hr=!1,(Ws!==null||Qi!==null)&&(xc(),Ws&&(n=Ws,t=Qi,Qi=Ws=null,sr(n),t)))for(n=0;n<t.length;n++)sr(t[n])}}function Di(t,n){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(mi)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){ar=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{ar=!1}var Yi=null,so=null,rr=null;function ao(){if(rr)return rr;var t,n=so,a=n.length,l,h="value"in Yi?Yi.value:Yi.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[d-l];l++);return rr=h.slice(t,1<l?1-l:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function ki(){return!1}function ln(t){function n(a,l,h,d,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ps:ki,this.isPropagationStopped=ki,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),n}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=ln(gs),ta=A({},gs,{view:0,detail:0}),ro=ln(ta),na,Fr,$i,Gr=A({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(na=t.screenX-$i.screenX,Fr=t.screenY-$i.screenY):Fr=na=0,$i=t),na)},movementY:function(t){return"movementY"in t?t.movementY:Fr}}),lo=ln(Gr),or=A({},Gr,{dataTransfer:0}),Du=ln(or),ku=A({},ta,{relatedTarget:0}),ur=ln(ku),oo=A({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=ln(oo),Kr=A({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=ln(Kr),ju=A({},gs,{data:0}),Ji=ln(ju),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Uu[t])?!!n[t]:!1}function ia(){return Lu}var Rn=A({},ta,{key:function(t){if(t.key){var n=Vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=ln(Rn),Bu=A({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=ln(Bu),u=A({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),m=ln(u),v=A({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ln(v),U=A({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ln(U),ne=A({},gs,{newState:0,oldState:0}),Ie=ln(ne),kt=[9,13,27,32],We=mi&&"CompositionEvent"in window,bt=null;mi&&"documentMode"in document&&(bt=document.documentMode);var pi=mi&&"TextEvent"in window&&!bt,Zi=mi&&(!We||bt&&8<bt&&11>=bt),Mi=" ",Oi=!1;function cr(t,n){switch(t){case"keyup":return kt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yr=!1;function jE(t,n){switch(t){case"compositionend":return Qr(n);case"keypress":return n.which!==32?null:(Oi=!0,Mi);case"textInput":return t=n.data,t===Mi&&Oi?null:t;default:return null}}function VE(t,n){if(Yr)return t==="compositionend"||!We&&cr(t,n)?(t=ao(),rr=so=Yi=null,Yr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zi&&n.locale!=="ko"?null:n.data;default:return null}}var zE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!zE[t.type]:n==="textarea"}function Qp(t,n,a,l){Ws?Qi?Qi.push(l):Qi=[l]:Ws=l,n=Ic(n,"onChange"),0<n.length&&(a=new Xi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var uo=null,co=null;function UE(t){Ry(t,0)}function qu(t){var n=Nn(t);if(G(n))return t}function Yp(t,n){if(t==="change")return n}var Xp=!1;if(mi){var rd;if(mi){var ld="oninput"in document;if(!ld){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),ld=typeof $p.oninput=="function"}rd=ld}else rd=!1;Xp=rd&&(!document.documentMode||9<document.documentMode)}function Jp(){uo&&(uo.detachEvent("onpropertychange",Zp),co=uo=null)}function Zp(t){if(t.propertyName==="value"&&qu(co)){var n=[];Qp(n,co,t,fi(t)),ea(UE,n)}}function LE(t,n,a){t==="focusin"?(Jp(),uo=n,co=a,uo.attachEvent("onpropertychange",Zp)):t==="focusout"&&Jp()}function PE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(co)}function BE(t,n){if(t==="click")return qu(n)}function qE(t,n){if(t==="input"||t==="change")return qu(n)}function HE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var $n=typeof Object.is=="function"?Object.is:HE;function ho(t,n){if($n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pt.call(n,h)||!$n(t[h],n[h]))return!1}return!0}function Wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,n){var a=Wp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wp(a)}}function tg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?tg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=W(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=W(t.document)}return n}function od(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var FE=mi&&"documentMode"in document&&11>=document.documentMode,Xr=null,ud=null,fo=null,cd=!1;function ig(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||Xr==null||Xr!==W(l)||(l=Xr,"selectionStart"in l&&od(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fo&&ho(fo,l)||(fo=l,l=Ic(ud,"onSelect"),0<l.length&&(n=new Xi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Xr)))}function hr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var $r={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},hd={},sg={};mi&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function dr(t){if(hd[t])return hd[t];if(!$r[t])return t;var n=$r[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in sg)return hd[t]=n[a];return t}var ag=dr("animationend"),rg=dr("animationiteration"),lg=dr("animationstart"),GE=dr("transitionrun"),KE=dr("transitionstart"),QE=dr("transitioncancel"),og=dr("transitionend"),ug=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function ji(t,n){ug.set(t,n),ci(n,[t])}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gi=[],Jr=0,fd=0;function Fu(){for(var t=Jr,n=fd=Jr=0;n<t;){var a=gi[n];gi[n++]=null;var l=gi[n];gi[n++]=null;var h=gi[n];gi[n++]=null;var d=gi[n];if(gi[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}d!==0&&cg(a,h,d)}}function Gu(t,n,a,l){gi[Jr++]=t,gi[Jr++]=n,gi[Jr++]=a,gi[Jr++]=l,fd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function md(t,n,a,l){return Gu(t,n,a,l),Ku(t)}function fr(t,n){return Gu(t,null,null,n),Ku(t)}function cg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Tt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function Ku(t){if(50<jo)throw jo=0,wf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zr={};function YE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,n,a,l){return new YE(t,n,a,l)}function pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _s(t,n){var a=t.alternate;return a===null?(a=Jn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Qu(t,n,a,l,h,d){var g=0;if(l=t,typeof t=="function")pd(t)&&(g=1);else if(typeof t=="string")g=WT(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Jn(31,a,n,h),t.elementType=I,t.lanes=d,t;case le:return mr(a.children,h,d,n);case se:g=8,h|=24;break;case de:return t=Jn(12,a,n,h|2),t.elementType=de,t.lanes=d,t;case ft:return t=Jn(13,a,n,h),t.elementType=ft,t.lanes=d,t;case Oe:return t=Jn(19,a,n,h),t.elementType=Oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xe:g=10;break e;case _e:g=9;break e;case we:g=11;break e;case R:g=14;break e;case S:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Jn(g,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function mr(t,n,a,l){return t=Jn(7,t,l,n),t.lanes=a,t}function gd(t,n,a){return t=Jn(6,t,null,n),t.lanes=a,t}function dg(t){var n=Jn(18,null,null,0);return n.stateNode=t,n}function yd(t,n,a){return n=Jn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var fg=new WeakMap;function yi(t,n){if(typeof t=="object"&&t!==null){var a=fg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Kn(n)},fg.set(t,n),n)}return{value:t,source:n,stack:Kn(n)}}var Wr=[],el=0,Yu=null,mo=0,_i=[],vi=0,sa=null,Wi=1,es="";function vs(t,n){Wr[el++]=mo,Wr[el++]=Yu,Yu=t,mo=n}function mg(t,n,a){_i[vi++]=Wi,_i[vi++]=es,_i[vi++]=sa,sa=t;var l=Wi;t=es;var h=32-Tt(l)-1;l&=~(1<<h),a+=1;var d=32-Tt(n)+h;if(30<d){var g=h-h%5;d=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Wi=1<<32-Tt(n)+h|a<<h|l,es=d+t}else Wi=1<<d|a<<h|l,es=t}function _d(t){t.return!==null&&(vs(t,1),mg(t,1,0))}function vd(t){for(;t===Yu;)Yu=Wr[--el],Wr[el]=null,mo=Wr[--el],Wr[el]=null;for(;t===sa;)sa=_i[--vi],_i[vi]=null,es=_i[--vi],_i[vi]=null,Wi=_i[--vi],_i[vi]=null}function pg(t,n){_i[vi++]=Wi,_i[vi++]=es,_i[vi++]=sa,Wi=n.id,es=n.overflow,sa=t}var on=null,gt=null,Fe=!1,aa=null,bi=!1,bd=Error(r(519));function ra(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(yi(n,t)),bd}function gg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[xt]=t,n[vt]=l,a){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<zo.length;a++)ze(zo[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),Ri(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Js(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||My(n.textContent,a)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=Ii),n=!0):n=!1,n||ra(t,!0)}function yg(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:on=on.return}}function tl(t){if(t!==on)return!1;if(!Fe)return yg(t),Fe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Lf(t.type,t.memoizedProps)),a=!a),a&&gt&&ra(t),yg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=qy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=qy(t)}else n===27?(n=gt,ba(t.type)?(t=Ff,Ff=null,gt=t):gt=n):gt=on?Ti(t.stateNode.nextSibling):null;return!0}function pr(){gt=on=null,Fe=!1}function Ed(){var t=aa;return t!==null&&(zn===null?zn=t:zn.push.apply(zn,t),aa=null),t}function po(t){aa===null?aa=[t]:aa.push(t)}var Td=O(null),gr=null,bs=null;function la(t,n,a){ae(Td,n._currentValue),n._currentValue=a}function Es(t){t._currentValue=Td.current,Q(Td)}function xd(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function wd(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var g=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),xd(d.return,a,t),l||(g=null);break e}d=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),xd(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function nl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;$n(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(qo):t=[qo])}h=h.return}t!==null&&wd(n,t,a,l),n.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!$n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yr(t){gr=t,bs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return _g(gr,t)}function $u(t,n){return gr===null&&yr(t),_g(t,n)}function _g(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},bs===null){if(t===null)throw Error(r(308));bs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bs=bs.next=n;return a}var XE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$E=s.unstable_scheduleCallback,JE=s.unstable_NormalPriority,Pt={$$typeof:xe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new XE,data:new Map,refCount:0}}function go(t){t.refCount--,t.refCount===0&&$E(JE,function(){t.controller.abort()})}var yo=null,Sd=0,il=0,sl=null;function ZE(t,n){if(yo===null){var a=yo=[];Sd=0,il=If(),sl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sd++,n.then(vg,vg),n}function vg(){if(--Sd===0&&yo!==null){sl!==null&&(sl.status="fulfilled");var t=yo;yo=null,il=0,sl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function WE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=F.S;F.S=function(t,n){iy=nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ZE(t,n),bg!==null&&bg(t,n)};var _r=O(null);function Nd(){var t=_r.current;return t!==null?t:ht.pooledCache}function Ju(t,n){n===null?ae(_r,_r.current):ae(_r,n.pool)}function Eg(){var t=Nd();return t===null?null:{parent:Pt._currentValue,pool:t}}var al=Error(r(460)),Cd=Error(r(474)),Zu=Error(r(542)),Wu={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ii,Ii),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ag(t),t;default:if(typeof n.status=="string")n.then(Ii,Ii);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ag(t),t}throw br=n,al}}function vr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(br=a,al):a}}var br=null;function wg(){if(br===null)throw Error(r(459));var t=br;return br=null,t}function Ag(t){if(t===al||t===Zu)throw Error(r(483))}var rl=null,_o=0;function ec(t){var n=_o;return _o+=1,rl===null&&(rl=[]),xg(rl,t,n)}function vo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tc(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Sg(t){function n(V,k){if(t){var L=V.deletions;L===null?(V.deletions=[k],V.flags|=16):L.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)n(V,k),k=k.sibling;return null}function l(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=_s(V,k),V.index=0,V.sibling=null,V}function d(V,k,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<k?(V.flags|=67108866,k):L):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function g(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,k,L,X){return k===null||k.tag!==6?(k=gd(L,V.mode,X),k.return=V,k):(k=h(k,L),k.return=V,k)}function C(V,k,L,X){var ge=L.type;return ge===le?K(V,k,L.props.children,X,L.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&vr(ge)===k.type)?(k=h(k,L.props),vo(k,L),k.return=V,k):(k=Qu(L.type,L.key,L.props,null,V.mode,X),vo(k,L),k.return=V,k)}function P(V,k,L,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?(k=yd(L,V.mode,X),k.return=V,k):(k=h(k,L.children||[]),k.return=V,k)}function K(V,k,L,X,ge){return k===null||k.tag!==7?(k=mr(L,V.mode,X,ge),k.return=V,k):(k=h(k,L),k.return=V,k)}function J(V,k,L){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=gd(""+k,V.mode,L),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Y:return L=Qu(k.type,k.key,k.props,null,V.mode,L),vo(L,k),L.return=V,L;case te:return k=yd(k,V.mode,L),k.return=V,k;case S:return k=vr(k),J(V,k,L)}if(mt(k)||z(k))return k=mr(k,V.mode,L,null),k.return=V,k;if(typeof k.then=="function")return J(V,ec(k),L);if(k.$$typeof===xe)return J(V,$u(V,k),L);tc(V,k)}return null}function B(V,k,L,X){var ge=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:E(V,k,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ge?C(V,k,L,X):null;case te:return L.key===ge?P(V,k,L,X):null;case S:return L=vr(L),B(V,k,L,X)}if(mt(L)||z(L))return ge!==null?null:K(V,k,L,X,null);if(typeof L.then=="function")return B(V,k,ec(L),X);if(L.$$typeof===xe)return B(V,k,$u(V,L),X);tc(V,L)}return null}function H(V,k,L,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(L)||null,E(k,V,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Y:return V=V.get(X.key===null?L:X.key)||null,C(k,V,X,ge);case te:return V=V.get(X.key===null?L:X.key)||null,P(k,V,X,ge);case S:return X=vr(X),H(V,k,L,X,ge)}if(mt(X)||z(X))return V=V.get(L)||null,K(k,V,X,ge,null);if(typeof X.then=="function")return H(V,k,L,ec(X),ge);if(X.$$typeof===xe)return H(V,k,L,$u(k,X),ge);tc(k,X)}return null}function he(V,k,L,X){for(var ge=null,Xe=null,me=k,ke=k=0,Pe=null;me!==null&&ke<L.length;ke++){me.index>ke?(Pe=me,me=null):Pe=me.sibling;var $e=B(V,me,L[ke],X);if($e===null){me===null&&(me=Pe);break}t&&me&&$e.alternate===null&&n(V,me),k=d($e,k,ke),Xe===null?ge=$e:Xe.sibling=$e,Xe=$e,me=Pe}if(ke===L.length)return a(V,me),Fe&&vs(V,ke),ge;if(me===null){for(;ke<L.length;ke++)me=J(V,L[ke],X),me!==null&&(k=d(me,k,ke),Xe===null?ge=me:Xe.sibling=me,Xe=me);return Fe&&vs(V,ke),ge}for(me=l(me);ke<L.length;ke++)Pe=H(me,V,ke,L[ke],X),Pe!==null&&(t&&Pe.alternate!==null&&me.delete(Pe.key===null?ke:Pe.key),k=d(Pe,k,ke),Xe===null?ge=Pe:Xe.sibling=Pe,Xe=Pe);return t&&me.forEach(function(Aa){return n(V,Aa)}),Fe&&vs(V,ke),ge}function be(V,k,L,X){if(L==null)throw Error(r(151));for(var ge=null,Xe=null,me=k,ke=k=0,Pe=null,$e=L.next();me!==null&&!$e.done;ke++,$e=L.next()){me.index>ke?(Pe=me,me=null):Pe=me.sibling;var Aa=B(V,me,$e.value,X);if(Aa===null){me===null&&(me=Pe);break}t&&me&&Aa.alternate===null&&n(V,me),k=d(Aa,k,ke),Xe===null?ge=Aa:Xe.sibling=Aa,Xe=Aa,me=Pe}if($e.done)return a(V,me),Fe&&vs(V,ke),ge;if(me===null){for(;!$e.done;ke++,$e=L.next())$e=J(V,$e.value,X),$e!==null&&(k=d($e,k,ke),Xe===null?ge=$e:Xe.sibling=$e,Xe=$e);return Fe&&vs(V,ke),ge}for(me=l(me);!$e.done;ke++,$e=L.next())$e=H(me,V,ke,$e.value,X),$e!==null&&(t&&$e.alternate!==null&&me.delete($e.key===null?ke:$e.key),k=d($e,k,ke),Xe===null?ge=$e:Xe.sibling=$e,Xe=$e);return t&&me.forEach(function(cx){return n(V,cx)}),Fe&&vs(V,ke),ge}function ct(V,k,L,X){if(typeof L=="object"&&L!==null&&L.type===le&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:e:{for(var ge=L.key;k!==null;){if(k.key===ge){if(ge=L.type,ge===le){if(k.tag===7){a(V,k.sibling),X=h(k,L.props.children),X.return=V,V=X;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&vr(ge)===k.type){a(V,k.sibling),X=h(k,L.props),vo(X,L),X.return=V,V=X;break e}a(V,k);break}else n(V,k);k=k.sibling}L.type===le?(X=mr(L.props.children,V.mode,X,L.key),X.return=V,V=X):(X=Qu(L.type,L.key,L.props,null,V.mode,X),vo(X,L),X.return=V,V=X)}return g(V);case te:e:{for(ge=L.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===L.containerInfo&&k.stateNode.implementation===L.implementation){a(V,k.sibling),X=h(k,L.children||[]),X.return=V,V=X;break e}else{a(V,k);break}else n(V,k);k=k.sibling}X=yd(L,V.mode,X),X.return=V,V=X}return g(V);case S:return L=vr(L),ct(V,k,L,X)}if(mt(L))return he(V,k,L,X);if(z(L)){if(ge=z(L),typeof ge!="function")throw Error(r(150));return L=ge.call(L),be(V,k,L,X)}if(typeof L.then=="function")return ct(V,k,ec(L),X);if(L.$$typeof===xe)return ct(V,k,$u(V,L),X);tc(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,k!==null&&k.tag===6?(a(V,k.sibling),X=h(k,L),X.return=V,V=X):(a(V,k),X=gd(L,V.mode,X),X.return=V,V=X),g(V)):a(V,k)}return function(V,k,L,X){try{_o=0;var ge=ct(V,k,L,X);return rl=null,ge}catch(me){if(me===al||me===Zu)throw me;var Xe=Jn(29,me,null,V.mode);return Xe.lanes=X,Xe.return=V,Xe}}}var Er=Sg(!0),Ng=Sg(!1),oa=!1;function Rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ca(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ku(t),cg(t,null,a),n}return Gu(t,l,n,a),Ku(t)}function bo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,rt(t,a)}}function Dd(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var kd=!1;function Eo(){if(kd){var t=sl;if(t!==null)throw t}}function To(t,n,a,l){kd=!1;var h=t.updateQueue;oa=!1;var d=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?d=P:g.next=P,g=C;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==g&&(E===null?K.firstBaseUpdate=P:E.next=P,K.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;g=0,K=P=C=null,E=d;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Le&B)===B:(l&B)===B){B!==0&&B===il&&(kd=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,be=E;B=n;var ct=a;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){J=he.call(ct,J,B);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,B=typeof he=="function"?he.call(ct,J,B):he,B==null)break e;J=A({},J,B);break e;case 2:oa=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(P=K=H,C=J):K=K.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=J),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),pa|=g,t.lanes=g,t.memoizedState=J}}function Cg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Rg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cg(a[t],n)}var ll=O(null),nc=O(0);function Ig(t,n){t=Is,ae(nc,t),ae(ll,n),Is=t|n.baseLanes}function Md(){ae(nc,Is),ae(ll,ll.current)}function Od(){Is=nc.current,Q(ll),Q(nc)}var Zn=O(null),Ei=null;function ha(t){var n=t.alternate;ae(Mt,Mt.current&1),ae(Zn,t),Ei===null&&(n===null||ll.current!==null||n.memoizedState!==null)&&(Ei=t)}function jd(t){ae(Mt,Mt.current),ae(Zn,t),Ei===null&&(Ei=t)}function Dg(t){t.tag===22?(ae(Mt,Mt.current),ae(Zn,t),Ei===null&&(Ei=t)):da()}function da(){ae(Mt,Mt.current),ae(Zn,Zn.current)}function Wn(t){Q(Zn),Ei===t&&(Ei=null),Q(Mt)}var Mt=O(0);function ic(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qf(a)||Hf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ts=0,De=null,ot=null,Bt=null,sc=!1,ol=!1,Tr=!1,ac=0,xo=0,ul=null,eT=0;function Ct(){throw Error(r(321))}function Vd(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!$n(t[a],n[a]))return!1;return!0}function zd(t,n,a,l,h,d){return Ts=d,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?m0:Zd,Tr=!1,d=a(l,h),Tr=!1,ol&&(d=Mg(n,a,l,h)),kg(t),d}function kg(t){F.H=So;var n=ot!==null&&ot.next!==null;if(Ts=0,Bt=ot=De=null,sc=!1,xo=0,ul=null,n)throw Error(r(300));t===null||qt||(t=t.dependencies,t!==null&&Xu(t)&&(qt=!0))}function Mg(t,n,a,l){De=t;var h=0;do{if(ol&&(ul=null),xo=0,ol=!1,25<=h)throw Error(r(301));if(h+=1,Bt=ot=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=p0,d=n(a,l)}while(ol);return d}function tT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?wo(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(De.flags|=1024),n}function Ud(){var t=ac!==0;return ac=0,t}function Ld(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Pd(t){if(sc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}sc=!1}Ts=0,Bt=ot=De=null,ol=!1,xo=ac=0,ul=null}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?De.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Ot(){if(ot===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Bt===null?De.memoizedState:Bt.next;if(n!==null)Bt=n,ot=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Bt===null?De.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wo(t){var n=xo;return xo+=1,ul===null&&(ul=[]),t=xg(ul,t,n),n=De,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?m0:Zd),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wo(t);if(t.$$typeof===xe)return un(t)}throw Error(r(438,String(t)))}function Bd(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=rc(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function xs(t,n){return typeof n=="function"?n(t):n}function oc(t){var n=Ot();return qd(n,ot,t)}function qd(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var g=h.next;h.next=d.next,d.next=g}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=g=null,C=null,P=n,K=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Le&J)===J:(Ts&J)===J){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===il&&(K=!0);else if((Ts&B)===B){P=P.next,B===il&&(K=!0);continue}else J={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=J,g=d):C=C.next=J,De.lanes|=B,pa|=B;J=P.action,Tr&&a(d,J),d=P.hasEagerState?P.eagerState:a(d,J)}else B={lane:J,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=B,g=d):C=C.next=B,De.lanes|=J,pa|=J;P=P.next}while(P!==null&&P!==n);if(C===null?g=d:C.next=E,!$n(d,t.memoizedState)&&(qt=!0,K&&(a=sl,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hd(t){var n=Ot(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do d=t(d,g.action),g=g.next;while(g!==h);$n(d,n.memoizedState)||(qt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Og(t,n,a){var l=De,h=Ot(),d=Fe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!$n((ot||h).memoizedState,a);if(g&&(h.memoizedState=a,qt=!0),h=h.queue,Kd(zg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,cl(9,{destroy:void 0},Vg.bind(null,l,h,a,n),null),ht===null)throw Error(r(349));d||(Ts&127)!==0||jg(l,n,a)}return a}function jg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=rc(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Vg(t,n,a,l){n.value=a,n.getSnapshot=l,Ug(n)&&Lg(t)}function zg(t,n,a){return a(function(){Ug(n)&&Lg(t)})}function Ug(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!$n(t,a)}catch{return!0}}function Lg(t){var n=fr(t,2);n!==null&&Un(n,t,2)}function Fd(t){var n=In();if(typeof t=="function"){var a=t;if(t=a(),Tr){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:t},n}function Pg(t,n,a,l){return t.baseState=a,qd(t,ot,typeof l=="function"?l:xs)}function nT(t,n,a,l,h){if(hc(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Bg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Bg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=F.T,g={};F.T=g;try{var E=a(h,l),C=F.S;C!==null&&C(g,E),qg(t,n,E)}catch(P){Gd(t,n,P)}finally{d!==null&&g.types!==null&&(d.types=g.types),F.T=d}}else try{d=a(h,l),qg(t,n,d)}catch(P){Gd(t,n,P)}}function qg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hg(t,n,l)},function(l){return Gd(t,n,l)}):Hg(t,n,a)}function Hg(t,n,a){n.status="fulfilled",n.value=a,Fg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Bg(t,a)))}function Gd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Fg(n),n=n.next;while(n!==l)}t.action=null}function Fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Gg(t,n){return n}function Kg(t,n){if(Fe){var a=ht.formState;if(a!==null){e:{var l=De;if(Fe){if(gt){t:{for(var h=gt,d=bi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ti(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){gt=Ti(h.nextSibling),l=h.data==="F!";break e}}ra(l)}l=!1}l&&(n=a[0])}}return a=In(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:n},a.queue=l,a=h0.bind(null,De,l),l.dispatch=a,l=Fd(!1),d=Jd.bind(null,De,!1,l.queue),l=In(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=nT.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Qg(t){var n=Ot();return Yg(n,ot,t)}function Yg(t,n,a){if(n=qd(t,n,Gg)[0],t=oc(xs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=wo(n)}catch(g){throw g===al?Zu:g}else l=n;n=Ot();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,cl(9,{destroy:void 0},iT.bind(null,h,a),null)),[l,d,t]}function iT(t,n){t.action=n}function Xg(t){var n=Ot(),a=ot;if(a!==null)return Yg(n,a,t);Ot(),n=n.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function cl(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=De.updateQueue,n===null&&(n=rc(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function $g(){return Ot().memoizedState}function uc(t,n,a,l){var h=In();De.flags|=t,h.memoizedState=cl(1|n,{destroy:void 0},a,l===void 0?null:l)}function cc(t,n,a,l){var h=Ot();l=l===void 0?null:l;var d=h.memoizedState.inst;ot!==null&&l!==null&&Vd(l,ot.memoizedState.deps)?h.memoizedState=cl(n,d,a,l):(De.flags|=t,h.memoizedState=cl(1|n,d,a,l))}function Jg(t,n){uc(8390656,8,t,n)}function Kd(t,n){cc(2048,8,t,n)}function sT(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=rc(),De.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Zg(t){var n=Ot().memoizedState;return sT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Wg(t,n){return cc(4,2,t,n)}function e0(t,n){return cc(4,4,t,n)}function t0(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function n0(t,n,a){a=a!=null?a.concat([t]):null,cc(4,4,t0.bind(null,n,t),a)}function Qd(){}function i0(t,n){var a=Ot();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Vd(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function s0(t,n){var a=Ot();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Vd(n,l[1]))return l[0];if(l=t(),Tr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l}function Yd(t,n,a){return a===void 0||(Ts&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=ay(),De.lanes|=t,pa|=t,a)}function a0(t,n,a,l){return $n(a,n)?a:ll.current!==null?(t=Yd(t,a,l),$n(t,n)||(qt=!0),t):(Ts&42)===0||(Ts&1073741824)!==0&&(Le&261930)===0?(qt=!0,t.memoizedState=a):(t=ay(),De.lanes|=t,pa|=t,n)}function r0(t,n,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var g=F.T,E={};F.T=E,Jd(t,!1,n,a);try{var C=h(),P=F.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=WE(C,l);Ao(t,n,K,ni(t))}else Ao(t,n,l,ni(t))}catch(J){Ao(t,n,{then:function(){},status:"rejected",reason:J},ni())}finally{ie.p=d,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function aT(){}function Xd(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=l0(t).queue;r0(t,h,n,pe,a===null?aT:function(){return o0(t),a(l)})}function l0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:pe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function o0(t){var n=l0(t);n.next===null&&(n=t.alternate.memoizedState),Ao(t,n.next.queue,{},ni())}function $d(){return un(qo)}function u0(){return Ot().memoizedState}function c0(){return Ot().memoizedState}function rT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=ni();t=ua(a);var l=ca(n,t,a);l!==null&&(Un(l,n,a),bo(l,n,a)),n={cache:Ad()},t.payload=n;return}n=n.return}}function lT(t,n,a){var l=ni();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?d0(n,a):(a=md(t,n,a,l),a!==null&&(Un(a,t,l),f0(a,n,l)))}function h0(t,n,a){var l=ni();Ao(t,n,a,l)}function Ao(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))d0(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,E=d(g,a);if(h.hasEagerState=!0,h.eagerState=E,$n(E,g))return Gu(t,n,h,0),ht===null&&Fu(),!1}catch{}if(a=md(t,n,h,l),a!==null)return Un(a,t,l),f0(a,n,l),!0}return!1}function Jd(t,n,a,l){if(l={lane:2,revertLane:If(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(n)throw Error(r(479))}else n=md(t,a,l,2),n!==null&&Un(n,t,2)}function hc(t){var n=t.alternate;return t===De||n!==null&&n===De}function d0(t,n){ol=sc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function f0(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,rt(t,a)}}var So={readContext:un,use:lc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};So.useEffectEvent=Ct;var m0={readContext:un,use:lc,useCallback:function(t,n){return In().memoizedState=[t,n===void 0?null:n],t},useContext:un,useEffect:Jg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,uc(4194308,4,t0.bind(null,n,t),a)},useLayoutEffect:function(t,n){return uc(4194308,4,t,n)},useInsertionEffect:function(t,n){uc(4,2,t,n)},useMemo:function(t,n){var a=In();n=n===void 0?null:n;var l=t();if(Tr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=In();if(a!==void 0){var h=a(n);if(Tr){Tn(!0);try{a(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lT.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var n=In();return t={current:t},n.memoizedState=t},useState:function(t){t=Fd(t);var n=t.queue,a=h0.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Qd,useDeferredValue:function(t,n){var a=In();return Yd(a,t,n)},useTransition:function(){var t=Fd(!1);return t=r0.bind(null,De,t.queue,!0,!1),In().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=De,h=In();if(Fe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(Le&127)!==0||jg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Jg(zg.bind(null,l,d,t),[t]),l.flags|=2048,cl(9,{destroy:void 0},Vg.bind(null,l,d,a,n),null),a},useId:function(){var t=In(),n=ht.identifierPrefix;if(Fe){var a=es,l=Wi;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ac++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=eT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:$d,useFormState:Kg,useActionState:Kg,useOptimistic:function(t){var n=In();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Jd.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:Bd,useCacheRefresh:function(){return In().memoizedState=rT.bind(null,De)},useEffectEvent:function(t){var n=In(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Zd={readContext:un,use:lc,useCallback:i0,useContext:un,useEffect:Kd,useImperativeHandle:n0,useInsertionEffect:Wg,useLayoutEffect:e0,useMemo:s0,useReducer:oc,useRef:$g,useState:function(){return oc(xs)},useDebugValue:Qd,useDeferredValue:function(t,n){var a=Ot();return a0(a,ot.memoizedState,t,n)},useTransition:function(){var t=oc(xs)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:wo(t),n]},useSyncExternalStore:Og,useId:u0,useHostTransitionStatus:$d,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,n){var a=Ot();return Pg(a,ot,t,n)},useMemoCache:Bd,useCacheRefresh:c0};Zd.useEffectEvent=Zg;var p0={readContext:un,use:lc,useCallback:i0,useContext:un,useEffect:Kd,useImperativeHandle:n0,useInsertionEffect:Wg,useLayoutEffect:e0,useMemo:s0,useReducer:Hd,useRef:$g,useState:function(){return Hd(xs)},useDebugValue:Qd,useDeferredValue:function(t,n){var a=Ot();return ot===null?Yd(a,t,n):a0(a,ot.memoizedState,t,n)},useTransition:function(){var t=Hd(xs)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:wo(t),n]},useSyncExternalStore:Og,useId:u0,useHostTransitionStatus:$d,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,n){var a=Ot();return ot!==null?Pg(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:c0};p0.useEffectEvent=Zg;function Wd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ef={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=ni(),h=ua(l);h.payload=n,a!=null&&(h.callback=a),n=ca(t,h,l),n!==null&&(Un(n,t,l),bo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=ni(),h=ua(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ca(t,h,l),n!==null&&(Un(n,t,l),bo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=ni(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=ca(t,l,a),n!==null&&(Un(n,t,a),bo(n,t,a))}};function g0(t,n,a,l,h,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!ho(a,l)||!ho(h,d):!0}function y0(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&ef.enqueueReplaceState(n,n.state,null)}function xr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function _0(t){Hu(t)}function v0(t){console.error(t)}function b0(t){Hu(t)}function dc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function E0(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function tf(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,n)},a}function T0(t){return t=ua(t),t.tag=3,t}function x0(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){E0(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){E0(n,a,l),typeof h!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function oT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&nl(n,a,h,!0),a=Zn.current,a!==null){switch(a.tag){case 31:case 13:return Ei===null?wc():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Nf(t,l,h)),!1;case 22:return a.flags|=65536,l===Wu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Nf(t,l,h)),!1}throw Error(r(435,a.tag))}return Nf(t,l,h),wc(),!1}if(Fe)return n=Zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==bd&&(t=Error(r(422),{cause:l}),po(yi(t,a)))):(l!==bd&&(n=Error(r(423),{cause:l}),po(yi(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=yi(l,a),h=tf(t.stateNode,l,h),Dd(t,h),Rt!==4&&(Rt=2)),!1;var d=Error(r(520),{cause:l});if(d=yi(d,a),Oo===null?Oo=[d]:Oo.push(d),Rt!==4&&(Rt=2),n===null)return!0;l=yi(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=tf(a.stateNode,l,t),Dd(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ga===null||!ga.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=T0(h),x0(h,t,a,l),Dd(a,h),!1}a=a.return}while(a!==null);return!1}var nf=Error(r(461)),qt=!1;function cn(t,n,a,l){n.child=t===null?Ng(n,null,a,l):Er(n,t.child,a,l)}function w0(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return yr(n),l=zd(t,n,a,g,d,h),E=Ud(),t!==null&&!qt?(Ld(t,n,h),ws(t,n,h)):(Fe&&E&&_d(n),n.flags|=1,cn(t,n,l,h),n.child)}function A0(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!pd(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,S0(t,n,d,l,h)):(t=Qu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!hf(t,h)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:ho,a(g,l)&&t.ref===n.ref)return ws(t,n,h)}return n.flags|=1,t=_s(d,l),t.ref=n.ref,t.return=n,n.child=t}function S0(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(ho(d,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=d,hf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,ws(t,n,h)}return sf(t,n,a,l,h)}function N0(t,n,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return C0(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(n,d!==null?d.cachePool:null),d!==null?Ig(n,d):Md(),Dg(n);else return l=n.lanes=536870912,C0(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ju(n,d.cachePool),Ig(n,d),da(),n.memoizedState=null):(t!==null&&Ju(n,null),Md(),da());return cn(t,n,h,a),n.child}function No(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function C0(t,n,a,l,h){var d=Nd();return d=d===null?null:{parent:Pt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ju(n,null),Md(),Dg(n),t!==null&&nl(t,n,l,!0),n.childLanes=h,null}function fc(t,n){return n=pc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function R0(t,n,a){return Er(n,t.child,null,a),t=fc(n,n.pendingProps),t.flags|=2,Wn(n),n.memoizedState=null,t}function uT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=fc(n,l),n.lanes=536870912,No(null,t);if(jd(n),(t=gt)?(t=By(t,bi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:Wi,overflow:es}:null,retryLane:536870912,hydrationErrors:null},a=dg(t),a.return=n,n.child=a,on=n,gt=null)):t=null,t===null)throw ra(n);return n.lanes=536870912,null}return fc(n,l)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(jd(n),h)if(n.flags&256)n.flags&=-257,n=R0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(qt||nl(t,n,a,!1),h=(a&t.childLanes)!==0,qt||h){if(l=ht,l!==null&&(g=Ja(l,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,fr(t,g),Un(l,t,g),nf;wc(),n=R0(t,n,a)}else t=d.treeContext,gt=Ti(g.nextSibling),on=n,Fe=!0,aa=null,bi=!1,t!==null&&pg(n,t),n=fc(n,l),n.flags|=4096;return n}return t=_s(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function sf(t,n,a,l,h){return yr(n),a=zd(t,n,a,l,void 0,h),l=Ud(),t!==null&&!qt?(Ld(t,n,h),ws(t,n,h)):(Fe&&l&&_d(n),n.flags|=1,cn(t,n,a,h),n.child)}function I0(t,n,a,l,h,d){return yr(n),n.updateQueue=null,a=Mg(n,l,a,h),kg(t),l=Ud(),t!==null&&!qt?(Ld(t,n,d),ws(t,n,d)):(Fe&&l&&_d(n),n.flags|=1,cn(t,n,a,d),n.child)}function D0(t,n,a,l,h){if(yr(n),n.stateNode===null){var d=Zr,g=a.contextType;typeof g=="object"&&g!==null&&(d=un(g)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ef,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Rd(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?un(g):Zr,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Wd(n,a,g,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&ef.enqueueReplaceState(d,d.state,null),To(n,l,d,h),Eo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,C=xr(a,E);d.props=C;var P=d.context,K=a.contextType;g=Zr,typeof K=="object"&&K!==null&&(g=un(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||P!==g)&&y0(n,d,l,g),oa=!1;var B=n.memoizedState;d.state=B,To(n,l,d,h),Eo(),P=n.memoizedState,E||B!==P||oa?(typeof J=="function"&&(Wd(n,a,J,l),P=n.memoizedState),(C=oa||g0(n,a,C,l,B,P,g))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),d.props=l,d.state=P,d.context=g,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Id(t,n),g=n.memoizedProps,K=xr(a,g),d.props=K,J=n.pendingProps,B=d.context,P=a.contextType,C=Zr,typeof P=="object"&&P!==null&&(C=un(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==J||B!==C)&&y0(n,d,l,C),oa=!1,B=n.memoizedState,d.state=B,To(n,l,d,h),Eo();var H=n.memoizedState;g!==J||B!==H||oa||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof E=="function"&&(Wd(n,a,E,l),H=n.memoizedState),(K=oa||g0(n,a,K,l,B,H,C)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,mc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Er(n,t.child,null,h),n.child=Er(n,null,a,h)):cn(t,n,a,h),n.memoizedState=d.state,t=n.child):t=ws(t,n,h),t}function k0(t,n,a,l){return pr(),n.flags|=256,cn(t,n,a,l),n.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(t){return{baseLanes:t,cachePool:Eg()}}function lf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=ti),t}function M0(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?ha(n):da(),(t=gt)?(t=By(t,bi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:Wi,overflow:es}:null,retryLane:536870912,hydrationErrors:null},a=dg(t),a.return=n,n.child=a,on=n,gt=null)):t=null,t===null)throw ra(n);return Hf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(da(),h=n.mode,E=pc({mode:"hidden",children:E},h),l=mr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=rf(a),l.childLanes=lf(t,g,a),n.memoizedState=af,No(null,l)):(ha(n),of(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)n.flags&256?(ha(n),n.flags&=-257,n=uf(t,n,a)):n.memoizedState!==null?(da(),n.child=t.child,n.flags|=128,n=null):(da(),E=l.fallback,h=n.mode,l=pc({mode:"visible",children:l.children},h),E=mr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Er(n,t.child,null,a),l=n.child,l.memoizedState=rf(a),l.childLanes=lf(t,g,a),n.memoizedState=af,n=No(null,l));else if(ha(n),Hf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(r(419)),l.stack="",l.digest=g,po({value:l,source:null,stack:null}),n=uf(t,n,a)}else if(qt||nl(t,n,a,!1),g=(a&t.childLanes)!==0,qt||g){if(g=ht,g!==null&&(l=Ja(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,fr(t,l),Un(g,t,l),nf;qf(E)||wc(),n=uf(t,n,a)}else qf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,gt=Ti(E.nextSibling),on=n,Fe=!0,aa=null,bi=!1,t!==null&&pg(n,t),n=of(n,l.children),n.flags|=4096);return n}return h?(da(),E=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=_s(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=_s(P,E):(E=mr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,No(null,l),l=n.child,E=t.child.memoizedState,E===null?E=rf(a):(h=E.cachePool,h!==null?(C=Pt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Eg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=lf(t,g,a),n.memoizedState=af,No(t.child,l)):(ha(n),a=t.child,t=a.sibling,a=_s(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function of(t,n){return n=pc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pc(t,n){return t=Jn(22,t,null,n),t.lanes=0,t}function uf(t,n,a){return Er(n,t.child,null,a),t=of(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function O0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xd(t.return,n,a)}function cf(t,n,a,l,h,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=d)}function j0(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var g=Mt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ae(Mt,g),cn(t,n,l,a),l=Fe?mo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O0(t,a,n);else if(t.tag===19)O0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),cf(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cf(n,!0,a,null,d,l);break;case"together":cf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ws(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),pa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(nl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=_s(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_s(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function cT(t,n,a){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),la(n,Pt,t.memoizedState.cache),pr();break;case 27:case 5:Hs(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:la(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,jd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?M0(t,n,a):(ha(n),t=ws(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(nl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return j0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,N0(t,n,a,n.pendingProps);case 24:la(n,Pt,t.memoizedState.cache)}return ws(t,n,a)}function V0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!hf(t,a)&&(n.flags&128)===0)return qt=!1,cT(t,n,a);qt=(t.flags&131072)!==0}else qt=!1,Fe&&(n.flags&1048576)!==0&&mg(n,mo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=vr(n.elementType),n.type=t,typeof t=="function")pd(t)?(l=xr(t,l),n.tag=1,n=D0(null,n,t,l,a)):(n.tag=0,n=sf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===we){n.tag=11,n=w0(null,n,t,l,a);break e}else if(h===R){n.tag=14,n=A0(null,n,t,l,a);break e}}throw n=Ze(t)||t,Error(r(306,n,""))}}return n;case 0:return sf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=xr(l,n.pendingProps),D0(t,n,l,h,a);case 3:e:{if(je(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Id(t,n),To(n,l,null,a);var g=n.memoizedState;if(l=g.cache,la(n,Pt,l),l!==d.cache&&wd(n,[Pt],a,!0),Eo(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=k0(t,n,l,a);break e}else if(l!==h){h=yi(Error(r(424)),n),po(h),n=k0(t,n,l,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,gt=Ti(t.firstChild),on=n,Fe=!0,aa=null,bi=!0,a=Ng(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(pr(),l===h){n=ws(t,n,a);break e}cn(t,n,l,a)}n=n.child}return n;case 26:return mc(t,n),t===null?(a=Qy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Fe||(a=n.type,t=n.pendingProps,l=Dc(Te.current).createElement(a),l[xt]=n,l[vt]=t,hn(l,a,t),St(l),n.stateNode=l):n.memoizedState=Qy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hs(n),t===null&&Fe&&(l=n.stateNode=Fy(n.type,n.pendingProps,Te.current),on=n,bi=!0,h=gt,ba(n.type)?(Ff=h,gt=Ti(l.firstChild)):gt=h),cn(t,n,n.pendingProps.children,a),mc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=l=gt)&&(l=PT(l,n.type,n.pendingProps,bi),l!==null?(n.stateNode=l,on=n,gt=Ti(l.firstChild),bi=!1,h=!0):h=!1),h||ra(n)),Hs(n),h=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,Lf(h,d)?l=null:g!==null&&Lf(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=zd(t,n,tT,null,null,a),qo._currentValue=h),mc(t,n),cn(t,n,l,a),n.child;case 6:return t===null&&Fe&&((t=a=gt)&&(a=BT(a,n.pendingProps,bi),a!==null?(n.stateNode=a,on=n,gt=null,t=!0):t=!1),t||ra(n)),null;case 13:return M0(t,n,a);case 4:return je(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Er(n,null,l,a):cn(t,n,l,a),n.child;case 11:return w0(t,n,n.type,n.pendingProps,a);case 7:return cn(t,n,n.pendingProps,a),n.child;case 8:return cn(t,n,n.pendingProps.children,a),n.child;case 12:return cn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,la(n,n.type,l.value),cn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,yr(n),h=un(h),l=l(h),n.flags|=1,cn(t,n,l,a),n.child;case 14:return A0(t,n,n.type,n.pendingProps,a);case 15:return S0(t,n,n.type,n.pendingProps,a);case 19:return j0(t,n,a);case 31:return uT(t,n,a);case 22:return N0(t,n,a,n.pendingProps);case 24:return yr(n),l=un(Pt),t===null?(h=Nd(),h===null&&(h=ht,d=Ad(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Rd(n),la(n,Pt,h)):((t.lanes&a)!==0&&(Id(t,n),To(n,null,null,a),Eo()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),la(n,Pt,l)):(l=d.cache,la(n,Pt,l),l!==h.cache&&wd(n,[Pt],a,!0))),cn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function As(t){t.flags|=4}function df(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(uy())t.flags|=8192;else throw br=Wu,Cd}else t.flags&=-16777217}function z0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zy(n))if(uy())t.flags|=8192;else throw br=Wu,Cd}function gc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Fi():536870912,t.lanes|=n,ml|=n)}function Co(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function hT(t,n,a){var l=n.pendingProps;switch(vd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Es(Pt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?As(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ed())),yt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(As(n),d!==null?(yt(n),z0(n,d)):(yt(n),df(n,h,null,l,a))):d?d!==t.memoizedState?(As(n),yt(n),z0(n,d)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&As(n),yt(n),df(n,h,t,l,a)),null;case 27:if(Ya(n),a=Te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return yt(n),null}t=re.current,tl(n)?gg(n):(t=Fy(h,l,a),n.stateNode=t,As(n))}return yt(n),null;case 5:if(Ya(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return yt(n),null}if(d=re.current,tl(n))gg(n);else{var g=Dc(Te.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}d[xt]=n,d[vt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=d;e:switch(hn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&As(n)}}return yt(n),df(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Te.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||My(t.nodeValue,a)),t||ra(n,!0)}else t=Dc(t).createTextNode(l),t[xt]=n,n.stateNode=t}return yt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=tl(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else a=Ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Wn(n),n):(Wn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[xt]=n}else pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=Ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Wn(n),n):(Wn(n),null)}return Wn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),gc(n,n.updateQueue),yt(n),null);case 4:return Ye(),t===null&&Of(n.stateNode.containerInfo),yt(n),null;case 10:return Es(n.type),yt(n),null;case 19:if(Q(Mt),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Co(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=ic(t),d!==null){for(n.flags|=128,Co(l,!1),t=d.updateQueue,n.updateQueue=t,gc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)hg(a,t),a=a.sibling;return ae(Mt,Mt.current&1|2),Fe&&vs(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&nt()>Ec&&(n.flags|=128,h=!0,Co(l,!1),n.lanes=4194304)}else{if(!h)if(t=ic(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,gc(n,t),Co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return yt(n),null}else 2*nt()-l.renderingStartTime>Ec&&a!==536870912&&(n.flags|=128,h=!0,Co(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nt(),t.sibling=null,a=Mt.current,ae(Mt,h?a&1|2:a&1),Fe&&vs(n,l.treeForkCount),t):(yt(n),null);case 22:case 23:return Wn(n),Od(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),a=n.updateQueue,a!==null&&gc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(_r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Es(Pt),yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function dT(t,n){switch(vd(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Es(Pt),Ye(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ya(n),null;case 31:if(n.memoizedState!==null){if(Wn(n),n.alternate===null)throw Error(r(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Wn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Mt),null;case 4:return Ye(),null;case 10:return Es(n.type),null;case 22:case 23:return Wn(n),Od(),t!==null&&Q(_r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Es(Pt),null;case 25:return null;default:return null}}function U0(t,n){switch(vd(n),n.tag){case 3:Es(Pt),Ye();break;case 26:case 27:case 5:Ya(n);break;case 4:Ye();break;case 31:n.memoizedState!==null&&Wn(n);break;case 13:Wn(n);break;case 19:Q(Mt);break;case 10:Es(n.type);break;case 22:case 23:Wn(n),Od(),t!==null&&Q(_r);break;case 24:Es(Pt)}}function Ro(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){at(n,n.return,E)}}function fa(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,P=E;try{P()}catch(K){at(h,C,K)}}}l=l.next}while(l!==d)}}catch(K){at(n,n.return,K)}}function L0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Rg(n,a)}catch(l){at(t,t.return,l)}}}function P0(t,n,a){a.props=xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,n,l)}}function Io(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,n,h)}}function ts(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,n,h)}else a.current=null}function B0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function ff(t,n,a){try{var l=t.stateNode;OT(l,t.type,a,n),l[vt]=n}catch(h){at(t,t.return,h)}}function q0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ba(t.type)||t.tag===4}function mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ii));else if(l!==4&&(l===27&&ba(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(pf(t,n,a),t=t.sibling;t!==null;)pf(t,n,a),t=t.sibling}function yc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ba(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,n,a),t=t.sibling;t!==null;)yc(t,n,a),t=t.sibling}function H0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);hn(n,l,a),n[xt]=t,n[vt]=a}catch(d){at(t,t.return,d)}}var Ss=!1,Ht=!1,gf=!1,F0=typeof WeakSet=="function"?WeakSet:Set,tn=null;function fT(t,n){if(t=t.containerInfo,zf=Uc,t=ng(t),od(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,E=-1,C=-1,P=0,K=0,J=t,B=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(E=g+h),J!==d||l!==0&&J.nodeType!==3||(C=g+l),J.nodeType===3&&(g+=J.nodeValue.length),(H=J.firstChild)!==null;)B=J,J=H;for(;;){if(J===t)break t;if(B===a&&++P===h&&(E=g),B===d&&++K===l&&(C=g),(H=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uf={focusedElem:t,selectionRange:a},Uc=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=xr(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){at(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Bf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function G0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Cs(t,a),l&4&&Ro(5,a);break;case 1:if(Cs(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){at(a,a.return,g)}else{var h=xr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){at(a,a.return,g)}}l&64&&L0(a),l&512&&Io(a,a.return);break;case 3:if(Cs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Rg(t,n)}catch(g){at(a,a.return,g)}}break;case 27:n===null&&l&4&&H0(a);case 26:case 5:Cs(t,a),n===null&&l&4&&B0(a),l&512&&Io(a,a.return);break;case 12:Cs(t,a);break;case 31:Cs(t,a),l&4&&Y0(t,a);break;case 13:Cs(t,a),l&4&&X0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TT.bind(null,a),qT(t,a))));break;case 22:if(l=a.memoizedState!==null||Ss,!l){n=n!==null&&n.memoizedState!==null||Ht,h=Ss;var d=Ht;Ss=l,(Ht=n)&&!d?Rs(t,a,(a.subtreeFlags&8772)!==0):Cs(t,a),Ss=h,Ht=d}break;case 30:break;default:Cs(t,a)}}function K0(t){var n=t.alternate;n!==null&&(t.alternate=null,K0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ys(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,On=!1;function Ns(t,n,a){for(a=a.child;a!==null;)Q0(t,n,a),a=a.sibling}function Q0(t,n,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(sn,a)}catch{}switch(a.tag){case 26:Ht||ts(a,n),Ns(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ht||ts(a,n);var l=Et,h=On;ba(a.type)&&(Et=a.stateNode,On=!1),Ns(t,n,a),Lo(a.stateNode),Et=l,On=h;break;case 5:Ht||ts(a,n);case 6:if(l=Et,h=On,Et=null,Ns(t,n,a),Et=l,On=h,Et!==null)if(On)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(d){at(a,n,d)}else try{Et.removeChild(a.stateNode)}catch(d){at(a,n,d)}break;case 18:Et!==null&&(On?(t=Et,Ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tl(t)):Ly(Et,a.stateNode));break;case 4:l=Et,h=On,Et=a.stateNode.containerInfo,On=!0,Ns(t,n,a),Et=l,On=h;break;case 0:case 11:case 14:case 15:fa(2,a,n),Ht||fa(4,a,n),Ns(t,n,a);break;case 1:Ht||(ts(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&P0(a,n,l)),Ns(t,n,a);break;case 21:Ns(t,n,a);break;case 22:Ht=(l=Ht)||a.memoizedState!==null,Ns(t,n,a),Ht=l;break;default:Ns(t,n,a)}}function Y0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tl(t)}catch(a){at(n,n.return,a)}}}function X0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(a){at(n,n.return,a)}}function mT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new F0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new F0),n;default:throw Error(r(435,t.tag))}}function _c(t,n){var a=mT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=xT.bind(null,t,l);l.then(h,h)}})}function jn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(ba(E.type)){Et=E.stateNode,On=!1;break e}break;case 5:Et=E.stateNode,On=!1;break e;case 3:case 4:Et=E.stateNode.containerInfo,On=!0;break e}E=E.return}if(Et===null)throw Error(r(160));Q0(d,g,h),Et=null,On=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$0(n,t),n=n.sibling}var Vi=null;function $0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(n,t),Vn(t),l&4&&(fa(3,t,t.return),Ro(3,t),fa(5,t,t.return));break;case 1:jn(n,t),Vn(t),l&512&&(Ht||a===null||ts(a,a.return)),l&64&&Ss&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Vi;if(jn(n,t),Vn(t),l&512&&(Ht||a===null||ts(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[An]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),hn(d,l,a),d[xt]=t,St(d),l=d;break e;case"link":var g=$y("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(d=g[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}d=h.createElement(l),hn(d,l,a),h.head.appendChild(d);break;case"meta":if(g=$y("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(d=g[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}d=h.createElement(l),hn(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[xt]=t,St(d),l=d}t.stateNode=l}else Jy(h,t.type,t.stateNode);else t.stateNode=Xy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Jy(h,t.type,t.stateNode):Xy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ff(t,t.memoizedProps,a.memoizedProps)}break;case 27:jn(n,t),Vn(t),l&512&&(Ht||a===null||ts(a,a.return)),a!==null&&l&4&&ff(t,t.memoizedProps,a.memoizedProps);break;case 5:if(jn(n,t),Vn(t),l&512&&(Ht||a===null||ts(a,a.return)),t.flags&32){h=t.stateNode;try{Mn(h,"")}catch(he){at(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ff(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gf=!0);break;case 6:if(jn(n,t),Vn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){at(t,t.return,he)}}break;case 3:if(Oc=null,h=Vi,Vi=kc(n.containerInfo),jn(n,t),Vi=h,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(n.containerInfo)}catch(he){at(t,t.return,he)}gf&&(gf=!1,J0(t));break;case 4:l=Vi,Vi=kc(t.stateNode.containerInfo),jn(n,t),Vn(t),Vi=l;break;case 12:jn(n,t),Vn(t);break;case 31:jn(n,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 13:jn(n,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Ss,K=Ht;if(Ss=P||h,Ht=K||C,jn(n,t),Ht=K,Ss=P,Vn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Ss||Ht||wr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,h)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var J=C.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){at(C,C.return,he)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){at(C,C.return,he)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?Py(H,!0):Py(C.stateNode,!1)}catch(he){at(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_c(t,a))));break;case 19:jn(n,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 30:break;case 21:break;default:jn(n,t),Vn(t)}}function Vn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(q0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=mf(t);yc(t,d,h);break;case 5:var g=a.stateNode;a.flags&32&&(Mn(g,""),a.flags&=-33);var E=mf(t);yc(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,P=mf(t);pf(t,P,C);break;default:throw Error(r(161))}}catch(K){at(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function J0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;J0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)G0(t,n.alternate,n),n=n.sibling}function wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fa(4,n,n.return),wr(n);break;case 1:ts(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&P0(n,n.return,a),wr(n);break;case 27:Lo(n.stateNode);case 26:case 5:ts(n,n.return),wr(n);break;case 22:n.memoizedState===null&&wr(n);break;case 30:wr(n);break;default:wr(n)}t=t.sibling}}function Rs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:Rs(h,d,a),Ro(4,d);break;case 1:if(Rs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){at(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Cg(C[h],E)}catch(P){at(l,l.return,P)}}a&&g&64&&L0(d),Io(d,d.return);break;case 27:H0(d);case 26:case 5:Rs(h,d,a),a&&l===null&&g&4&&B0(d),Io(d,d.return);break;case 12:Rs(h,d,a);break;case 31:Rs(h,d,a),a&&g&4&&Y0(h,d);break;case 13:Rs(h,d,a),a&&g&4&&X0(h,d);break;case 22:d.memoizedState===null&&Rs(h,d,a),Io(d,d.return);break;case 30:break;default:Rs(h,d,a)}n=n.sibling}}function yf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&go(a))}function _f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&go(t))}function zi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Z0(t,n,a,l),n=n.sibling}function Z0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:zi(t,n,a,l),h&2048&&Ro(9,n);break;case 1:zi(t,n,a,l);break;case 3:zi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&go(t)));break;case 12:if(h&2048){zi(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,E=d.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(n,n.return,C)}}else zi(t,n,a,l);break;case 31:zi(t,n,a,l);break;case 13:zi(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,g=n.alternate,n.memoizedState!==null?d._visibility&2?zi(t,n,a,l):Do(t,n):d._visibility&2?zi(t,n,a,l):(d._visibility|=2,hl(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&yf(g,n);break;case 24:zi(t,n,a,l),h&2048&&_f(n.alternate,n);break;default:zi(t,n,a,l)}}function hl(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,g=n,E=a,C=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:hl(d,g,E,C,h),Ro(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?hl(d,g,E,C,h):Do(d,g):(K._visibility|=2,hl(d,g,E,C,h)),h&&P&2048&&yf(g.alternate,g);break;case 24:hl(d,g,E,C,h),h&&P&2048&&_f(g.alternate,g);break;default:hl(d,g,E,C,h)}n=n.sibling}}function Do(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Do(a,l),h&2048&&yf(l.alternate,l);break;case 24:Do(a,l),h&2048&&_f(l.alternate,l);break;default:Do(a,l)}n=n.sibling}}var ko=8192;function dl(t,n,a){if(t.subtreeFlags&ko)for(t=t.child;t!==null;)W0(t,n,a),t=t.sibling}function W0(t,n,a){switch(t.tag){case 26:dl(t,n,a),t.flags&ko&&t.memoizedState!==null&&ex(a,Vi,t.memoizedState,t.memoizedProps);break;case 5:dl(t,n,a);break;case 3:case 4:var l=Vi;Vi=kc(t.stateNode.containerInfo),dl(t,n,a),Vi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ko,ko=16777216,dl(t,n,a),ko=l):dl(t,n,a));break;default:dl(t,n,a)}}function ey(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,ny(l,t)}ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ty(t),t=t.sibling}function ty(t){switch(t.tag){case 0:case 11:case 15:Mo(t),t.flags&2048&&fa(9,t,t.return);break;case 3:Mo(t);break;case 12:Mo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vc(t)):Mo(t);break;default:Mo(t)}}function vc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tn=l,ny(l,t)}ey(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fa(8,n,n.return),vc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,vc(n));break;default:vc(n)}t=t.sibling}}function ny(t,n){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:fa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tn=l;else e:for(a=t;tn!==null;){l=tn;var h=l.sibling,d=l.return;if(K0(l),l===a){tn=null;break e}if(h!==null){h.return=d,tn=h;break e}tn=d}}}var pT={getCacheForType:function(t){var n=un(Pt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return un(Pt).controller.signal}},gT=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,Ve=null,Le=0,st=0,ei=null,ma=!1,fl=!1,vf=!1,Is=0,Rt=0,pa=0,Ar=0,bf=0,ti=0,ml=0,Oo=null,zn=null,Ef=!1,bc=0,iy=0,Ec=1/0,Tc=null,ga=null,Yt=0,ya=null,pl=null,Ds=0,Tf=0,xf=null,sy=null,jo=0,wf=null;function ni(){return(et&2)!==0&&Le!==0?Le&-Le:F.T!==null?If():Ur()}function ay(){if(ti===0)if((Le&536870912)===0||Fe){var t=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),ti=t}else ti=536870912;return t=Zn.current,t!==null&&(t.flags|=32),ti}function Un(t,n,a){(t===ht&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(gl(t,0),_a(t,Le,ti,!1)),Ks(t,a),((et&2)===0||t!==ht)&&(t===ht&&((et&2)===0&&(Ar|=a),Rt===4&&_a(t,Le,ti,!1)),ns(t))}function ry(t,n,a){if((et&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Wt(t,n),h=l?vT(t,n):Sf(t,n,!0),d=l;do{if(h===0){fl&&!l&&_a(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!yT(a)){h=Sf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=Oo;var C=E.current.memoizedState.isDehydrated;if(C&&(gl(E,g).flags|=256),g=Sf(E,g,!1),g!==2){if(vf&&!C){E.errorRecoveryDisabledLanes|=d,Ar|=d,h=4;break e}d=zn,zn=h,d!==null&&(zn===null?zn=d:zn.push.apply(zn,d))}h=g}if(d=!1,h!==2)continue}}if(h===1){gl(t,0),_a(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:_a(l,n,ti,!ma);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=bc+300-nt(),10<h)){if(_a(l,n,ti,!ma),zt(l,0,!0)!==0)break e;Ds=n,l.timeoutHandle=zy(ly.bind(null,l,a,zn,Tc,Ef,n,ti,Ar,ml,ma,d,"Throttled",-0,0),h);break e}ly(l,a,zn,Tc,Ef,n,ti,Ar,ml,ma,d,null,-0,0)}}break}while(!0);ns(t)}function ly(t,n,a,l,h,d,g,E,C,P,K,J,B,H){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ii},W0(n,d,J);var he=(d&62914560)===d?bc-nt():(d&4194048)===d?iy-nt():0;if(he=tx(J,he),he!==null){Ds=d,t.cancelPendingCommit=he(py.bind(null,t,n,d,a,l,h,g,E,C,K,J,null,B,H)),_a(t,d,g,!P);return}}py(t,n,d,a,l,h,g,E,C)}function yT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!$n(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(t,n,a,l){n&=~bf,n&=~Ar,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Tt(h),g=1<<d;l[d]=-1,h&=~g}a!==0&&Gi(t,a,n)}function xc(){return(et&6)===0?(Vo(0),!1):!0}function Af(){if(Ve!==null){if(st===0)var t=Ve.return;else t=Ve,bs=gr=null,Pd(t),rl=null,_o=0,t=Ve;for(;t!==null;)U0(t.alternate,t),t=t.return;Ve=null}}function gl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ds=0,Af(),ht=t,Ve=a=_s(t.current,null),Le=n,st=0,ei=null,ma=!1,fl=Wt(t,n),vf=!1,ml=ti=bf=Ar=pa=Rt=0,zn=Oo=null,Ef=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Tt(l),d=1<<h;n|=t[h],l&=~d}return Is=n,Fu(),a}function oy(t,n){De=null,F.H=So,n===al||n===Zu?(n=wg(),st=3):n===Cd?(n=wg(),st=4):st=n===nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ei=n,Ve===null&&(Rt=1,dc(t,yi(n,t.current)))}function uy(){var t=Zn.current;return t===null?!0:(Le&4194048)===Le?Ei===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Ei:!1}function cy(){var t=F.H;return F.H=So,t===null?So:t}function hy(){var t=F.A;return F.A=pT,t}function wc(){Rt=4,ma||(Le&4194048)!==Le&&Zn.current!==null||(fl=!0),(pa&134217727)===0&&(Ar&134217727)===0||ht===null||_a(ht,Le,ti,!1)}function Sf(t,n,a){var l=et;et|=2;var h=cy(),d=hy();(ht!==t||Le!==n)&&(Tc=null,gl(t,n)),n=!1;var g=Rt;e:do try{if(st!==0&&Ve!==null){var E=Ve,C=ei;switch(st){case 8:Af(),g=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(n=!0);var P=st;if(st=0,ei=null,yl(t,E,C,P),a&&fl){g=0;break e}break;default:P=st,st=0,ei=null,yl(t,E,C,P)}}_T(),g=Rt;break}catch(K){oy(t,K)}while(!0);return n&&t.shellSuspendCounter++,bs=gr=null,et=l,F.H=h,F.A=d,Ve===null&&(ht=null,Le=0,Fu()),g}function _T(){for(;Ve!==null;)dy(Ve)}function vT(t,n){var a=et;et|=2;var l=cy(),h=hy();ht!==t||Le!==n?(Tc=null,Ec=nt()+500,gl(t,n)):fl=Wt(t,n);e:do try{if(st!==0&&Ve!==null){n=Ve;var d=ei;t:switch(st){case 1:st=0,ei=null,yl(t,n,d,1);break;case 2:case 9:if(Tg(d)){st=0,ei=null,fy(n);break}n=function(){st!==2&&st!==9||ht!==t||(st=7),ns(t)},d.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Tg(d)?(st=0,ei=null,fy(n)):(st=0,ei=null,yl(t,n,d,7));break;case 5:var g=null;switch(Ve.tag){case 26:g=Ve.memoizedState;case 5:case 27:var E=Ve;if(g?Zy(g):E.stateNode.complete){st=0,ei=null;var C=E.sibling;if(C!==null)Ve=C;else{var P=E.return;P!==null?(Ve=P,Ac(P)):Ve=null}break t}}st=0,ei=null,yl(t,n,d,5);break;case 6:st=0,ei=null,yl(t,n,d,6);break;case 8:Af(),Rt=6;break e;default:throw Error(r(462))}}bT();break}catch(K){oy(t,K)}while(!0);return bs=gr=null,F.H=l,F.A=h,et=a,Ve!==null?0:(ht=null,Le=0,Fu(),Rt)}function bT(){for(;Ve!==null&&!pn();)dy(Ve)}function dy(t){var n=V0(t.alternate,t,Is);t.memoizedProps=t.pendingProps,n===null?Ac(t):Ve=n}function fy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=I0(a,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=I0(a,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Pd(n);default:U0(a,n),n=Ve=hg(n,Is),n=V0(a,n,Is)}t.memoizedProps=t.pendingProps,n===null?Ac(t):Ve=n}function yl(t,n,a,l){bs=gr=null,Pd(n),rl=null,_o=0;var h=n.return;try{if(oT(t,h,n,a,Le)){Rt=1,dc(t,yi(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;Rt=1,dc(t,yi(a,t.current)),Ve=null;return}n.flags&32768?(Fe||l===1?t=!0:fl||(Le&536870912)!==0?t=!1:(ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=Zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),my(n,t)):Ac(n)}function Ac(t){var n=t;do{if((n.flags&32768)!==0){my(n,ma);return}t=n.return;var a=hT(n.alternate,n,Is);if(a!==null){Ve=a;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);Rt===0&&(Rt=5)}function my(t,n){do{var a=dT(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);Rt=6,Ve=null}function py(t,n,a,l,h,d,g,E,C){t.cancelPendingCommit=null;do Sc();while(Yt!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=fd,Qs(t,a,d,g,E,C),t===ht&&(Ve=ht=null,Le=0),pl=n,ya=t,Ds=a,Tf=d,xf=h,sy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wT(Yn,function(){return by(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ie.p,ie.p=2,g=et,et|=4;try{fT(t,n,a)}finally{et=g,ie.p=h,F.T=l}}Yt=1,gy(),yy(),_y()}}function gy(){if(Yt===1){Yt=0;var t=ya,n=pl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=et;et|=4;try{$0(n,t);var d=Uf,g=ng(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(g!==E&&E&&E.ownerDocument&&tg(E.ownerDocument.documentElement,E)){if(C!==null&&od(E)){var P=C.start,K=C.end;if(K===void 0&&(K=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(K,E.value.length);else{var J=E.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=E.textContent.length,be=Math.min(C.start,he),ct=C.end===void 0?be:Math.min(C.end,he);!H.extend&&be>ct&&(g=ct,ct=be,be=g);var V=eg(E,be),k=eg(E,ct);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var L=J.createRange();L.setStart(V.node,V.offset),H.removeAllRanges(),be>ct?(H.addRange(L),H.extend(k.node,k.offset)):(L.setEnd(k.node,k.offset),H.addRange(L))}}}}for(J=[],H=E;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Uc=!!zf,Uf=zf=null}finally{et=h,ie.p=l,F.T=a}}t.current=n,Yt=2}}function yy(){if(Yt===2){Yt=0;var t=ya,n=pl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=et;et|=4;try{G0(t,n.alternate,n)}finally{et=h,ie.p=l,F.T=a}}Yt=3}}function _y(){if(Yt===4||Yt===3){Yt=0,cs();var t=ya,n=pl,a=Ds,l=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,pl=ya=null,vy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ga=null),li(a),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(sn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var d=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];d(E.value,{componentStack:E.stack})}}finally{F.T=n,ie.p=h}}(Ds&3)!==0&&Sc(),ns(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===wf?jo++:(jo=0,wf=t):jo=0,Vo(0)}}function vy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,go(n)))}function Sc(){return gy(),yy(),_y(),by()}function by(){if(Yt!==5)return!1;var t=ya,n=Tf;Tf=0;var a=li(Ds),l=F.T,h=ie.p;try{ie.p=32>a?32:a,F.T=null,a=xf,xf=null;var d=ya,g=Ds;if(Yt=0,pl=ya=null,Ds=0,(et&6)!==0)throw Error(r(331));var E=et;if(et|=4,ty(d.current),Z0(d,d.current,g,a),et=E,Vo(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(sn,d)}catch{}return!0}finally{ie.p=h,F.T=l,vy(t,n)}}function Ey(t,n,a){n=yi(a,n),n=tf(t.stateNode,n,2),t=ca(t,n,2),t!==null&&(Ks(t,2),ns(t))}function at(t,n,a){if(t.tag===3)Ey(t,t,a);else for(;n!==null;){if(n.tag===3){Ey(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=yi(a,t),a=T0(2),l=ca(n,a,2),l!==null&&(x0(a,l,n,t),Ks(l,2),ns(l));break}}n=n.return}}function Nf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(vf=!0,h.add(a),t=ET.bind(null,t,n,a),n.then(t,t))}function ET(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Le&a)===a&&(Rt===4||Rt===3&&(Le&62914560)===Le&&300>nt()-bc?(et&2)===0&&gl(t,0):bf|=a,ml===Le&&(ml=0)),ns(t)}function Ty(t,n){n===0&&(n=Fi()),t=fr(t,n),t!==null&&(Ks(t,n),ns(t))}function TT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ty(t,a)}function xT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ty(t,a)}function wT(t,n){return Dt(t,n)}var Nc=null,_l=null,Cf=!1,Cc=!1,Rf=!1,va=0;function ns(t){t!==_l&&t.next===null&&(_l===null?Nc=_l=t:_l=_l.next=t),Cc=!0,Cf||(Cf=!0,ST())}function Vo(t,n){if(!Rf&&Cc){Rf=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var g=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Tt(42|t)+1)-1,d&=h&~(g&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Sy(l,d))}else d=Le,d=zt(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wt(l,d)||(a=!0,Sy(l,d));l=l.next}while(a);Rf=!1}}function AT(){xy()}function xy(){Cc=Cf=!1;var t=0;va!==0&&VT()&&(t=va);for(var n=nt(),a=null,l=Nc;l!==null;){var h=l.next,d=wy(l,n);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(_l=a)):(a=l,(t!==0||(d&3)!==0)&&(Cc=!0)),l=h}Yt!==0&&Yt!==5||Vo(t),va!==0&&(va=0)}function wy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Tt(d),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&l)!==0)&&(h[g]=Qt(E,n)):C<=n&&(t.expiredLanes|=E),d&=~E}if(n=ht,a=Le,a=zt(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wt(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qn(l),li(a)){case 2:case 8:a=hs;break;case 32:a=Yn;break;case 268435456:a=qi;break;default:a=Yn}return l=Ay.bind(null,t),a=Dt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qn(l),t.callbackPriority=2,t.callbackNode=null,2}function Ay(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Sc()&&t.callbackNode!==a)return null;var l=Le;return l=zt(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ry(t,l,n),wy(t,nt()),t.callbackNode!=null&&t.callbackNode===a?Ay.bind(null,t):null)}function Sy(t,n){if(Sc())return null;ry(t,n,!0)}function ST(){UT(function(){(et&6)!==0?Dt(Fs,AT):xy()})}function If(){if(va===0){var t=il;t===0&&(t=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),va=t}return va}function Ny(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qr(""+t)}function Cy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function NT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Ny((h[vt]||null).action),g=l.submitter;g&&(n=(n=g[vt]||null)?Ny(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var E=new Xi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var C=g?Cy(h,g):new FormData(h);Xd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=g?Cy(h,g):new FormData(h),Xd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Df=0;Df<dd.length;Df++){var kf=dd[Df],CT=kf.toLowerCase(),RT=kf[0].toUpperCase()+kf.slice(1);ji(CT,"on"+RT)}ji(ag,"onAnimationEnd"),ji(rg,"onAnimationIteration"),ji(lg,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(GE,"onTransitionRun"),ji(KE,"onTransitionStart"),ji(QE,"onTransitionCancel"),ji(og,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function Ry(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=P;try{d(h)}catch(K){Hu(K)}h.currentTarget=null,d=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=P;try{d(h)}catch(K){Hu(K)}h.currentTarget=null,d=C}}}}function ze(t,n){var a=n[fs];a===void 0&&(a=n[fs]=new Set);var l=t+"__bubble";a.has(l)||(Iy(n,t,2,!1),a.add(l))}function Mf(t,n,a){var l=0;n&&(l|=4),Iy(a,t,l,n)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Rc]){t[Rc]=!0,er.forEach(function(a){a!=="selectionchange"&&(IT.has(a)||Mf(a,!1,t),Mf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rc]||(n[Rc]=!0,Mf("selectionchange",!1,n))}}function Iy(t,n,a,l){switch(a_(n)){case 2:var h=sx;break;case 8:h=ax;break;default:h=Xf}a=h.bind(null,n,a,t),h=void 0,!ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function jf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=d=g;continue e}E=E.parentNode}}l=l.return}ea(function(){var P=d,K=fi(a),J=[];e:{var B=ug.get(t);if(B!==void 0){var H=Xi,he=t;switch(t){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":H=Pu;break;case"focusin":he="focus",H=ur;break;case"focusout":he="blur",H=ur;break;case"beforeblur":case"afterblur":H=ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case ag:case rg:case lg:H=Mu;break;case og:H=T;break;case"scroll":case"scrollend":H=ro;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ys;break;case"toggle":case"beforetoggle":H=Ie}var be=(n&4)!==0,ct=!be&&(t==="scroll"||t==="scrollend"),V=be?B!==null?B+"Capture":null:B;be=[];for(var k=P,L;k!==null;){var X=k;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||V===null||(X=Di(k,V),X!=null&&be.push(Uo(k,X,L))),ct)break;k=k.return}0<be.length&&(B=new H(B,he,null,a,K),J.push({event:B,listeners:be}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==io&&(he=a.relatedTarget||a.fromElement)&&(oi(he)||he[Xn]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=P,he=he?oi(he):null,he!==null&&(ct=c(he),be=he.tag,he!==ct||be!==5&&be!==27&&be!==6)&&(he=null)):(H=null,he=P),H!==he)){if(be=lo,X="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=ys,X="onPointerLeave",V="onPointerEnter",k="pointer"),ct=H==null?B:Nn(H),L=he==null?B:Nn(he),B=new be(X,k+"leave",H,a,K),B.target=ct,B.relatedTarget=L,X=null,oi(K)===P&&(be=new be(V,k+"enter",he,a,K),be.target=L,be.relatedTarget=ct,X=be),ct=X,H&&he)t:{for(be=DT,V=H,k=he,L=0,X=V;X;X=be(X))L++;X=0;for(var ge=k;ge;ge=be(ge))X++;for(;0<L-X;)V=be(V),L--;for(;0<X-L;)k=be(k),X--;for(;L--;){if(V===k||k!==null&&V===k.alternate){be=V;break t}V=be(V),k=be(k)}be=null}else be=null;H!==null&&Dy(J,B,H,be,!1),he!==null&&ct!==null&&Dy(J,ct,he,be,!0)}}e:{if(B=P?Nn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Xe=Yp;else if(Kp(B))if(Xp)Xe=qE;else{Xe=PE;var me=LE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Br(P.elementType)&&(Xe=Yp):Xe=BE;if(Xe&&(Xe=Xe(t,P))){Qp(J,Xe,a,K);break e}me&&me(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Pr(B,"number",B.value)}switch(me=P?Nn(P):window,t){case"focusin":(Kp(me)||me.contentEditable==="true")&&(Xr=me,ud=P,fo=null);break;case"focusout":fo=ud=Xr=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,ig(J,a,K);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":ig(J,a,K)}var ke;if(We)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Yr?cr(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Zi&&a.locale!=="ko"&&(Yr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Yr&&(ke=ao()):(Yi=K,so="value"in Yi?Yi.value:Yi.textContent,Yr=!0)),me=Ic(P,Pe),0<me.length&&(Pe=new Ji(Pe,t,null,a,K),J.push({event:Pe,listeners:me}),ke?Pe.data=ke:(ke=Qr(a),ke!==null&&(Pe.data=ke)))),(ke=pi?jE(t,a):VE(t,a))&&(Pe=Ic(P,"onBeforeInput"),0<Pe.length&&(me=new Ji("onBeforeInput","beforeinput",null,a,K),J.push({event:me,listeners:Pe}),me.data=ke)),NT(J,t,P,a,K)}Ry(J,n)})}function Uo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ic(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Di(t,a),h!=null&&l.unshift(Uo(t,h,d)),h=Di(t,n),h!=null&&l.push(Uo(t,h,d))),t.tag===3)return l;t=t.return}return[]}function DT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dy(t,n,a,l,h){for(var d=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=Di(a,d),P!=null&&g.unshift(Uo(a,P,C))):h||(P=Di(a,d),P!=null&&g.push(Uo(a,P,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var kT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function ky(t){return(typeof t=="string"?t:""+t).replace(kT,`
`).replace(MT,"")}function My(t,n){return n=ky(n),ky(t)===n}function ut(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Mn(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,l);break;case"style":no(t,l,d);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ii);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),$s(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$s(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,$s(t,a,l))}}function Vf(t,n,a,l,h,d){switch(a){case"style":no(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&Mn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$s(t,a,l)}}}function hn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,d,g,a,null)}}h&&ut(t,n,"srcSet",a.srcSet,a,null),l&&ut(t,n,"src",a.src,a,null);return;case"input":ze("invalid",t);var E=d=g=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":g=K;break;case"checked":C=K;break;case"defaultChecked":P=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:ut(t,n,l,K,a,null)}}Ri(t,d,E,C,P,g,h,!1);return;case"select":ze("invalid",t),l=g=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ut(t,n,h,E,a,null)}n=d,a=g,t.multiple=!!l,n!=null?di(t,!!l,n,!1):a!=null&&di(t,!!l,a,!0);return;case"textarea":ze("invalid",t),d=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ut(t,n,g,E,a,null)}Js(t,l,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(t,n,C,l,a,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<zo.length;l++)ze(zo[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,P,l,a,null)}return;default:if(Br(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Vf(t,n,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ut(t,n,E,l,a,null))}function OT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,g=null,E=null,C=null,P=null,K=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(H)||ut(t,n,H,null,l,J)}}for(var B in l){var H=l[B];if(J=a[B],l.hasOwnProperty(B)&&(H!=null||J!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":K=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==J&&ut(t,n,B,H,l,J)}}Lt(t,g,E,C,P,K,d,h);return;case"select":H=g=E=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||ut(t,n,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":g=d;default:d!==C&&ut(t,n,h,d,l,C)}n=E,a=g,l=H,B!=null?di(t,!!a,B,!1):!!l!=!!a&&(n!=null?di(t,!!a,n,!0):di(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(t,n,E,null,l,h)}for(g in l)if(h=l[g],d=a[g],l.hasOwnProperty(g)&&(h!=null||d!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&ut(t,n,g,h,l,d)}Cu(t,B,H);return;case"option":for(var he in a)B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:ut(t,n,he,null,l,B));for(C in l)B=l[C],H=a[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ut(t,n,C,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be)&&ut(t,n,be,null,l,B);for(P in l)if(B=l[P],H=a[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ut(t,n,P,B,l,H)}return;default:if(Br(n)){for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!==void 0&&!l.hasOwnProperty(ct)&&Vf(t,n,ct,void 0,l,B);for(K in l)B=l[K],H=a[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||Vf(t,n,K,B,l,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&ut(t,n,V,null,l,B);for(J in l)B=l[J],H=a[J],!l.hasOwnProperty(J)||B===H||B==null&&H==null||ut(t,n,J,B,l,H)}function Oy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,g=h.initiatorType,E=h.duration;if(d&&E&&Oy(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],P=C.startTime;if(P>E)break;var K=C.transferSize,J=C.initiatorType;K&&Oy(J)&&(C=C.responseEnd,g+=K*(C<E?1:(E-P)/(C-P)))}if(--l,n+=8*(d+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zf=null,Uf=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pf=null;function VT(){var t=window.event;return t&&t.type==="popstate"?t===Pf?!1:(Pf=t,!0):(Pf=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,zT=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(t){return Uy.resolve(null).then(t).catch(LT)}:zy;function LT(t){setTimeout(function(){throw t})}function ba(t){return t==="head"}function Ly(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Tl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Lo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Lo(a);for(var d=a.firstChild;d;){var g=d.nextSibling,E=d.nodeName;d[An]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&Lo(t.ownerDocument.body);a=h}while(a);Tl(n)}function Py(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Bf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bf(a),Ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[An])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ti(t.nextSibling),t===null)break}return null}function BT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ti(t.nextSibling),t===null))return null;return t}function By(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ti(t.nextSibling),t===null))return null;return t}function qf(t){return t.data==="$?"||t.data==="$~"}function Hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ff=null;function qy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Ti(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Fy(t,n,a){switch(n=Dc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Lo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ys(t)}var xi=new Map,Gy=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ks=ie.d;ie.d={f:HT,r:FT,D:GT,C:KT,L:QT,m:YT,X:$T,S:XT,M:JT};function HT(){var t=ks.f(),n=xc();return t||n}function FT(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?o0(n):ks.r(t)}var vl=typeof document>"u"?null:document;function Ky(t,n,a){var l=vl;if(l&&typeof n=="string"&&n){var h=ue(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Gy.has(h)||(Gy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),hn(n,"link",t),St(n),l.head.appendChild(n)))}}function GT(t){ks.D(t),Ky("dns-prefetch",t,null)}function KT(t,n){ks.C(t,n),Ky("preconnect",t,n)}function QT(t,n,a){ks.L(t,n,a);var l=vl;if(l&&t&&n){var h='link[rel="preload"][as="'+ue(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ue(a.imageSizes)+'"]')):h+='[href="'+ue(t)+'"]';var d=h;switch(n){case"style":d=bl(t);break;case"script":d=El(t)}xi.has(d)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),xi.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Po(d))||n==="script"&&l.querySelector(Bo(d))||(n=l.createElement("link"),hn(n,"link",t),St(n),l.head.appendChild(n)))}}function YT(t,n){ks.m(t,n);var a=vl;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ue(l)+'"][href="'+ue(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=El(t)}if(!xi.has(d)&&(t=A({rel:"modulepreload",href:t},n),xi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bo(d)))return}l=a.createElement("link"),hn(l,"link",t),St(l),a.head.appendChild(l)}}}function XT(t,n,a){ks.S(t,n,a);var l=vl;if(l&&t){var h=ui(l).hoistableStyles,d=bl(t);n=n||"default";var g=h.get(d);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Po(d)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=xi.get(d))&&Gf(t,a);var C=g=l.createElement("link");St(C),hn(C,"link",t),C._p=new Promise(function(P,K){C.onload=P,C.onerror=K}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(d,g)}}}function $T(t,n){ks.X(t,n);var a=vl;if(a&&t){var l=ui(a).hoistableScripts,h=El(t),d=l.get(h);d||(d=a.querySelector(Bo(h)),d||(t=A({src:t,async:!0},n),(n=xi.get(h))&&Kf(t,n),d=a.createElement("script"),St(d),hn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function JT(t,n){ks.M(t,n);var a=vl;if(a&&t){var l=ui(a).hoistableScripts,h=El(t),d=l.get(h);d||(d=a.querySelector(Bo(h)),d||(t=A({src:t,async:!0,type:"module"},n),(n=xi.get(h))&&Kf(t,n),d=a.createElement("script"),St(d),hn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Qy(t,n,a,l){var h=(h=Te.current)?kc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bl(a.href),a=ui(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bl(a.href);var d=ui(h).hoistableStyles,g=d.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=h.querySelector(Po(t)))&&!d._p&&(g.instance=d,g.state.loading=5),xi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xi.set(t,a),d||ZT(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=El(a),a=ui(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function bl(t){return'href="'+ue(t)+'"'}function Po(t){return'link[rel="stylesheet"]['+t+"]"}function Yy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function ZT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),hn(n,"link",a),St(n),t.head.appendChild(n))}function El(t){return'[src="'+ue(t)+'"]'}function Bo(t){return"script[async]"+t}function Xy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ue(a.href)+'"]');if(l)return n.instance=l,St(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),hn(l,"style",h),Mc(l,a.precedence,t),n.instance=l;case"stylesheet":h=bl(a.href);var d=t.querySelector(Po(h));if(d)return n.state.loading|=4,n.instance=d,St(d),d;l=Yy(a),(h=xi.get(h))&&Gf(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var g=d;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),hn(d,"link",l),n.state.loading|=4,Mc(d,a.precedence,t),n.instance=d;case"script":return d=El(a.src),(h=t.querySelector(Bo(d)))?(n.instance=h,St(h),h):(l=a,(h=xi.get(d))&&(l=A({},a),Kf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),hn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Mc(l,a.precedence,t));return n.instance}function Mc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Oc=null;function $y(t,n,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[An]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(d):l.set(g,[d])}}return l}function Jy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function WT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ex(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=bl(l.href),d=n.querySelector(Po(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=jc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=n.ownerDocument||n,l=Yy(l),(h=xi.get(h))&&Gf(l,h),d=d.createElement("link"),St(d);var g=d;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),hn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Qf=0;function tx(t,n){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Qf===0&&(Qf=62500*jT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Qf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function zc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,n.forEach(nx,t),Vc=null,jc.call(t))}function nx(t,n){if(!(n.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var g=h[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,h),a.set(g,h),this.count++,l=jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var qo={$$typeof:xe,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function ix(t,n,a,l,h,d,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Wy(t,n,a,l,h,d,g,E,C,P,K,J){return t=new ix(t,n,a,g,C,P,K,J,E),n=1,d===!0&&(n|=24),d=Jn(3,null,null,n),t.current=d,d.stateNode=t,n=Ad(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Rd(d),t}function e_(t){return t?(t=Zr,t):Zr}function t_(t,n,a,l,h,d){h=e_(h),l.context===null?l.context=h:l.pendingContext=h,l=ua(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ca(t,l,n),a!==null&&(Un(a,t,n),bo(a,t,n))}function n_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Yf(t,n){n_(t,n),(t=t.alternate)&&n_(t,n)}function i_(t){if(t.tag===13||t.tag===31){var n=fr(t,67108864);n!==null&&Un(n,t,67108864),Yf(t,67108864)}}function s_(t){if(t.tag===13||t.tag===31){var n=ni();n=gn(n);var a=fr(t,n);a!==null&&Un(a,t,n),Yf(t,n)}}var Uc=!0;function sx(t,n,a,l){var h=F.T;F.T=null;var d=ie.p;try{ie.p=2,Xf(t,n,a,l)}finally{ie.p=d,F.T=h}}function ax(t,n,a,l){var h=F.T;F.T=null;var d=ie.p;try{ie.p=8,Xf(t,n,a,l)}finally{ie.p=d,F.T=h}}function Xf(t,n,a,l){if(Uc){var h=$f(l);if(h===null)jf(t,n,l,Lc,a),r_(t,l);else if(lx(h,t,n,a,l))l.stopPropagation();else if(r_(t,l),n&4&&-1<rx.indexOf(t)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=an(d.pendingLanes);if(g!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-Tt(g);E.entanglements[1]|=C,g&=~C}ns(d),(et&6)===0&&(Ec=nt()+500,Vo(0))}}break;case 31:case 13:E=fr(d,2),E!==null&&Un(E,d,2),xc(),Yf(d,2)}if(d=$f(l),d===null&&jf(t,n,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jf(t,n,l,null,a)}}function $f(t){return t=fi(t),Jf(t)}var Lc=null;function Jf(t){if(Lc=null,t=oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lc=t,null}function a_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case Fs:return 2;case hs:return 8;case Yn:case $a:return 32;case qi:return 268435456;default:return 32}default:return 32}}var Zf=!1,Ea=null,Ta=null,xa=null,Ho=new Map,Fo=new Map,wa=[],rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r_(t,n){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(n.pointerId)}}function Go(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&i_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function lx(t,n,a,l,h){switch(n){case"focusin":return Ea=Go(Ea,t,n,a,l,h),!0;case"dragenter":return Ta=Go(Ta,t,n,a,l,h),!0;case"mouseover":return xa=Go(xa,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ho.set(d,Go(Ho.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Fo.set(d,Go(Fo.get(d)||null,t,n,a,l,h)),!0}return!1}function l_(t){var n=oi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,wn(t.priority,function(){s_(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,wn(t.priority,function(){s_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=$f(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);io=l,a.target.dispatchEvent(l),io=null}else return n=Sn(a),n!==null&&i_(n),t.blockedOn=a,!1;n.shift()}return!0}function o_(t,n,a){Pc(t)&&a.delete(n)}function ox(){Zf=!1,Ea!==null&&Pc(Ea)&&(Ea=null),Ta!==null&&Pc(Ta)&&(Ta=null),xa!==null&&Pc(xa)&&(xa=null),Ho.forEach(o_),Fo.forEach(o_)}function Bc(t,n){t.blockedOn===n&&(t.blockedOn=null,Zf||(Zf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ox)))}var qc=null;function u_(t){qc!==t&&(qc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Jf(l||a)===null)continue;break}var d=Sn(a);d!==null&&(t.splice(n,3),n-=3,Xd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Tl(t){function n(C){return Bc(C,t)}Ea!==null&&Bc(Ea,t),Ta!==null&&Bc(Ta,t),xa!==null&&Bc(xa,t),Ho.forEach(n),Fo.forEach(n);for(var a=0;a<wa.length;a++){var l=wa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)l_(a),a.blockedOn===null&&wa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],g=h[vt]||null;if(typeof d=="function")g||u_(a);else if(g){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,g=d[vt]||null)E=g.formAction;else if(Jf(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),u_(a)}}}function c_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Wf(t){this._internalRoot=t}Hc.prototype.render=Wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=ni();t_(a,l,t,n,null,null)},Hc.prototype.unmount=Wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t_(t.current,2,null,t,null,null),xc(),n[Xn]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ur();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wa.length&&n!==0&&n<wa[a].priority;a++);wa.splice(a,0,t),a===0&&l_(t)}};var h_=e.version;if(h_!=="19.2.4")throw Error(r(527,h_,"19.2.4"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var ux={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{sn=Fc.inject(ux),At=Fc}catch{}}return Qo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=_0,d=v0,g=b0;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Wy(t,1,!1,null,null,a,l,null,h,d,g,c_),t[Xn]=n.current,Of(t),new Wf(n)},Qo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=_0,g=v0,E=b0,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Wy(t,1,!0,n,a??null,l,h,C,d,g,E,c_),n.context=e_(null),a=n.current,l=ni(),l=gn(l),h=ua(l),h.callback=null,ca(a,h,l),a=l,n.current.lanes=a,Ks(n,a),ns(n),t[Xn]=n.current,Of(t),new Hc(n)},Qo.version="19.2.4",Qo}var E_;function Ex(){if(E_)return nm.exports;E_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=bx(),nm.exports}var Tx=Ex();const xx=()=>{};var T_={};const lb=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},wx=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],f=s[i++],y=s[i++],b=((o&7)<<18|(c&63)<<12|(f&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(b>>10)),e[r++]=String.fromCharCode(56320+(b&1023))}else{const c=s[i++],f=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,y=f?s[o+1]:0,b=o+2<s.length,_=b?s[o+2]:0,x=c>>2,A=(c&3)<<4|y>>4;let D=(y&15)<<2|_>>6,Y=_&63;b||(Y=64,f||(D=64)),r.push(i[x],i[A],i[D],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(lb(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):wx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||A==null)throw new Ax;const D=c<<2|y>>4;if(r.push(D),_!==64){const Y=y<<4&240|_>>2;if(r.push(Y),A!==64){const te=_<<6&192|A;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sx=function(s){const e=lb(s);return ob.encodeByteArray(e,!0)},mh=function(s){return Sx(s).replace(/\./g,"")},ub=function(s){try{return ob.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Nx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Cx=()=>Nx().__FIREBASE_DEFAULTS__,Rx=()=>{if(typeof process>"u"||typeof T_>"u")return;const s=T_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Ix=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ub(s[1]);return e&&JSON.parse(e)},Oh=()=>{try{return xx()||Cx()||Rx()||Ix()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},cb=s=>Oh()?.emulatorHosts?.[s],Dx=s=>{const e=cb(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},hb=()=>Oh()?.config,db=s=>Oh()?.[`_${s}`];class kx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Ql(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fb(s){return(await fetch(s,{credentials:"include"})).ok}function Mx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[mh(JSON.stringify(i)),mh(JSON.stringify(f)),""].join(".")}const tu={};function Ox(){const s={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?s.emulator.push(e):s.prod.push(e);return s}function jx(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let x_=!1;function mb(s,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||tu[s]===e||tu[s]||x_)return;tu[s]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=Ox().prod.length>0;function f(){const D=document.getElementById(r);D&&D.remove()}function y(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function b(D,Y){D.setAttribute("width","24"),D.setAttribute("id",Y),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{x_=!0,f()},D}function x(D,Y){D.setAttribute("id",Y),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=jx(r),Y=i("text"),te=document.getElementById(Y)||document.createElement("span"),le=i("learnmore"),se=document.getElementById(le)||document.createElement("a"),de=i("preprendIcon"),_e=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const xe=D.element;y(xe),x(se,le);const we=_();b(_e,de),xe.append(_e,te,se,we),document.body.appendChild(xe)}c?(te.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function zx(){const s=Oh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ux(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Px(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bx(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qx(){return!zx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hx(){try{return typeof indexedDB=="object"}catch{return!1}}function Fx(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Gx="FirebaseError";class qs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Gx,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Kx(c,r):"Error",y=`${this.serviceName}: ${f} (${o}).`;return new qs(o,y,r)}}function Kx(s,e){return s.replace(Qx,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Qx=/\{\$([^}]+)}/g;function Yx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ua(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(w_(c)&&w_(f)){if(!Ua(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function w_(s){return s!==null&&typeof s=="object"}function gu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xx(s,e){const i=new $x(s,e);return i.subscribe.bind(i)}class $x{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Jx(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jx(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function rm(){}function Jt(s){return s&&s._delegate?s._delegate:s}class Ir{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sr="[DEFAULT]";class Zx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new kx;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e2(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&f.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wx(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wx(s){return s===Sr?void 0:s}function e2(s){return s.instantiationMode==="EAGER"}class t2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Zx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const n2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},i2=Be.INFO,s2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},a2=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=s2[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=a2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const r2=(s,e)=>e.some(i=>s instanceof i);let A_,S_;function l2(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pb=new WeakMap,Cm=new WeakMap,gb=new WeakMap,lm=new WeakMap,ip=new WeakMap;function u2(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{i(ka(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&pb.set(i,s)}).catch(()=>{}),ip.set(e,s),e}function c2(s){if(Cm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Cm.set(s,e)}let Rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||gb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ka(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function h2(s){Rm=s(Rm)}function d2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(om(this),e,...i);return gb.set(r,e.sort?e.sort():[e]),ka(r)}:o2().includes(s)?function(...e){return s.apply(om(this),e),ka(pb.get(this))}:function(...e){return ka(s.apply(om(this),e))}}function f2(s){return typeof s=="function"?d2(s):(s instanceof IDBTransaction&&c2(s),r2(s,l2())?new Proxy(s,Rm):s)}function ka(s){if(s instanceof IDBRequest)return u2(s);if(lm.has(s))return lm.get(s);const e=f2(s);return e!==s&&(lm.set(s,e),ip.set(e,s)),e}const om=s=>ip.get(s);function m2(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),y=ka(f);return r&&f.addEventListener("upgradeneeded",b=>{r(ka(f.result),b.oldVersion,b.newVersion,ka(f.transaction),b)}),i&&f.addEventListener("blocked",b=>i(b.oldVersion,b.newVersion,b)),y.then(b=>{c&&b.addEventListener("close",()=>c()),o&&b.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],um=new Map;function N_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=g2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||p2.includes(i)))return;const c=async function(f,...y){const b=this.transaction(f,o?"readwrite":"readonly");let _=b.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&b.done]))[0]};return um.set(e,c),c}h2(s=>({...s,get:(e,i,r)=>N_(e,i)||s.get(e,i,r),has:(e,i)=>!!N_(e,i)||s.has(e,i)}));class y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _2(s){return s.getComponent()?.type==="VERSION"}const Im="@firebase/app",C_="0.14.8";const Vs=new np("@firebase/app"),v2="@firebase/app-compat",b2="@firebase/analytics-compat",E2="@firebase/analytics",T2="@firebase/app-check-compat",x2="@firebase/app-check",w2="@firebase/auth",A2="@firebase/auth-compat",S2="@firebase/database",N2="@firebase/data-connect",C2="@firebase/database-compat",R2="@firebase/functions",I2="@firebase/functions-compat",D2="@firebase/installations",k2="@firebase/installations-compat",M2="@firebase/messaging",O2="@firebase/messaging-compat",j2="@firebase/performance",V2="@firebase/performance-compat",z2="@firebase/remote-config",U2="@firebase/remote-config-compat",L2="@firebase/storage",P2="@firebase/storage-compat",B2="@firebase/firestore",q2="@firebase/ai",H2="@firebase/firestore-compat",F2="firebase",G2="12.9.0";const Dm="[DEFAULT]",K2={[Im]:"fire-core",[v2]:"fire-core-compat",[E2]:"fire-analytics",[b2]:"fire-analytics-compat",[x2]:"fire-app-check",[T2]:"fire-app-check-compat",[w2]:"fire-auth",[A2]:"fire-auth-compat",[S2]:"fire-rtdb",[N2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[R2]:"fire-fn",[I2]:"fire-fn-compat",[D2]:"fire-iid",[k2]:"fire-iid-compat",[M2]:"fire-fcm",[O2]:"fire-fcm-compat",[j2]:"fire-perf",[V2]:"fire-perf-compat",[z2]:"fire-rc",[U2]:"fire-rc-compat",[L2]:"fire-gcs",[P2]:"fire-gcs-compat",[B2]:"fire-fst",[H2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[F2]:"fire-js-all"};const ph=new Map,Q2=new Map,km=new Map;function R_(s,e){try{s.container.addComponent(e)}catch(i){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ll(s){const e=s.name;if(km.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,s);for(const i of ph.values())R_(i,s);for(const i of Q2.values())R_(i,s);return!0}function sp(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Ui(s){return s==null?!1:s.settings!==void 0}const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new pu("app","Firebase",Y2);class X2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}const Yl=G2;function yb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ma.create("bad-app-name",{appName:String(o)});if(i||(i=hb()),!i)throw Ma.create("no-options");const c=ph.get(o);if(c){if(Ua(i,c.options)&&Ua(r,c.config))return c;throw Ma.create("duplicate-app",{appName:o})}const f=new t2(o);for(const b of km.values())f.addComponent(b);const y=new X2(i,r,f);return ph.set(o,y),y}function _b(s=Dm){const e=ph.get(s);if(!e&&s===Dm&&hb())return yb();if(!e)throw Ma.create("no-app",{appName:s});return e}function Oa(s,e,i){let r=K2[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(f.join(" "));return}Ll(new Ir(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const $2="firebase-heartbeat-database",J2=1,lu="firebase-heartbeat-store";let cm=null;function vb(){return cm||(cm=m2($2,J2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(lu)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ma.create("idb-open",{originalErrorMessage:s.message})})),cm}async function Z2(s){try{const i=(await vb()).transaction(lu),r=await i.objectStore(lu).get(bb(s));return await i.done,r}catch(e){if(e instanceof qs)Vs.warn(e.message);else{const i=Ma.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(i.message)}}}async function I_(s,e){try{const r=(await vb()).transaction(lu,"readwrite");await r.objectStore(lu).put(e,bb(s)),await r.done}catch(i){if(i instanceof qs)Vs.warn(i.message);else{const r=Ma.create("idb-set",{originalErrorMessage:i?.message});Vs.warn(r.message)}}}function bb(s){return`${s.name}!${s.options.appId}`}const W2=1024,ew=30;class tw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=D_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>ew){const o=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D_(),{heartbeatsToSend:i,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),o=mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Vs.warn(e),""}}}function D_(){return new Date().toISOString().substring(0,10)}function nw(s,e=W2){const i=[];let r=s.slice();for(const o of s){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),k_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),k_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hx()?Fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Z2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function k_(s){return mh(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function aw(s){Ll(new Ir("platform-logger",e=>new y2(e),"PRIVATE")),Ll(new Ir("heartbeat",e=>new tw(e),"PRIVATE")),Oa(Im,C_,s),Oa(Im,C_,"esm2020"),Oa("fire-js","")}aw("");var rw="firebase",lw="12.9.0";Oa(rw,lw,"app");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ja,Eb;(function(){var s;function e(R,S){function I(){}I.prototype=S.prototype,R.F=S.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(j,M,z){for(var N=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)N[Ze-2]=arguments[Ze];return S.prototype[M].apply(j,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,I){I||(I=0);const j=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)j[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;M<16;++M)j[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=R.g[0],I=R.g[1],M=R.g[2];let z=R.g[3],N;N=S+(z^I&(M^z))+j[0]+3614090360&4294967295,S=I+(N<<7&4294967295|N>>>25),N=z+(M^S&(I^M))+j[1]+3905402710&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(I^z&(S^I))+j[2]+606105819&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(S^M&(z^S))+j[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(z^I&(M^z))+j[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=z+(M^S&(I^M))+j[5]+1200080426&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(I^z&(S^I))+j[6]+2821735955&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(S^M&(z^S))+j[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(z^I&(M^z))+j[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=z+(M^S&(I^M))+j[9]+2336552879&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(I^z&(S^I))+j[10]+4294925233&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(S^M&(z^S))+j[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(z^I&(M^z))+j[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=z+(M^S&(I^M))+j[13]+4254626195&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(I^z&(S^I))+j[14]+2792965006&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(S^M&(z^S))+j[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=S+(M^z&(I^M))+j[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(S^I))+j[6]+3225465664&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(z^S))+j[11]+643717713&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^S&(M^z))+j[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(I^M))+j[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(S^I))+j[10]+38016083&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(z^S))+j[15]+3634488961&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^S&(M^z))+j[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(I^M))+j[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(S^I))+j[14]+3275163606&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(z^S))+j[3]+4107603335&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^S&(M^z))+j[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(I^M))+j[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(S^I))+j[2]+4243563512&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^I&(z^S))+j[7]+1735328473&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^S&(M^z))+j[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=S+(I^M^z)+j[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=z+(S^I^M)+j[8]+2272392833&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^I)+j[11]+1839030562&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^S)+j[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^z)+j[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=z+(S^I^M)+j[4]+1272893353&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^I)+j[7]+4139469664&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^S)+j[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^z)+j[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=z+(S^I^M)+j[0]+3936430074&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^I)+j[3]+3572445317&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^S)+j[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(I^M^z)+j[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=z+(S^I^M)+j[12]+3873151461&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^I)+j[15]+530742520&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^S)+j[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=S+(M^(I|~z))+j[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=z+(I^(S|~M))+j[7]+1126891415&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~I))+j[14]+2878612391&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~S))+j[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~z))+j[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=z+(I^(S|~M))+j[3]+2399980690&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~I))+j[10]+4293915773&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~S))+j[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~z))+j[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=z+(I^(S|~M))+j[15]+4264355552&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~I))+j[6]+2734768916&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~S))+j[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=S+(M^(I|~z))+j[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=z+(I^(S|~M))+j[11]+3174756917&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~I))+j[2]+718787259&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~S))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const I=S-this.blockSize,j=this.C;let M=this.h,z=0;for(;z<S;){if(M==0)for(;z<=I;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<S;)if(j[M++]=R.charCodeAt(z++),M==this.blockSize){o(this,j),M=0;break}}else for(;z<S;)if(j[M++]=R[z++],M==this.blockSize){o(this,j),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)R[S++]=this.g[I]>>>j&255;return R};function c(R,S){var I=y;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=S(R)}function f(R,S){this.h=S;const I=[];let j=!0;for(let M=R.length-1;M>=0;M--){const z=R[M]|0;j&&z==S||(I[M]=z,j=!1)}this.g=I}var y={};function b(R){return-128<=R&&R<128?c(R,function(S){return new f([S|0],S<0?-1:0)}):new f([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return se(_(-R));const S=[];let I=1;for(let j=0;R>=I;j++)S[j]=R/I|0,I*=4294967296;return new f(S,0)}function x(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return se(x(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let j=A;for(let z=0;z<R.length;z+=8){var M=Math.min(8,R.length-z);const N=parseInt(R.substring(z,z+M),S);M<8?(M=_(Math.pow(S,M)),j=j.j(M).add(_(N))):(j=j.j(I),j=j.add(_(N)))}return j}var A=b(0),D=b(1),Y=b(16777216);s=f.prototype,s.m=function(){if(le(this))return-se(this).m();let R=0,S=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);R+=(j>=0?j:4294967296+j)*S,S*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(te(this))return"0";if(le(this))return"-"+se(this).toString(R);const S=_(Math.pow(R,6));var I=this;let j="";for(;;){const M=we(I,S).g;I=de(I,M.j(S));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=M,te(I))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function te(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function le(R){return R.h==-1}s.l=function(R){return R=de(this,R),le(R)?-1:te(R)?0:1};function se(R){const S=R.g.length,I=[];for(let j=0;j<S;j++)I[j]=~R.g[j];return new f(I,~R.h).add(D)}s.abs=function(){return le(this)?se(this):this},s.add=function(R){const S=Math.max(this.g.length,R.g.length),I=[];let j=0;for(let M=0;M<=S;M++){let z=j+(this.i(M)&65535)+(R.i(M)&65535),N=(z>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);j=N>>>16,z&=65535,N&=65535,I[M]=N<<16|z}return new f(I,I[I.length-1]&-2147483648?-1:0)};function de(R,S){return R.add(se(S))}s.j=function(R){if(te(this)||te(R))return A;if(le(this))return le(R)?se(this).j(se(R)):se(se(this).j(R));if(le(R))return se(this.j(se(R)));if(this.l(Y)<0&&R.l(Y)<0)return _(this.m()*R.m());const S=this.g.length+R.g.length,I=[];for(var j=0;j<2*S;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let M=0;M<R.g.length;M++){const z=this.i(j)>>>16,N=this.i(j)&65535,Ze=R.i(M)>>>16,mt=R.i(M)&65535;I[2*j+2*M]+=N*mt,_e(I,2*j+2*M),I[2*j+2*M+1]+=z*mt,_e(I,2*j+2*M+1),I[2*j+2*M+1]+=N*Ze,_e(I,2*j+2*M+1),I[2*j+2*M+2]+=z*Ze,_e(I,2*j+2*M+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new f(I,0)};function _e(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function xe(R,S){this.g=R,this.h=S}function we(R,S){if(te(S))throw Error("division by zero");if(te(R))return new xe(A,A);if(le(R))return S=we(se(R),S),new xe(se(S.g),se(S.h));if(le(S))return S=we(R,se(S)),new xe(se(S.g),S.h);if(R.g.length>30){if(le(R)||le(S))throw Error("slowDivide_ only works with positive integers.");for(var I=D,j=S;j.l(R)<=0;)I=ft(I),j=ft(j);var M=Oe(I,1),z=Oe(j,1);for(j=Oe(j,2),I=Oe(I,2);!te(j);){var N=z.add(j);N.l(R)<=0&&(M=M.add(I),z=N),j=Oe(j,1),I=Oe(I,1)}return S=de(R,M.j(S)),new xe(M,S)}for(M=A;R.l(S)>=0;){for(I=Math.max(1,Math.floor(R.m()/S.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=_(I),N=z.j(S);le(N)||N.l(R)>0;)I-=j,z=_(I),N=z.j(S);te(z)&&(z=D),M=M.add(z),R=de(R,N)}return new xe(M,R)}s.B=function(R){return we(this,R).h},s.and=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)&R.i(j);return new f(I,this.h&R.h)},s.or=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)|R.i(j);return new f(I,this.h|R.h)},s.xor=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)^R.i(j);return new f(I,this.h^R.h)};function ft(R){const S=R.g.length+1,I=[];for(let j=0;j<S;j++)I[j]=R.i(j)<<1|R.i(j-1)>>>31;return new f(I,R.h)}function Oe(R,S){const I=S>>5;S%=32;const j=R.g.length-I,M=[];for(let z=0;z<j;z++)M[z]=S>0?R.i(z+I)>>>S|R.i(z+I+1)<<32-S:R.i(z+I);return new f(M,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Eb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=x,ja=f}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tb,Jo,xb,ih,Mm,wb,Ab,Sb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},f=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=b,_.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var ne=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ne[Ie-2]=arguments[Ie];return m.prototype[U].apply(T,ne)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function te(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let ne=0;ne<q;ne++)u[v+ne]=U[ne]}else u.push(U)}}class le{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){f.setTimeout(()=>{throw u},0)}function de(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,v){const T=xe.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var xe=new le(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,Oe=!1,R=new _e,S=()=>{const u=Promise.resolve(void 0);ft=()=>{u.then(I)}};function I(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){se(v)}var m=xe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Oe=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Ze(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Ze,M),Ze.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ze.Z.h.call(this)},Ze.prototype.h=function(){Ze.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=Te(u,m,T,U);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(pe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Te(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),je={};function Ye(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Ye(u,m[q],v,T,U);return null}return v=Kn(v),u&&u[mt]?u.J(m,v,y(T)?!!T.capture:!1,U):Hs(u,m,v,!1,T,U)}function Hs(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const ne=y(U)?!!U.capture:!!U;let Ie=Si(u);if(Ie||(u[Ue]=Ie=new re(u)),v=Ie.add(m,v,T,ne,q),v.proxy)return v;if(T=Ya(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)z||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Gn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ya(){function u(v){return m.call(u.src,u.listener,v)}const m=ai;return u}function Fn(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Fn(u,m[q],v,T,U);else T=y(T)?!!T.capture:!!T,v=Kn(v),u&&u[mt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Te(m,v,T,U),v>-1&&(pe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Si(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Te(m,v,T,U)),(v=u>-1?m[u]:null)&&Zt(v))}function Zt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[mt])ve(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Gn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Si(m))?(ve(v,u),v.h==0&&(v.src=null,m[Ue]=null)):pe(u)}}}function Gn(u){return u in je?je[u]:je[u]="on"+u}function ai(u,m){if(u.da)u=!0;else{m=new Ze(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Zt(u),u=v.call(T,m)}return u}function Si(u){return u=u[Ue],u instanceof re?u:null}var Xa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kn(u){return typeof u=="function"?u:(u[Xa]||(u[Xa]=function(m){return u.handleEvent(m)}),u[Xa])}function pt(){j.call(this),this.i=new re(this),this.M=this,this.G=null}A(pt,j),pt.prototype[mt]=!0,pt.prototype.removeEventListener=function(u,m,v,T){Fn(this,u,m,v,T)};function Dt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var U=m;m=new M(T,u),ae(m,U)}U=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=m.g=v[ne],U=Qn(q,T,!0,m)&&U;if(q=m.g=u,U=Qn(q,T,!0,m)&&U,U=Qn(q,T,!1,m)&&U,v)for(ne=0;ne<v.length;ne++)q=m.g=v[ne],U=Qn(q,T,!1,m)&&U}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)pe(v[T]);delete u.g[m],u.h--}}this.G=null},pt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Qn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==v){const Ie=ne.listener,kt=ne.ha||ne.src;ne.fa&&ve(u.i,ne),U=Ie.call(kt,T)!==!1&&U}}return U&&!T.defaultPrevented}function pn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function cs(u){u.g=pn(()=>{u.g=null,u.i&&(u.i=!1,cs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nt extends j{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(u){j.call(this),this.h=u,this.g={}}A(ri,j);var Fs=[];function hs(u){Me(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zt(m)},u),u.g={}}ri.prototype.N=function(){ri.Z.N.call(this),hs(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=f.JSON.stringify,$a=f.JSON.parse,qi=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Gs(){}function Ni(){}var sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function At(){M.call(this,"d")}A(At,M);function Tn(){M.call(this,"c")}A(Tn,M);var Tt={},Hi=null;function xn(){return Hi=Hi||new pt}Tt.Ia="serverreachability";function ds(u){M.call(this,Tt.Ia,u)}A(ds,M);function Dn(u){const m=xn();Dt(m,new ds(m))}Tt.STAT_EVENT="statevent";function kn(u,m){M.call(this,Tt.STAT_EVENT,u),this.stat=m}A(kn,M);function it(u){const m=xn();Dt(m,new kn(m,u))}Tt.Ja="timingevent";function an(u,m){M.call(this,Tt.Ja,u),this.size=m}A(an,M);function zt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Wt(){this.g=!0}Wt.prototype.ua=function(){this.g=!1};function Qt(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var ne="",Ie=q.split("&");for(let We=0;We<Ie.length;We++){var kt=Ie[We].split("=");if(kt.length>1){const bt=kt[0];kt=kt[1];const pi=bt.split("_");ne=pi.length>=2&&pi[1]=="type"?ne+(bt+"="+kt+"&"):ne+(bt+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+ne})}function Fi(u,m,v,T,U,q,ne){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+ne})}function Ci(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qs(u,v)+(T?" "+T:"")})}function Ks(u,m){u.info(function(){return"TIMEOUT: "+m})}Wt.prototype.info=function(){};function Qs(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<T.length;ne++)T[ne]=""}}}}return Yn(q)}catch{return m}}var Gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ja;function gn(){}A(gn,Gs),gn.prototype.g=function(){return new XMLHttpRequest},Ja=new gn;function li(u){return encodeURIComponent(String(u))}function Ur(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function wn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rn}function rn(){this.i=null,this.g="",this.h=!1}var xt={},vt={};function Xn(u,m,v){u.M=1,u.A=G(Nt(m)),u.u=v,u.R=!0,fs(u,null)}function fs(u,m){u.F=Date.now(),An(u),u.B=Nt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Br(v.i,"t",T),u.C=0,v=u.j.L,u.h=new rn,u.g=Uu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Fs[0]=U.toString()),U=Fs);for(let q=0;q<U.length;q++){const ne=Ye(v,U[q],T||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Dn(),Qt(u.i,u.v,u.B,u.l,u.S,u.u)}wn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ki(u)==3?m.j():this.Y(u)},wn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ki(this.g),kt=this.g.ya(),We=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Ie!=4||kt==7||(kt==8||We<=0?Dn(3):Dn(2)),oi(this);var m=this.g.ca();this.X=m;var v=Za(this);if(this.o=m==200,Fi(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var q=T;break t}}q=null}if(u=q)Ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,it(12),Nn(this),Sn(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<v.length;)if(bt=Wa(this,v),bt==vt){Ie==4&&(this.m=4,it(14),u=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==xt){this.m=4,it(15),Ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ci(this.i,this.l,bt,null),ui(this,bt);if(en(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,it(16),u=!1),this.o=this.o&&u,!u)Ci(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),oo(ne),ne.P=!0,it(11))}}else Ci(this.i,this.l,v,null),ui(this,v);Ie==4&&Nn(this),this.o&&!this.K&&(Ie==4?Ou(this.j,this):(this.o=!1,An(this)))}else gs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),Nn(this),Sn(this)}}}catch{}};function Za(u){if(!en(u))return u.g.la();const m=ln(u.g);if(m==="")return"";let v="";const T=m.length,U=ki(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Sn(u),"";u.h.i=new f.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function en(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wa(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?vt:(v=Number(m.substring(v,T)),isNaN(v)?xt:(T+=1,T+v>m.length?vt:(m=m.slice(T,T+v),u.C=T+v,m)))}wn.prototype.cancel=function(){this.K=!0,Nn(this)};function An(u){u.T=Date.now()+u.H,Ys(u,u.H)}function Ys(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=zt(_(u.aa,u),m)}function oi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ks(this.i,this.B),this.M!=2&&(Dn(),it(17)),Nn(this),this.m=2,Sn(this)):Ys(this,this.T-u)};function Sn(u){u.j.I==0||u.K||Ou(u.j,u)}function Nn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||hi(v.h,u))){if(!u.L&&hi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Kr(v),na(v);else break e;ur(v),it(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=zt(_(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ji(v,11)}else if((u.L||v.g==u)&&Kr(v),!N(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let We=U[m];const bt=We[0];if(!(bt<=v.K))if(v.K=bt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const pi=We[3];pi!=null&&(v.ka=pi,v.j.info("VER="+v.ka));const Zi=We[4];Zi!=null&&(v.za=Zi,v.j.info("SVER="+v.za));const Mi=We[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(T=1.5*Mi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Oi=u.g;if(Oi){const cr=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var q=T.h;q.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(nr(q,q.h),q.h=null))}if(T.G){const Qr=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qr&&(T.wa=Qr,w(T.J,T.G,Qr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ne=u;if(T.na=zu(T,T.L?T.ba:null,T.W),ne.L){ir(T.h,ne);var Ie=ne,kt=T.O;kt&&(Ie.H=kt),Ie.D&&(oi(Ie),An(Ie)),T.g=ne}else ku(T);v.i.length>0&&$i(v)}else We[0]!="stop"&&We[0]!="close"||Ji(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ji(v,7):ro(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Dn(4)}catch{}}var St=class{constructor(u,m){this.g=u,this.map=m}};function er(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function nr(u,m){u.g?u.g.add(m):u.h=m}function ir(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}er.prototype.cancel=function(){if(this.i=Xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.u),this.h=u.h,ms(this,Iu(u.i)),this.m=u.m):u&&(m=String(u).match(Lr))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=W(m[2]||""),this.g=W(m[3]||"",!0),Ki(this,m[4]),this.h=W(m[5]||"",!0),ms(this,m[6]||"",!0),this.m=W(m[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ee(m,Lt,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ee(m,Lt,!0),"@"),u.push(li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ee(v,v.charAt(0)=="/"?Pr:Ri,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ee(v,Cu)),u.join("")},Cn.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?Ut(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ki(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ne=0;ne<U.length;){const Ie=U[ne++];Ie=="."?T&&ne==U.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ne==U.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?ms(m,Iu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new Cn(u)}function Ut(u,m,v){u.j=v?W(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ms(u,m,v){m instanceof Js?(u.i=m,qr(u.i,u.l)):(v||(m=ee(m,di)),u.i=new Js(m,u.l))}function w(u,m,v){u.i.set(m,v)}function G(u){return w(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function W(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ee(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ue),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ue(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Lt=/[#\/\?@]/g,Ri=/[#\?:]/g,Pr=/[#\?]/g,di=/[#\?@]/g,Cu=/#/g;function Js(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Mn(u){u.g||(u.g=new Map,u.h=0,u.i&&$s(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Js.prototype,s.add=function(u,m){Mn(this),this.i=null,u=Zs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ru(u,m){Mn(u),m=Zs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function to(u,m){return Mn(u),m=Zs(u,m),u.g.has(m)}s.forEach=function(u,m){Mn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function no(u,m){Mn(u);let v=[];if(typeof m=="string")to(u,m)&&(v=v.concat(u.g.get(Zs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Mn(this),this.i=null,u=Zs(this,u),to(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=no(this,u),u.length>0?String(u[0]):m):m};function Br(u,m,v){Ru(u,m),v.length>0&&(u.i=null,u.g.set(Zs(u,m),Y(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=li(v);v=no(this,v);for(let q=0;q<v.length;q++){let ne=U;v[q]!==""&&(ne+="="+li(v[q])),u.push(ne)}}return this.i=u.join("&")};function Iu(u){const m=new Js;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Zs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function qr(u,m){m&&!u.j&&(Mn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(Ru(this,T),Br(this,U,v))},u)),u.j=m}function Ii(u,m){const v=new Wt;if(f.Image){const T=new Image;T.onload=x(fi,v,"TestLoadImage: loaded",!0,m,T),T.onerror=x(fi,v,"TestLoadImage: error",!1,m,T),T.onabort=x(fi,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(fi,v,"TestLoadImage: timeout",!1,m,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function io(u,m){const v=new Wt,T=new AbortController,U=setTimeout(()=>{T.abort(),fi(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?fi(v,"TestPingServer: ok",!0,m):fi(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),fi(v,"TestPingServer: error",!1,m)})}function fi(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Ws(){this.g=new qi}function Qi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Qi,Gs),Qi.prototype.g=function(){return new sr(this.i,this.h)};function sr(u,m){pt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(sr,pt),s=sr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ea(this):Di(this),this.readyState==3&&Hr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ea(this))},s.Na=function(u){this.g&&(this.response=u,ea(this))},s.ga=function(){this.g&&ea(this)};function ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mi(u){let m="";return Me(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ar(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=mi(v),typeof u=="string"?v!=null&&li(v):w(u,m,v))}function lt(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(lt,pt);var Yi=/^https?$/i,so=["POST","PUT"];s=lt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ja.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){rr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(so,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){rr(this,q)}};function rr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ao(u),ps(u)}function ao(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Dt(this,"complete"),Dt(this,"abort"),ps(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},s.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&ki(u)==4)setTimeout(u.Ca.bind(u),0);else if(Dt(u,"readystatechange"),ki(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let ne=String(u.D).match(Lr)[1]||null;!ne&&f.self&&f.self.location&&(ne=f.self.location.protocol.slice(0,-1)),T=!Yi.test(ne?ne.toLowerCase():"")}v=T}if(v)Dt(u,"complete"),Dt(u,"success");else{u.o=6;try{var U=ki(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ao(u)}}finally{ps(u)}}}}function ps(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Dt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ki(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$a(m)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(u){const m={};u=(u.g&&ki(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(N(u[T]))continue;var v=Ur(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Qe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ta(u){this.za=0,this.i=[],this.j=new Wt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,u),this.Za=Xi("retryDelaySeedMs",1e4,u),this.Ta=Xi("forwardChannelMaxRetries",2,u),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new er(u&&u.concurrentRequestLimit),this.Ba=new Ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ta.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){it(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=zu(this,null,this.W),$i(this)};function ro(u){if(Fr(u),u.I==3){var m=u.V++,v=Nt(u.J);if(w(v,"SID",u.M),w(v,"RID",m),w(v,"TYPE","terminate"),or(u,v),m=new wn(u,u.j,m),m.M=2,m.A=G(Nt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),An(m)}Vu(u)}function na(u){u.g&&(oo(u),u.g.cancel(),u.g=null)}function Fr(u){na(u),u.v&&(f.clearTimeout(u.v),u.v=null),Kr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function $i(u){if(!tr(u.h)&&!u.m){u.m=!0;var m=u.Ea;ft||S(),Oe||(ft(),Oe=!0),R.add(m,u),u.D=0}}function Gr(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=zt(_(u.Ea,u,m),ju(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new wn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Du(this,U,m),v=Nt(this.J),w(v,"RID",u),w(v,"CVER",22),this.G&&w(v,"X-HTTP-Session-Id",this.G),or(this,v),q&&(this.R?m="headers="+li(mi(q))+"&"+m:this.u&&ar(v,this.u,q)),nr(this.h,U),this.Ra&&w(v,"TYPE","init"),this.S?(w(v,"$req",m),w(v,"SID","null"),U.U=!0,Xn(U,v,null)):Xn(U,v,m),this.I=2}}else this.I==3&&(u?lo(this,u):this.i.length==0||tr(this.h)||lo(this))};function lo(u,m){var v;m?v=m.l:v=u.V++;const T=Nt(u.J);w(T,"SID",u.M),w(T,"RID",v),w(T,"AID",u.K),or(u,T),u.u&&u.o&&ar(T,u.u,u.o),v=new wn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),nr(u.h,v),Xn(v,T,m)}function or(u,m){u.H&&Me(u.H,function(v,T){w(m,T,v)}),u.l&&Me({},function(v,T){w(m,T,v)})}function Du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const kt=["count="+v];Ie==-1?v>0?(Ie=U[0].g,kt.push("ofs="+Ie)):Ie=0:kt.push("ofs="+Ie);let We=!0;for(let bt=0;bt<v;bt++){var q=U[bt].g;const pi=U[bt].map;if(q-=Ie,q<0)Ie=Math.max(0,U[bt].g-100),We=!1;else try{q="req"+q+"_"||"";try{var ne=pi instanceof Map?pi:Object.entries(pi);for(const[Zi,Mi]of ne){let Oi=Mi;y(Mi)&&(Oi=Yn(Mi)),kt.push(q+Zi+"="+encodeURIComponent(Oi))}}catch(Zi){throw kt.push(q+"type="+encodeURIComponent("_badmap")),Zi}}catch{T&&T(pi)}}if(We){ne=kt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function ku(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ft||S(),Oe||(ft(),Oe=!0),R.add(m,u),u.A=0}}function ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=zt(_(u.Da,u),ju(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=zt(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),na(this),Mu(this))};function oo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Mu(u){u.g=new wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);w(m,"RID","rpc"),w(m,"SID",u.M),w(m,"AID",u.K),w(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&w(m,"TO",u.ia),w(m,"TYPE","xmlhttp"),or(u,m),u.u&&u.o&&ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=G(Nt(m)),v.u=null,v.R=!0,fs(v,u)}s.Va=function(){this.C!=null&&(this.C=null,na(this),ur(this),it(19))};function Kr(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Ou(u,m){var v=null;if(u.g==m){Kr(u),oo(u),u.g=null;var T=2}else if(hi(u.h,m))v=m.G,ir(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=xn(),Dt(T,new an(T,v)),$i(u)}else ku(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Gr(u,m)||T==2&&ur(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ji(u,5);break;case 4:Ji(u,10);break;case 3:Ji(u,6);break;default:Ji(u,2)}}}function ju(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ji(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new Cn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(T,"https"),G(T),U?Ii(T.toString(),v):io(T.toString(),v)}else it(2);u.I=0,u.l&&u.l.pa(m),Vu(u),Fr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Vu(u){if(u.I=0,u.ja=[],u.l){const m=Xs(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function zu(u,m,v){var T=v instanceof Cn?Nt(v):new Cn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ki(T,T.u);else{var U=f.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Cn(null);T&&Ut(q,T),m&&(q.g=m),U&&Ki(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&w(T,v,m),w(T,"VER",u.ka),or(u,T),T}function Uu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new Qi({ab:v})):new lt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}s=Lu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ia(){}ia.prototype.g=function(u,m){return new Rn(u,m)};function Rn(u,m){pt.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ys(this)}A(Rn,pt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){ro(this.g)},Rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Yn(u),u=v);m.i.push(new St(m.Ya++,u)),m.I==3&&$i(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,ro(this.g),delete this.g,Rn.Z.N.call(this)};function Pu(u){At.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Pu,At);function Bu(){Tn.call(this),this.status=1}A(Bu,Tn);function ys(u){this.g=u}A(ys,Lu),ys.prototype.ra=function(){Dt(this.g,"a")},ys.prototype.qa=function(u){Dt(this.g,new Pu(u))},ys.prototype.pa=function(u){Dt(this.g,new Bu)},ys.prototype.oa=function(){Dt(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Sb=function(){return new ia},Ab=function(){return xn()},wb=Tt,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,ih=Gi,rt.COMPLETE="complete",xb=rt,Ni.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Jo=Ni,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,Tb=lt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Xl="12.9.0";function ow(s){Xl=s}const Dr=new np("@firebase/firestore");function Cl(){return Dr.logLevel}function ce(s,...e){if(Dr.logLevel<=Be.DEBUG){const i=e.map(ap);Dr.debug(`Firestore (${Xl}): ${s}`,...i)}}function zs(s,...e){if(Dr.logLevel<=Be.ERROR){const i=e.map(ap);Dr.error(`Firestore (${Xl}): ${s}`,...i)}}function kr(s,...e){if(Dr.logLevel<=Be.WARN){const i=e.map(ap);Dr.warn(`Firestore (${Xl}): ${s}`,...i)}}function ap(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Nb(s,r,i)}function Nb(s,e,i){let r=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw zs(r),new Error(r)}function tt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||Nb(e,o,r)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends qs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Cb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class cw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hw{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let r=this.i;const o=b=>this.i!==r?(r=this.i,i(b)):Promise.resolve();let c=new js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new js,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const b=c;e.enqueueRetryable((async()=>{await b.promise,await o(this.currentUser)}))},y=b=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((b=>y(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new js)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new Cb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class dw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new dw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=pw(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function Om(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return hm(o)===hm(c)?qe(o,c):hm(o)?1:-1}return qe(s.length,e.length)}const gw=55296,yw=57343;function hm(s){const e=s.charCodeAt(0);return e>=gw&&e<=yw}function Pl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const j_="__name__";class is{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ee(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=is.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=is.isNumericId(e),o=is.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?is.extractNumericId(e).compare(is.extractNumericId(i)):Om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ja.fromString(e.substring(4,e.length-2))}}class dt extends is{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const _w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends is{construct(e,i,r){return new fn(e,i,r)}static isValidIdentifier(e){return _w.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new fn([j_])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else y==="`"?(f=!f,o++):y!=="."||f?(r+=y,o++):(c(),o++)}if(c(),f)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(i)}static emptyPath(){return new fn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(dt.fromString(e))}static fromName(e){return new ye(dt.fromString(e).popFirst(5))}static empty(){return new ye(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new dt(e.slice()))}}function Rb(s,e,i){if(!i)throw new oe($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function vw(s,e,i,r){if(e===!0&&r===!0)throw new oe($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function V_(s){if(!ye.isDocumentKey(s))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function z_(s){if(ye.isDocumentKey(s))throw new oe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ib(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function jh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function si(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jh(s);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function yu(s,e){if(!Ib(s))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new oe($.INVALID_ARGUMENT,i);return!0}const U_=-62135596800,L_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*L_);return new _t(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Kt("string",_t._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new _t(0,0))}static max(){return new Se(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ou=-1;function bw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new _t(i+1,0):new _t(i,r));return new La(o,ye.empty(),e)}function Ew(s){return new La(s.readTime,s.key,ou)}class La{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new La(Se.min(),ye.empty(),ou)}static max(){return new La(Se.max(),ye.empty(),ou)}}function Tw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const xw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $l(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==xw)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,c=0,f=!1;e.forEach((y=>{++o,y.next((()=>{++c,f&&c===o&&i()}),(b=>r(b)))})),f=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const c=e.length,f=new Array(c);let y=0;for(let b=0;b<c;b++){const _=b;i(e[_]).next((x=>{f[_]=x,++y,y===c&&r(f)}),(x=>o(x)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function Aw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jl(s){return s.name==="IndexedDbTransactionError"}class Vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;const lp=-1;function zh(s){return s==null}function gh(s){return s===0&&1/s==-1/0}function Sw(s){return typeof s=="number"&&Number.isInteger(s)&&!gh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Db="";function Nw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=P_(e)),e=Cw(s.get(i),e);return P_(e)}function Cw(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Db:i+="";break;default:i+=c}}return i}function P_(s){return s+Db+""}function B_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ka(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function kb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||dn.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??dn.RED,this.left=o??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new dn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new dn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ii([])}unionWith(e){let i=new $t(fn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ii(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Mb("Invalid base64 string: "+c):c}})(e);return new mn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new mn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Rw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=Rw.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(s.seconds),nanos:jt(s.nanos)}}function jt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ba(s){return typeof s=="string"?mn.fromBase64String(s):mn.fromUint8Array(s)}const Ob="server_timestamp",jb="__type__",Vb="__previous_value__",zb="__local_write_time__";function op(s){return(s?.mapValue?.fields||{})[jb]?.stringValue===Ob}function Uh(s){const e=s.mapValue.fields[Vb];return op(e)?Uh(e):e}function uu(s){const e=Pa(s.mapValue.fields[zb].timestampValue);return new _t(e.seconds,e.nanos)}class Iw{constructor(e,i,r,o,c,f,y,b,_,x,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=b,this.useFetchStreams=_,this.isUsingEmulator=x,this.apiKey=A}}const yh="(default)";class cu{constructor(e,i){this.projectId=e,this.database=i||yh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}function Dw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(s.options.projectId,e)}const Ub="__type__",kw="__max__",Qc={mapValue:{}},Lb="__vector__",_h="value";function qa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?op(s)?4:Ow(s)?9007199254740991:Mw(s)?10:11:Ee(28295,{value:s})}function us(s,e){if(s===e)return!0;const i=qa(s);if(i!==qa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return uu(s).isEqual(uu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Pa(o.timestampValue),y=Pa(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ba(o.bytesValue).isEqual(Ba(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return jt(o.geoPointValue.latitude)===jt(c.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return jt(o.integerValue)===jt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=jt(o.doubleValue),y=jt(c.doubleValue);return f===y?gh(f)===gh(y):isNaN(f)&&isNaN(y)}return!1})(s,e);case 9:return Pl(s.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},y=c.mapValue.fields||{};if(B_(f)!==B_(y))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(y[b]===void 0||!us(f[b],y[b])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function hu(s,e){return(s.values||[]).find((i=>us(i,e)))!==void 0}function Bl(s,e){if(s===e)return 0;const i=qa(s),r=qa(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const y=jt(c.integerValue||c.doubleValue),b=jt(f.integerValue||f.doubleValue);return y<b?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1})(s,e);case 3:return H_(s.timestampValue,e.timestampValue);case 4:return H_(uu(s),uu(e));case 5:return Om(s.stringValue,e.stringValue);case 6:return(function(c,f){const y=Ba(c),b=Ba(f);return y.compareTo(b)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const y=c.split("/"),b=f.split("/");for(let _=0;_<y.length&&_<b.length;_++){const x=qe(y[_],b[_]);if(x!==0)return x}return qe(y.length,b.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const y=qe(jt(c.latitude),jt(f.latitude));return y!==0?y:qe(jt(c.longitude),jt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return F_(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const y=c.fields||{},b=f.fields||{},_=y[_h]?.arrayValue,x=b[_h]?.arrayValue,A=qe(_?.values?.length||0,x?.values?.length||0);return A!==0?A:F_(_,x)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Qc.mapValue&&f===Qc.mapValue)return 0;if(c===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const y=c.fields||{},b=Object.keys(y),_=f.fields||{},x=Object.keys(_);b.sort(),x.sort();for(let A=0;A<b.length&&A<x.length;++A){const D=Om(b[A],x[A]);if(D!==0)return D;const Y=Bl(y[b[A]],_[x[A]]);if(Y!==0)return Y}return qe(b.length,x.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function H_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=Pa(s),r=Pa(e),o=qe(i.seconds,r.seconds);return o!==0?o:qe(i.nanos,r.nanos)}function F_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Bl(i[o],r[o]);if(c)return c}return qe(i.length,r.length)}function ql(s){return jm(s)}function jm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Pa(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ba(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=jm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${jm(i.fields[f])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function sh(s){switch(qa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(s);return e?16+sh(e):16;case 5:return 2*s.stringValue.length;case 6:return Ba(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+sh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ka(r.fields,((c,f)=>{o+=c.length+sh(f)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function G_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Vm(s){return!!s&&"integerValue"in s}function up(s){return!!s&&"arrayValue"in s}function K_(s){return!!s&&"nullValue"in s}function Q_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ah(s){return!!s&&"mapValue"in s}function Mw(s){return(s?.mapValue?.fields||{})[Ub]?.stringValue===Lb}function nu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ka(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=nu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=nu(s.arrayValue.values[i]);return e}return{...s}}function Ow(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===kw}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ah(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(i)}setAll(e){let i=fn.emptyPath(),r={},o=[];e.forEach(((f,y)=>{if(!i.isImmediateParentOf(y)){const b=this.getFieldsMap(i);this.applyChanges(b,r,o),r={},o=[],i=y.popLast()}f?r[y.lastSegment()]=nu(f):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());ah(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ka(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new qn(nu(this.value))}}function Pb(s){const e=[];return Ka(s.fields,((i,r)=>{const o=new fn([i]);if(ah(r)){const c=Pb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new ii(e)}class bn{constructor(e,i,r,o,c,f,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=y}static newInvalidDocument(e){return new bn(e,0,Se.min(),Se.min(),Se.min(),qn.empty(),0)}static newFoundDocument(e,i,r,o){return new bn(e,1,i,Se.min(),r,o,0)}static newNoDocument(e,i){return new bn(e,2,i,Se.min(),Se.min(),qn.empty(),0)}static newUnknownDocument(e,i){return new bn(e,3,i,Se.min(),Se.min(),qn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,i){this.position=e,this.inclusive=i}}function Y_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),i.key):r=Bl(f,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function X_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!us(s.position[i],e.position[i]))return!1;return!0}class bh{constructor(e,i="asc"){this.field=e,this.dir=i}}function jw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Bb{}class Gt extends Bb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new zw(e,i,r):i==="array-contains"?new Pw(e,r):i==="in"?new Bw(e,r):i==="not-in"?new qw(e,r):i==="array-contains-any"?new Hw(e,r):new Gt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Uw(e,r):new Lw(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Bl(i,this.value)):i!==null&&qa(this.value)===qa(i)&&this.matchesComparison(Bl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends Bb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bi(e,i)}matches(e){return qb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qb(s){return s.op==="and"}function Hb(s){return Vw(s)&&qb(s)}function Vw(s){for(const e of s.filters)if(e instanceof Bi)return!1;return!0}function zm(s){if(s instanceof Gt)return s.field.canonicalString()+s.op.toString()+ql(s.value);if(Hb(s))return s.filters.map((e=>zm(e))).join(",");{const e=s.filters.map((i=>zm(i))).join(",");return`${s.op}(${e})`}}function Fb(s,e){return s instanceof Gt?(function(r,o){return o instanceof Gt&&r.op===o.op&&r.field.isEqual(o.field)&&us(r.value,o.value)})(s,e):s instanceof Bi?(function(r,o){return o instanceof Bi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,y)=>c&&Fb(f,o.filters[y])),!0):!1})(s,e):void Ee(19439)}function Gb(s){return s instanceof Gt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ql(i.value)}`})(s):s instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Gb).join(" ,")+"}"})(s):"Filter"}class zw extends Gt{constructor(e,i,r){super(e,i,r),this.key=ye.fromName(r.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class Uw extends Gt{constructor(e,i){super(e,"in",i),this.keys=Kb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Lw extends Gt{constructor(e,i){super(e,"not-in",i),this.keys=Kb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Kb(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class Pw extends Gt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return up(i)&&hu(i.arrayValue,this.value)}}class Bw extends Gt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&hu(this.value.arrayValue,i)}}class qw extends Gt{constructor(e,i){super(e,"not-in",i)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!hu(this.value.arrayValue,i)}}class Hw extends Gt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!up(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>hu(this.value.arrayValue,r)))}}class Fw{constructor(e,i=null,r=[],o=[],c=null,f=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=y,this.Te=null}}function $_(s,e=null,i=[],r=[],o=null,c=null,f=null){return new Fw(s,e,i,r,o,c,f)}function cp(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>zm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),zh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ql(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ql(r))).join(",")),e.Te=i}return e.Te}function hp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!jw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Fb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!X_(s.startAt,e.startAt)&&X_(s.endAt,e.endAt)}function Um(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _u{constructor(e,i=null,r=[],o=[],c=null,f="F",y=null,b=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=b,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Gw(s,e,i,r,o,c,f,y){return new _u(s,e,i,r,o,c,f,y)}function Lh(s){return new _u(s)}function J_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Kw(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Qb(s){return s.collectionGroup!==null}function iu(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new $t(fn.comparator);return f.filters.forEach((b=>{b.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new bh(c,r))})),i.has(fn.keyField().canonicalString())||e.Ie.push(new bh(fn.keyField(),r))}return e.Ie}function ss(s){const e=Ce(s);return e.Ee||(e.Ee=Qw(e,iu(s))),e.Ee}function Qw(s,e){if(s.limitType==="F")return $_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new bh(o.field,c)}));const i=s.endAt?new vh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new vh(s.startAt.position,s.startAt.inclusive):null;return $_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Lm(s,e){const i=s.filters.concat([e]);return new _u(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Pm(s,e,i){return new _u(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ph(s,e){return hp(ss(s),ss(e))&&s.limitType===e.limitType}function Yb(s){return`${cp(ss(s))}|lt:${s.limitType}`}function Rl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Gb(o))).join(", ")}]`),zh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>ql(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>ql(o))).join(",")),`Target(${r})`})(ss(s))}; limitType=${s.limitType})`}function Bh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of iu(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,y,b){const _=Y_(f,y,b);return f.inclusive?_<=0:_<0})(r.startAt,iu(r),o)||r.endAt&&!(function(f,y,b){const _=Y_(f,y,b);return f.inclusive?_>=0:_>0})(r.endAt,iu(r),o))})(s,e)}function Yw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Xb(s){return(e,i)=>{let r=!1;for(const o of iu(s)){const c=Xw(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Xw(s,e,i){const r=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,f,y){const b=f.data.field(c),_=y.data.field(c);return b!==null&&_!==null?Bl(b,_):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}class jr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return kb(this.inner)}size(){return this.innerSize}}const $w=new wt(ye.comparator);function Us(){return $w}const $b=new wt(ye.comparator);function Zo(...s){let e=$b;for(const i of s)e=e.insert(i.key,i);return e}function Jb(s){let e=$b;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Nr(){return su()}function Zb(){return su()}function su(){return new jr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Jw=new wt(ye.comparator),Zw=new $t(ye.comparator);function He(...s){let e=Zw;for(const i of s)e=e.add(i);return e}const Ww=new $t(qe);function eA(){return Ww}function dp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function Wb(s){return{integerValue:""+s}}function tA(s,e){return Sw(e)?Wb(e):dp(s,e)}class qh{constructor(){this._=void 0}}function nA(s,e,i){return s instanceof du?(function(o,c){const f={fields:{[jb]:{stringValue:Ob},[zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&op(c)&&(c=Uh(c)),c&&(f.fields[Vb]=c),{mapValue:f}})(i,e):s instanceof Hl?t1(s,e):s instanceof fu?n1(s,e):(function(o,c){const f=e1(o,c),y=Z_(f)+Z_(o.Ae);return Vm(f)&&Vm(o.Ae)?Wb(y):dp(o.serializer,y)})(s,e)}function iA(s,e,i){return s instanceof Hl?t1(s,e):s instanceof fu?n1(s,e):i}function e1(s,e){return s instanceof Eh?(function(r){return Vm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class du extends qh{}class Hl extends qh{constructor(e){super(),this.elements=e}}function t1(s,e){const i=i1(e);for(const r of s.elements)i.some((o=>us(o,r)))||i.push(r);return{arrayValue:{values:i}}}class fu extends qh{constructor(e){super(),this.elements=e}}function n1(s,e){let i=i1(e);for(const r of s.elements)i=i.filter((o=>!us(o,r)));return{arrayValue:{values:i}}}class Eh extends qh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z_(s){return jt(s.integerValue||s.doubleValue)}function i1(s){return up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class s1{constructor(e,i){this.field=e,this.transform=i}}function sA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Hl&&o instanceof Hl||r instanceof fu&&o instanceof fu?Pl(r.elements,o.elements,us):r instanceof Eh&&o instanceof Eh?us(r.Ae,o.Ae):r instanceof du&&o instanceof du})(s.transform,e.transform)}class aA{constructor(e,i){this.version=e,this.transformResults=i}}class Hn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Hh{}function a1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Fh(s.key,Hn.none()):new vu(s.key,s.data,Hn.none());{const i=s.data,r=qn.empty();let o=new $t(fn.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Qa(s.key,r,new ii(o.toArray()),Hn.none())}}function rA(s,e,i){s instanceof vu?(function(o,c,f){const y=o.value.clone(),b=ev(o.fieldTransforms,c,f.transformResults);y.setAll(b),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Qa?(function(o,c,f){if(!rh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const y=ev(o.fieldTransforms,c,f.transformResults),b=c.data;b.setAll(r1(o)),b.setAll(y),c.convertToFoundDocument(f.version,b).setHasCommittedMutations()})(s,e,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function au(s,e,i,r){return s instanceof vu?(function(c,f,y,b){if(!rh(c.precondition,f))return y;const _=c.value.clone(),x=tv(c.fieldTransforms,b,f);return _.setAll(x),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Qa?(function(c,f,y,b){if(!rh(c.precondition,f))return y;const _=tv(c.fieldTransforms,b,f),x=f.data;return x.setAll(r1(c)),x.setAll(_),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,f,y){return rh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(s,e,i)}function lA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=e1(r.transform,o||null);c!=null&&(i===null&&(i=qn.empty()),i.set(r.field,c))}return i||null}function W_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Pl(r,o,((c,f)=>sA(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class vu extends Hh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qa extends Hh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function r1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function ev(s,e,i){const r=new Map;tt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],f=c.transform,y=e.data.field(c.field);r.set(c.field,iA(f,y,i[o]))}return r}function tv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,f=i.data.field(o.field);r.set(o.field,nA(c,f,e))}return r}class Fh extends Hh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oA extends Hh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&rA(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=au(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=au(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Zb();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let y=this.applyToLocalView(f,c.mutatedFields);y=i.has(o.key)?null:y;const b=a1(f,y);b!==null&&r.set(o.key,b),f.isValidDocument()||f.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,((i,r)=>W_(i,r)))&&Pl(this.baseMutations,e.baseMutations,((i,r)=>W_(i,r)))}}class fp{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return Jw})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new fp(e,i,r,o)}}class cA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,Ge;function dA(s){switch(s){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function l1(s){if(s===void 0)return zs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ft.OK:return $.OK;case Ft.CANCELLED:return $.CANCELLED;case Ft.UNKNOWN:return $.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return $.INTERNAL;case Ft.UNAVAILABLE:return $.UNAVAILABLE;case Ft.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ft.NOT_FOUND:return $.NOT_FOUND;case Ft.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ft.ABORTED:return $.ABORTED;case Ft.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ft.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ge=Ft||(Ft={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function fA(){return new TextEncoder}const mA=new ja([4294967295,4294967295],0);function nv(s){const e=fA().encode(s),i=new Eb;return i.update(e),new Uint8Array(i.digest())}function iv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ja([i,r],0),new ja([o,c],0)]}class mp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Wo(`Invalid padding: ${i}`);if(r<0)throw new Wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ja.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(ja.fromNumber(r)));return o.compare(mA)===1&&(o=new ja([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[r,o]=iv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new mp(c,o,i);return r.forEach((y=>f.insert(y))),f}insert(e){if(this.ge===0)return;const i=nv(e),[r,o]=iv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.be(f)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Gh(Se.min(),o,new wt(qe),Us(),He())}}class bu{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new bu(r,i,He(),He(),He())}}class lh{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class o1{constructor(e,i){this.targetId=e,this.Ce=i}}class u1{constructor(e,i,r=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class sv{constructor(){this.ve=0,this.Fe=av(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:c})}})),new bu(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=av()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.He=Yc(),this.Je=Yc(),this.Ze=new wt(qe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Um(c))if(r===0){const f=new ye(c.path);this.et(i,f,bn.newNoDocument(f,Se.min()))}else tt(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const y=this.ut(e),b=y?this.ct(y,e,f):1;if(b!==0){this.it(i);const _=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let f,y;try{f=Ba(r).toUint8Array()}catch(b){if(b instanceof Mb)return kr("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{y=new mp(f,o,c)}catch(b){return kr(b instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const y=this.ot(f);if(y){if(c.current&&Um(y.target)){const b=new ye(y.target.path);this.It(b).has(f)||this.Et(f,b)||this.et(f,b,bn.newNoDocument(b,e))}c.Be&&(i.set(f,c.ke()),c.Ke())}}));let r=He();this.Je.forEach(((c,f)=>{let y=!0;f.forEachWhile((b=>{const _=this.ot(b);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Gh(e,i,this.Ze,this.je,r);return this.je=Us(),this.He=Yc(),this.Je=Yc(),this.Ze=new wt(qe),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new sv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new $t(qe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new $t(qe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yc(){return new wt(ye.comparator)}function av(){return new wt(ye.comparator)}const gA={asc:"ASCENDING",desc:"DESCENDING"},yA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_A={and:"AND",or:"OR"};class vA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bm(s,e){return s.useProto3Json||zh(e)?e:{value:e}}function Th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bA(s,e){return Th(s,e.toTimestamp())}function as(s){return tt(!!s,49232),Se.fromTimestamp((function(i){const r=Pa(i);return new _t(r.seconds,r.nanos)})(s))}function pp(s,e){return qm(s,e).canonicalString()}function qm(s,e){const i=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function h1(s){const e=dt.fromString(s);return tt(g1(e),10190,{key:e.toString()}),e}function Hm(s,e){return pp(s.databaseId,e.path)}function dm(s,e){const i=h1(e);if(i.get(1)!==s.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(f1(i))}function d1(s,e){return pp(s.databaseId,e)}function EA(s){const e=h1(s);return e.length===4?dt.emptyPath():f1(e)}function Fm(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function f1(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function rv(s,e,i){return{name:Hm(s,e),fields:i.value.mapValue.fields}}function TA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(tt(x===void 0||typeof x=="string",58123),mn.fromBase64String(x||"")):(tt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),mn.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&(function(_){const x=_.code===void 0?$.UNKNOWN:l1(_.code);return new oe(x,_.message||"")})(f);i=new u1(r,o,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=dm(s,r.document.name),c=as(r.document.updateTime),f=r.document.createTime?as(r.document.createTime):Se.min(),y=new qn({mapValue:{fields:r.document.fields}}),b=bn.newFoundDocument(o,c,f,y),_=r.targetIds||[],x=r.removedTargetIds||[];i=new lh(_,x,b.key,b)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=dm(s,r.document),c=r.readTime?as(r.readTime):Se.min(),f=bn.newNoDocument(o,c),y=r.removedTargetIds||[];i=new lh([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=dm(s,r.document),c=r.removedTargetIds||[];i=new lh([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new hA(o,c),y=r.targetId;i=new o1(y,f)}}return i}function xA(s,e){let i;if(e instanceof vu)i={update:rv(s,e.key,e.value)};else if(e instanceof Fh)i={delete:Hm(s,e.key)};else if(e instanceof Qa)i={update:rv(s,e.key,e.data),updateMask:kA(e.fieldMask)};else{if(!(e instanceof oA))return Ee(16599,{dt:e.type});i={verify:Hm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const y=f.transform;if(y instanceof du)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Hl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Eh)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw Ee(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:bA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function wA(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(o,c){let f=o.updateTime?as(o.updateTime):as(c);return f.isEqual(Se.min())&&(f=as(c)),new aA(f,o.transformResults||[])})(i,e)))):[]}function AA(s,e){return{documents:[d1(s,e.path)]}}function SA(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=d1(s,o);const c=(function(_){if(_.length!==0)return p1(Bi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(_){if(_.length!==0)return _.map((x=>(function(D){return{field:Il(D.field),direction:RA(D.dir)}})(x)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const y=Bm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function NA(s){let e=EA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){tt(r===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(A){const D=m1(A);return D instanceof Bi&&Hb(D)?D.getFilters():[D]})(i.where));let f=[];i.orderBy&&(f=(function(A){return A.map((D=>(function(te){return new bh(Dl(te.field),(function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(D)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let D;return D=typeof A=="object"?A.value:A,zh(D)?null:D})(i.limit));let b=null;i.startAt&&(b=(function(A){const D=!!A.before,Y=A.values||[];return new vh(Y,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const D=!A.before,Y=A.values||[];return new vh(Y,D)})(i.endAt)),Gw(e,o,f,c,y,"F",b,_)}function CA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function m1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Dl(i.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Dl(i.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(i.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Dl(i.unaryFilter.field);return Gt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Gt.create(Dl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((r=>m1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function RA(s){return gA[s]}function IA(s){return yA[s]}function DA(s){return _A[s]}function Il(s){return{fieldPath:s.canonicalString()}}function Dl(s){return fn.fromServerFormat(s.fieldPath)}function p1(s){return s instanceof Gt?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NAN"}};if(K_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NAN"}};if(K_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(i.field),op:IA(i.op),value:i.value}}})(s):s instanceof Bi?(function(i){const r=i.getFilters().map((o=>p1(o)));return r.length===1?r[0]:{compositeFilter:{op:DA(i.op),filters:r}}})(s):Ee(54877,{filter:s})}function kA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function g1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function y1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Da{constructor(e,i,r,o,c=Se.min(),f=Se.min(),y=mn.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=b}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MA{constructor(e){this.yt=e}}function OA(s){const e=NA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pm(e,e.limit,"L"):e}class jA{constructor(){this.Sn=new VA}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(La.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(La.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class VA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new $t(dt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new $t(dt.comparator)).toArray()}}const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(_1,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class Fl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Fl(0)}static ar(){return new Fl(-1)}}const ov="LruGarbageCollector",zA=1048576;function uv([s,e],[i,r]){const o=qe(s,i);return o===0?qe(e,r):o}class UA{constructor(e){this.Pr=e,this.buffer=new $t(uv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();uv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class LA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Jl(i)?ce(ov,"Ignoring IndexedDB error during garbage collection: ",i):await $l(i)}await this.Ar(3e5)}))}}class PA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Vh.ce);const r=new UA(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(lv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,c,f,y,b,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,y=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,b=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),Cl()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-x}ms
	Determined least recently used ${o} in `+(y-f)+`ms
	Removed ${c} targets in `+(b-y)+`ms
	Removed ${A} documents in `+(_-b)+`ms
Total Duration: ${_-x}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function BA(s,e){return new PA(s,e)}class qA{constructor(){this.changes=new jr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class FA{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&au(r.mutation,o,ii.empty(),_t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const o=Nr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let f=Zo();return c.forEach(((y,b)=>{f=f.insert(y,b.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const r=Nr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,y)=>{i.set(f,y)}))}))}computeViews(e,i,r,o){let c=Us();const f=su(),y=(function(){return su()})();return i.forEach(((b,_)=>{const x=r.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof Qa)?c=c.insert(_.key,_):x!==void 0?(f.set(_.key,x.mutation.getFieldMask()),au(x.mutation,_,x.mutation.getFieldMask(),_t.now())):f.set(_.key,ii.empty())})),this.recalculateAndSaveOverlays(e,c).next((b=>(b.forEach(((_,x)=>f.set(_,x))),i.forEach(((_,x)=>y.set(_,new HA(x,f.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=su();let o=new wt(((f,y)=>f-y)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const y of f)y.keys().forEach((b=>{const _=i.get(b);if(_===null)return;let x=r.get(b)||ii.empty();x=y.applyToLocalView(_,x),r.set(b,x);const A=(o.get(y.batchId)||He()).add(b);o=o.insert(y.batchId,A)}))})).next((()=>{const f=[],y=o.getReverseIterator();for(;y.hasNext();){const b=y.getNext(),_=b.key,x=b.value,A=Zb();x.forEach((D=>{if(!c.has(D)){const Y=a1(i.get(D),r.get(D));Y!==null&&A.set(D,Y),c=c.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return Kw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Qb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):Z.resolve(Nr());let y=ou,b=c;return f.next((_=>Z.forEach(_,((x,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(x)?Z.resolve():this.remoteDocumentCache.getEntry(e,x).next((D=>{b=b.insert(x,D)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,b,_,He()))).next((x=>({batchId:y,changes:Jb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((r=>{let o=Zo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let f=Zo();return this.indexManager.getCollectionParents(e,c).next((y=>Z.forEach(y,(b=>{const _=(function(A,D){return new _u(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,b.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((x=>{x.forEach(((A,D)=>{f=f.insert(A,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((f=>{c.forEach(((b,_)=>{const x=_.getKey();f.get(x)===null&&(f=f.insert(x,bn.newInvalidDocument(x)))}));let y=Zo();return f.forEach(((b,_)=>{const x=c.get(b);x!==void 0&&au(x.mutation,_,ii.empty(),_t.now()),Bh(i,_)&&(y=y.insert(b,_))})),y}))}}class GA{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:as(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:OA(o.bundledQuery),readTime:as(o.readTime)}})(i)),Z.resolve()}}class KA{constructor(){this.overlays=new wt(ye.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Nr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.bt(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=Nr(),c=i.length+1,f=new ye(i.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const b=y.getNext().value,_=b.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&b.largestBatchId>r&&o.set(b.getKey(),b)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new wt(((_,x)=>_-x));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let x=c.get(_.largestBatchId);x===null&&(x=Nr(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const y=Nr(),b=c.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((_,x)=>y.set(_,x))),!(y.size()>=o)););return Z.resolve(y)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new cA(i,r));let c=this.Lr.get(i);c===void 0&&(c=He(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class QA{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class gp{constructor(){this.kr=new $t(nn.Kr),this.qr=new $t(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new nn(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new nn(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ye(new dt([])),r=new nn(i,e),o=new nn(i,e+1),c=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ye(new dt([])),r=new nn(i,e),o=new nn(i,e+1);let c=He();return this.qr.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new nn(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ye.comparator(e.key,i.key)||qe(e.Hr,i.Hr)}static Ur(e,i){return qe(e.Hr,i.Hr)||ye.comparator(e.key,i.key)}}class YA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(nn.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new uA(c,i,r,o);this.mutationQueue.push(f);for(const y of o)this.Jr=this.Jr.add(new nn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?lp:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(f=>{const y=this.Zr(f.Hr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new $t(qe);return i.forEach((o=>{const c=new nn(o,0),f=new nn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(y=>{r=r.add(y.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const f=new nn(new ye(c),0);let y=new $t(qe);return this.Jr.forEachWhile((b=>{const _=b.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(b.Hr)),!0)}),f),Z.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){tt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(o=>{const c=new nn(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new nn(i,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class XA{constructor(e){this.ti=e,this.docs=(function(){return new wt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,f=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(i))}getEntries(e,i){let r=Us();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():bn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Us();const f=i.path,y=new ye(f.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(y);for(;b.hasNext();){const{key:_,value:{document:x}}=b.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||Tw(Ew(x),r)<=0||(o.has(x.key)||Bh(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Ee(9500)}ni(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new $A(this)}getSize(e){return Z.resolve(this.size)}}class $A extends qA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class JA{constructor(e){this.persistence=e,this.ri=new jr((i=>cp(i)),hp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new gp,this.targetCount=0,this.oi=Fl._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Fl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.ri.forEach(((f,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class v1{constructor(e,i){this._i={},this.overlays={},this.ai=new Vh(0),this.ui=!1,this.ui=!0,this.ci=new QA,this.referenceDelegate=e(this),this.li=new JA(this),this.indexManager=new jA,this.remoteDocumentCache=(function(o){return new XA(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new MA(i),this.Pi=new GA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new YA(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const o=new ZA(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class ZA extends ww{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new gp,this.Ai=null}static Vi(e){return new yp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=ye.fromPath(r);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class xh{constructor(e,i){this.persistence=e,this.fi=new jr((r=>Nw(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=BA(this,i)}static Vi(e,i){return new xh(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,i).next((y=>{y||(r++,c.removeEntry(f,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=sh(e.data.value)),i}wr(e,i,r){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _p{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=He(),o=He();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new _p(e,i.fromCache,r,o)}}class WA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qx()?8:Aw(En())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.gs(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,i,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new WA;return this.ys(e,i,f).next((y=>{if(c.result=y,this.As)return this.ws(e,i,f,y.size)}))})).next((()=>c.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Cl()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Rl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Cl()<=Be.DEBUG&&ce("QueryEngine","Query:",Rl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Cl()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Rl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(i))):Z.resolve())}gs(e,i){if(J_(i))return Z.resolve(null);let r=ss(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Pm(i,null,"F"),r=ss(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=He(...c);return this.fs.getDocuments(e,f).next((y=>this.indexManager.getMinOffset(e,r).next((b=>{const _=this.bs(i,y);return this.Ss(i,_,f,b.readTime)?this.gs(e,Pm(i,null,"F")):this.Ds(e,_,i,b)}))))})))))}ps(e,i,r,o){return J_(i)||o.isEqual(Se.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((c=>{const f=this.bs(i,c);return this.Ss(i,f,r,o)?Z.resolve(null):(Cl()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rl(i)),this.Ds(e,f,i,bw(o,ou)).next((y=>y)))}))}bs(e,i){let r=new $t(Xb(e));return i.forEach(((o,c)=>{Bh(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,r){return Cl()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Rl(i)),this.fs.getDocumentsMatchingQuery(e,i,La.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const vp="LocalStore",tS=3e8;class nS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new wt(qe),this.Fs=new jr((c=>cp(c)),hp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function iS(s,e,i,r){return new nS(s,e,i,r)}async function b1(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],y=[];let b=He();for(const _ of o){f.push(_.batchId);for(const x of _.mutations)b=b.add(x.key)}for(const _ of c){y.push(_.batchId);for(const x of _.mutations)b=b.add(x.key)}return i.localDocuments.getDocuments(r,b).next((_=>({Ns:_,removedBatchIds:f,addedBatchIds:y})))}))}))}function sS(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,b,_,x){const A=_.batch,D=A.keys();let Y=Z.resolve();return D.forEach((te=>{Y=Y.next((()=>x.getEntry(b,te))).next((le=>{const se=_.docVersions.get(te);tt(se!==null,48541),le.version.compareTo(se)<0&&(A.applyToRemoteDocument(le,_),le.isValidDocument()&&(le.setReadTime(_.commitVersion),x.addEntry(le)))}))})),Y.next((()=>y.mutationQueue.removeMutationBatch(b,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let b=He();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(b=b.add(y.batch.mutations[_].key));return b})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function E1(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function aS(s,e){const i=Ce(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((x,A)=>{const D=o.get(A);if(!D)return;y.push(i.li.removeMatchingKeys(c,x.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,x.addedDocuments,A))));let Y=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Y=Y.withResumeToken(mn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):x.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(x.resumeToken,r)),o=o.insert(A,Y),(function(le,se,de){return le.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-le.snapshotVersion.toMicroseconds()>=tS?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(D,Y,x)&&y.push(i.li.updateTargetData(c,Y))}));let b=Us(),_=He();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),y.push(rS(c,f,e.documentUpdates).next((x=>{b=x.Bs,_=x.Ls}))),!r.isEqual(Se.min())){const x=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(x)}return Z.waitFor(y).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,b,_))).next((()=>b))})).then((c=>(i.vs=o,c)))}function rS(s,e,i){let r=He(),o=He();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let f=Us();return i.forEach(((y,b)=>{const _=c.get(y);b.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),b.isNoDocument()&&b.version.isEqual(Se.min())?(e.removeEntry(y,b.readTime),f=f.insert(y,b)):!_.isValidDocument()||b.version.compareTo(_.version)>0||b.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(b),f=f.insert(y,b)):ce(vp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",b.version)})),{Bs:f,Ls:o}}))}function lS(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=lp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oS(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):i.li.allocateTargetId(r).next((f=>(o=new Da(e,f,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Gm(s,e,i){const r=Ce(s),o=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Jl(f))throw f;ce(vp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function cv(s,e,i){const r=Ce(s);let o=Se.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(b,_,x){const A=Ce(b),D=A.Fs.get(x);return D!==void 0?Z.resolve(A.vs.get(D)):A.li.getTargetData(_,x)})(r,f,ss(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,y.targetId).next((b=>{c=b}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,i?o:Se.min(),i?c:He()))).next((y=>(uS(r,Yw(e),y),{documents:y,ks:c})))))}function uS(s,e,i){let r=s.Ms.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class hv{constructor(){this.activeTargetIds=eA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cS{constructor(){this.vo=new hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hS{Mo(e){}shutdown(){}}const dv="ConnectivityMonitor";class fv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(dv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xc=null;function Km(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}const fm="RestConnection",dS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,c){const f=Km(),y=this.Qo(e,i.toUriEncodedString());ce(fm,`Sending RPC '${e}' ${f}:`,y,r);const b={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(b,o,c);const{host:_}=new URL(y),x=Ql(_);return this.zo(e,y,b,r,x).then((A=>(ce(fm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw kr(fm,`RPC '${e}' ${f} failed with error: `,A,"url: ",y,"request:",r),A}))}jo(e,i,r,o,c,f){return this.Wo(e,i,r,o,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const r=dS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class mS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const _n="WebChannelConnection",Yo=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ol extends fS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ol.c_){const e=Ab();Yo(e,wb.STAT_EVENT,(i=>{i.stat===Mm.PROXY?ce(_n,"STAT_EVENT: detected buffering proxy"):i.stat===Mm.NOPROXY&&ce(_n,"STAT_EVENT: detected no buffering proxy")})),Ol.c_=!0}}zo(e,i,r,o,c){const f=Km();return new Promise(((y,b)=>{const _=new Tb;_.setWithCredentials(!0),_.listenOnce(xb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case ih.NO_ERROR:const A=_.getResponseJson();ce(_n,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),y(A);break;case ih.TIMEOUT:ce(_n,`RPC '${e}' ${f} timed out`),b(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const D=_.getStatus();if(ce(_n,`RPC '${e}' ${f} failed with status:`,D,"response text:",_.getResponseText()),D>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const te=Y?.error;if(te&&te.status&&te.message){const le=(function(de){const _e=de.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_e)>=0?_e:$.UNKNOWN})(te.status);b(new oe(le,te.message))}else b(new oe($.UNKNOWN,"Server responded with status "+_.getStatus()))}else b(new oe($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(_n,`RPC '${e}' ${f} completed.`)}}));const x=JSON.stringify(o);ce(_n,`RPC '${e}' ${f} sending request:`,o),_.send(i,"POST",x,r,15)}))}T_(e,i,r){const o=Km(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const _=c.join("");ce(_n,`Creating RPC '${e}' stream ${o}: ${_}`,y);const x=f.createWebChannel(_,y);this.I_(x);let A=!1,D=!1;const Y=new mS({Ho:te=>{D?ce(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,te):(A||(ce(_n,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),ce(_n,`RPC '${e}' stream ${o} sending:`,te),x.send(te))},Jo:()=>x.close()});return Yo(x,Jo.EventType.OPEN,(()=>{D||(ce(_n,`RPC '${e}' stream ${o} transport opened.`),Y.i_())})),Yo(x,Jo.EventType.CLOSE,(()=>{D||(D=!0,ce(_n,`RPC '${e}' stream ${o} transport closed`),Y.o_(),this.E_(x))})),Yo(x,Jo.EventType.ERROR,(te=>{D||(D=!0,kr(_n,`RPC '${e}' stream ${o} transport errored. Name:`,te.name,"Message:",te.message),Y.o_(new oe($.UNAVAILABLE,"The operation could not be completed")))})),Yo(x,Jo.EventType.MESSAGE,(te=>{if(!D){const le=te.data[0];tt(!!le,16349);const se=le,de=se?.error||se[0]?.error;if(de){ce(_n,`RPC '${e}' stream ${o} received error:`,de);const _e=de.status;let xe=(function(Oe){const R=Ft[Oe];if(R!==void 0)return l1(R)})(_e),we=de.message;_e==="NOT_FOUND"&&we.includes("database")&&we.includes("does not exist")&&we.includes(this.databaseId.database)&&kr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),xe===void 0&&(xe=$.INTERNAL,we="Unknown error status: "+_e+" with message "+de.message),D=!0,Y.o_(new oe(xe,we)),x.close()}else ce(_n,`RPC '${e}' stream ${o} received:`,le),Y.__(le)}})),Ol.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Sb()}}function pS(s){return new Ol(s)}function mm(){return typeof document<"u"?document:null}function Kh(s){return new vA(s,!0)}Ol.c_=!1;class T1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const mv="PersistentStream";class x1{constructor(e,i,r,o,c,f,y,b){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(zs(i.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ce(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gS extends x1{constructor(e,i,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=TA(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?as(f.readTime):Se.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Fm(this.serializer),i.addTarget=(function(c,f){let y;const b=f.target;if(y=Um(b)?{documents:AA(c,b)}:{query:SA(c,b).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=c1(c,f.resumeToken);const _=Bm(c,f.expectedCount);_!==null&&(y.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){y.readTime=Th(c,f.snapshotVersion.toTimestamp());const _=Bm(c,f.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=CA(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Fm(this.serializer),i.removeTarget=e,this.K_(i)}}class yS extends x1{constructor(e,i,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=wA(e.writeResults,e.commitTime),r=as(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Fm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>xA(this.serializer,r)))};this.K_(i)}}class _S{}class vS extends _S{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,qm(i,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe($.UNKNOWN,c.toString())}))}jo(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.jo(e,qm(i,r),o,f,y,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function bS(s,e,i,r){return new vS(s,e,i,r)}class ES{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Mr="RemoteStore";class TS{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{Vr(this)&&(ce(Mr,"Restarting streams for network reachability change."),await(async function(b){const _=Ce(b);_.Ea.add(4),await Eu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Qh(_)})(this))}))})),this.Va=new ES(r,o)}}async function Qh(s){if(Vr(s))for(const e of s.Ra)await e(!0)}async function Eu(s){for(const e of s.Ra)await e(!1)}function w1(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xp(i)?Tp(i):Zl(i).O_()&&Ep(i,e))}function bp(s,e){const i=Ce(s),r=Zl(i);i.Ia.delete(e),r.O_()&&A1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Vr(i)&&i.Va.set("Unknown"))}function Ep(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zl(s).Z_(e)}function A1(s,e){s.da.$e(e),Zl(s).X_(e)}function Tp(s){s.da=new pA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Zl(s).start(),s.Va.ua()}function xp(s){return Vr(s)&&!Zl(s).x_()&&s.Ia.size>0}function Vr(s){return Ce(s).Ea.size===0}function S1(s){s.da=void 0}async function xS(s){s.Va.set("Online")}async function wS(s){s.Ia.forEach(((e,i)=>{Ep(s,e)}))}async function AS(s,e){S1(s),xp(s)?(s.Va.ha(e),Tp(s)):s.Va.set("Unknown")}async function SS(s,e,i){if(s.Va.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,f),o.Ia.delete(y),o.da.removeTarget(y))})(s,e)}catch(r){ce(Mr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof lh?s.da.Xe(e):e instanceof o1?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const r=await E1(s.localStore);i.compareTo(r)>=0&&await(function(c,f){const y=c.da.Tt(f);return y.targetChanges.forEach(((b,_)=>{if(b.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(b.resumeToken,f))}})),y.targetMismatches.forEach(((b,_)=>{const x=c.Ia.get(b);if(!x)return;c.Ia.set(b,x.withResumeToken(mn.EMPTY_BYTE_STRING,x.snapshotVersion)),A1(c,b);const A=new Da(x.target,b,_,x.sequenceNumber);Ep(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){ce(Mr,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,i){if(!Jl(e))throw e;s.Ea.add(1),await Eu(s),s.Va.set("Offline"),i||(i=()=>E1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(Mr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Qh(s)}))}function N1(s,e){return e().catch((i=>wh(s,i,e)))}async function Yh(s){const e=Ce(s),i=Ha(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lp;for(;NS(e);)try{const o=await lS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,CS(e,o)}catch(o){await wh(e,o)}C1(e)&&R1(e)}function NS(s){return Vr(s)&&s.Ta.length<10}function CS(s,e){s.Ta.push(e);const i=Ha(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function C1(s){return Vr(s)&&!Ha(s).x_()&&s.Ta.length>0}function R1(s){Ha(s).start()}async function RS(s){Ha(s).ra()}async function IS(s){const e=Ha(s);for(const i of s.Ta)e.ea(i.mutations)}async function DS(s,e,i){const r=s.Ta.shift(),o=fp.from(r,e,i);await N1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Yh(s)}async function kS(s,e){e&&Ha(s).Y_&&await(async function(r,o){if((function(f){return dA(f)&&f!==$.ABORTED})(o.code)){const c=r.Ta.shift();Ha(r).B_(),await N1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Yh(r)}})(s,e),C1(s)&&R1(s)}async function pv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ce(Mr,"RemoteStore received new credentials");const r=Vr(i);i.Ea.add(3),await Eu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Qh(i)}async function MS(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Qh(i)):e||(i.Ea.add(2),await Eu(i),i.Va.set("Unknown"))}function Zl(s){return s.ma||(s.ma=(function(i,r,o){const c=Ce(i);return c.sa(),new gS(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:xS.bind(null,s),Yo:wS.bind(null,s),t_:AS.bind(null,s),J_:SS.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),xp(s)?Tp(s):s.Va.set("Unknown")):(await s.ma.stop(),S1(s))}))),s.ma}function Ha(s){return s.fa||(s.fa=(function(i,r,o){const c=Ce(i);return c.sa(),new yS(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:RS.bind(null,s),t_:kS.bind(null,s),ta:IS.bind(null,s),na:DS.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Yh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(Mr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class wp{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const f=Date.now()+r,y=new wp(e,i,f,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(s,e){if(zs("AsyncQueue",`${e}: ${s}`),Jl(s))return new oe($.UNAVAILABLE,`${e}: ${s}`);throw s}class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ye.comparator(i.key,r.key):(i,r)=>ye.comparator(i.key,r.key),this.keyedMap=Zo(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class gv{constructor(){this.ga=new wt(ye.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Gl{constructor(e,i,r,o,c,f,y,b,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=b,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,c){const f=[];return i.forEach((y=>{f.push({type:0,doc:y})})),new Gl(e,i,jl.emptySet(i),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class OS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jS{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ce(i),c=o.queries;o.queries=yv(),c.forEach(((f,y)=>{for(const b of y.ba)b.onError(r)}))})(this,new oe($.ABORTED,"Firestore shutting down"))}}function yv(){return new jr((s=>Yb(s)),Ph)}async function Sp(s,e){const i=Ce(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new OS,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const y=Ap(f,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Cp(i)}async function Np(s,e){const i=Ce(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function VS(s,e){const i=Ce(s);let r=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const y of f.ba)y.Fa(o)&&(r=!0);f.wa=o}}r&&Cp(i)}function zS(s,e,i){const r=Ce(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(i);r.queries.delete(e)}function Cp(s){s.Ca.forEach((e=>{e.next()}))}var Qm,_v;(_v=Qm||(Qm={})).Ma="default",_v.Cache="cache";class Rp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class I1{constructor(e){this.key=e}}class D1{constructor(e){this.key=e}}class US{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=Xb(e),this.tu=new jl(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new gv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,y=!1;const b=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,A)=>{const D=o.get(x),Y=Bh(this.query,A)?A:null,te=!!D&&this.mutatedKeys.has(D.key),le=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let se=!1;D&&Y?D.data.isEqual(Y.data)?te!==le&&(r.track({type:3,doc:Y}),se=!0):this.su(D,Y)||(r.track({type:2,doc:Y}),se=!0,(b&&this.eu(Y,b)>0||_&&this.eu(Y,_)<0)&&(y=!0)):!D&&Y?(r.track({type:0,doc:Y}),se=!0):D&&!Y&&(r.track({type:1,doc:D}),se=!0,(b||_)&&(y=!0)),se&&(Y?(f=f.add(Y),c=le?c.add(x):c.delete(x)):(f=f.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const x=this.query.limitType==="F"?f.last():f.first();f=f.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:f,iu:r,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((x,A)=>(function(Y,te){const le=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:se})}};return le(Y)-le(te)})(x.type,A.type)||this.eu(x.doc,A.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],b=this.Ya.size===0&&this.current&&!o?1:0,_=b!==this.Xa;return this.Xa=b,f.length!==0||_?{snapshot:new Gl(this.query,e.tu,c,f,e.mutatedKeys,b===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new D1(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new I1(r))})),i}cu(e){this.Za=e.ks,this.Ya=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ip="SyncEngine";class LS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class PS{constructor(e){this.key=e,this.hu=!1}}class BS{constructor(e,i,r,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new jr((y=>Yb(y)),Ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(ye.comparator),this.Au=new Map,this.Vu=new gp,this.du={},this.mu=new Map,this.fu=Fl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qS(s,e,i=!0){const r=z1(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await k1(r,e,i,!0),o}async function HS(s,e){const i=z1(s);await k1(i,e,!0,!1)}async function k1(s,e,i,r){const o=await oS(s.localStore,ss(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,i);let y;return r&&(y=await FS(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&i&&w1(s.remoteStore,o),y}async function FS(s,e,i,r,o){s.pu=(A,D,Y)=>(async function(le,se,de,_e){let xe=se.view.ru(de);xe.Ss&&(xe=await cv(le.localStore,se.query,!1).then((({documents:R})=>se.view.ru(R,xe))));const we=_e&&_e.targetChanges.get(se.targetId),ft=_e&&_e.targetMismatches.get(se.targetId)!=null,Oe=se.view.applyChanges(xe,le.isPrimaryClient,we,ft);return bv(le,se.targetId,Oe.au),Oe.snapshot})(s,A,D,Y);const c=await cv(s.localStore,e,!0),f=new US(e,c.ks),y=f.ru(c.documents),b=bu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=f.applyChanges(y,s.isPrimaryClient,b);bv(s,i,_.au);const x=new LS(e,i,f);return s.Tu.set(e,x),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function GS(s,e,i){const r=Ce(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!Ph(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&bp(r.remoteStore,o.targetId),Ym(r,o.targetId)})).catch($l)):(Ym(r,o.targetId),await Gm(r.localStore,o.targetId,!0))}async function KS(s,e){const i=Ce(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),bp(i.remoteStore,r.targetId))}async function QS(s,e,i){const r=eN(s);try{const o=await(function(f,y){const b=Ce(f),_=_t.now(),x=y.reduce(((Y,te)=>Y.add(te.key)),He());let A,D;return b.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let te=Us(),le=He();return b.xs.getEntries(Y,x).next((se=>{te=se,te.forEach(((de,_e)=>{_e.isValidDocument()||(le=le.add(de))}))})).next((()=>b.localDocuments.getOverlayedDocuments(Y,te))).next((se=>{A=se;const de=[];for(const _e of y){const xe=lA(_e,A.get(_e.key).overlayedDocument);xe!=null&&de.push(new Qa(_e.key,xe,Pb(xe.value.mapValue),Hn.exists(!0)))}return b.mutationQueue.addMutationBatch(Y,_,de,y)})).next((se=>{D=se;const de=se.applyToLocalDocumentSet(A,le);return b.documentOverlayCache.saveOverlays(Y,se.batchId,de)}))})).then((()=>({batchId:D.batchId,changes:Jb(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,y,b){let _=f.du[f.currentUser.toKey()];_||(_=new wt(qe)),_=_.insert(y,b),f.du[f.currentUser.toKey()]=_})(r,o.batchId,i),await Tu(r,o.changes),await Yh(r.remoteStore)}catch(o){const c=Ap(o,"Failed to persist write");i.reject(c)}}async function M1(s,e){const i=Ce(s);try{const r=await aS(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?tt(f.hu,14607):o.removedDocuments.size>0&&(tt(f.hu,42227),f.hu=!1))})),await Tu(i,r,e)}catch(r){await $l(r)}}function vv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,f)=>{const y=f.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(f,y){const b=Ce(f);b.onlineState=y;let _=!1;b.queries.forEach(((x,A)=>{for(const D of A.ba)D.va(y)&&(_=!0)})),_&&Cp(b)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YS(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new wt(ye.comparator);f=f.insert(c,bn.newNoDocument(c,Se.min()));const y=He().add(c),b=new Gh(Se.min(),new Map,new wt(qe),f,y);await M1(r,b),r.Ru=r.Ru.remove(c),r.Au.delete(e),Dp(r)}else await Gm(r.localStore,e,!1).then((()=>Ym(r,e,i))).catch($l)}async function XS(s,e){const i=Ce(s),r=e.batch.batchId;try{const o=await sS(i.localStore,e);j1(i,r,null),O1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(i,o)}catch(o){await $l(o)}}async function $S(s,e,i){const r=Ce(s);try{const o=await(function(f,y){const b=Ce(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return b.mutationQueue.lookupMutationBatch(_,y).next((A=>(tt(A!==null,37113),x=A.keys(),b.mutationQueue.removeMutationBatch(_,A)))).next((()=>b.mutationQueue.performConsistencyCheck(_))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(_,x,y))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>b.localDocuments.getDocuments(_,x)))}))})(r.localStore,e);j1(r,e,i),O1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Tu(r,o)}catch(o){await $l(o)}}function O1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function j1(s,e,i){const r=Ce(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Ym(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||V1(s,r)}))}function V1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(bp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Dp(s))}function bv(s,e,i){for(const r of i)r instanceof I1?(s.Vu.addReference(r.key,e),JS(s,r)):r instanceof D1?(ce(Ip,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||V1(s,r.key)):Ee(19791,{wu:r})}function JS(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ce(Ip,"New document in limbo: "+i),s.Eu.add(r),Dp(s))}function Dp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new PS(i)),s.Ru=s.Ru.insert(i,r),w1(s.remoteStore,new Da(ss(Lh(i.path)),r,"TargetPurposeLimboResolution",Vh.ce))}}async function Tu(s,e,i){const r=Ce(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,b)=>{f.push(r.pu(b,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const x=_?!_.fromCache:i?.targetChanges.get(b.targetId)?.current;r.sharedClientState.updateQueryState(b.targetId,x?"current":"not-current")}if(_){o.push(_);const x=_p.Es(b.targetId,_);c.push(x)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(b,_){const x=Ce(b);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(D=>Z.forEach(D.Ts,(Y=>x.persistence.referenceDelegate.addReference(A,D.targetId,Y))).next((()=>Z.forEach(D.Is,(Y=>x.persistence.referenceDelegate.removeReference(A,D.targetId,Y)))))))))}catch(A){if(!Jl(A))throw A;ce(vp,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const Y=x.vs.get(D),te=Y.snapshotVersion,le=Y.withLastLimboFreeSnapshotVersion(te);x.vs=x.vs.insert(D,le)}}})(r.localStore,c))}async function ZS(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ce(Ip,"User change. New user:",e.toKey());const r=await b1(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((y=>{y.forEach((b=>{b.reject(new oe($.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(i,r.Ns)}}function WS(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let o=He();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const y=i.Tu.get(f);o=o.unionWith(y.view.nu)}return o}}function z1(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YS.bind(null,e),e.Pu.J_=VS.bind(null,e.eventManager),e.Pu.yu=zS.bind(null,e.eventManager),e}function eN(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$S.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return iS(this.persistence,new eS,e.initialUser,this.serializer)}Cu(e){return new v1(yp.Vi,this.serializer)}Du(e){return new cS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class tN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LA(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new v1((r=>xh.Vi(r,i)),this.serializer)}}class Xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZS.bind(null,this.syncEngine),await MS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jS})()}createDatastore(e){const i=Kh(e.databaseInfo.databaseId),r=pS(e.databaseInfo);return bS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,f,y){return new TS(r,o,c,f,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return fv.v()?new fv:new hS})())}createSyncEngine(e,i){return(function(o,c,f,y,b,_,x){const A=new BS(o,c,f,y,b,_);return x&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);ce(Mr,"RemoteStore shutting down."),r.Ea.add(5),await Eu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};class kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Fa="FirestoreClient";class nN{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{ce(Fa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ce(Fa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ap(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function pm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Fa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await b1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Ev(s,e){s.asyncQueue.verifyOperationInProgress();const i=await iN(s);ce(Fa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>pv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>pv(e.remoteStore,o))),s._onlineComponents=e}async function iN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Fa,"Using user provided OfflineComponentProvider");try{await pm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;kr("Error using user provided cache. Falling back to memory cache: "+i),await pm(s,new Ah)}}else ce(Fa,"Using default OfflineComponentProvider"),await pm(s,new tN(void 0));return s._offlineComponents}async function U1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Fa,"Using user provided OnlineComponentProvider"),await Ev(s,s._uninitializedComponentsProvider._online)):(ce(Fa,"Using default OnlineComponentProvider"),await Ev(s,new Xm))),s._onlineComponents}function sN(s){return U1(s).then((e=>e.syncEngine))}async function Sh(s){const e=await U1(s),i=e.eventManager;return i.onListen=qS.bind(null,e.syncEngine),i.onUnlisten=GS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=HS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KS.bind(null,e.syncEngine),i}function aN(s,e,i,r){const o=new kp(r),c=new Rp(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>Sp(await Sh(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Np(await Sh(s),c)))}}function rN(s,e,i={}){const r=new js;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,b,_){const x=new kp({next:D=>{x.Nu(),f.enqueueAndForget((()=>Np(c,A)));const Y=D.docs.has(y);!Y&&D.fromCache?_.reject(new oe($.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&D.fromCache&&b&&b.source==="server"?_.reject(new oe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new Rp(Lh(y.path),x,{includeMetadataChanges:!0,Ka:!0});return Sp(c,A)})(await Sh(s),s.asyncQueue,e,i,r))),r.promise}function lN(s,e,i={}){const r=new js;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,b,_){const x=new kp({next:D=>{x.Nu(),f.enqueueAndForget((()=>Np(c,A))),D.fromCache&&b.source==="server"?_.reject(new oe($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new Rp(y,x,{includeMetadataChanges:!0,Ka:!0});return Sp(c,A)})(await Sh(s),s.asyncQueue,e,i,r))),r.promise}function oN(s,e){const i=new js;return s.asyncQueue.enqueueAndForget((async()=>QS(await sN(s),e,i))),i.promise}function L1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const uN="ComponentProvider",Tv=new Map;function cN(s,e,i,r,o){return new Iw(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,L1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const P1="firestore.googleapis.com",xv=!0;class wv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P1,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zA)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uw;switch(r.type){case"firstParty":return new fw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Tv.get(i);r&&(ce(uN,"Removing Datastore"),Tv.delete(i),r.terminate())})(this),Promise.resolve()}}function hN(s,e,i,r={}){s=si(s,Xh);const o=Ql(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(fb(`https://${y}`),mb("Firestore",!0)),c.host!==P1&&c.host!==y&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...c,host:y,ssl:o,emulatorOptions:r};if(!Ua(b,f)&&(s._setSettings(b),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=vn.MOCK_USER;else{_=Mx(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new vn(A)}s._authCredentials=new cw(new Cb(_,x))}}class zr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class Vt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(yu(i,Vt._jsonSchema))return new Vt(e,r||null,new ye(dt.fromString(i.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Kt("string",Vt._jsonSchemaVersion),referencePath:Kt("string")};class Va extends zr{constructor(e,i,r){super(e,i,Lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ye(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Ln(s,e,...i){if(s=Jt(s),Rb("collection","path",e),s instanceof Xh){const r=dt.fromString(e,...i);return z_(r),new Va(s,null,r)}{if(!(s instanceof Vt||s instanceof Va))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return z_(r),new Va(s.firestore,null,r)}}function kl(s,e,...i){if(s=Jt(s),arguments.length===1&&(e=rp.newId()),Rb("doc","path",e),s instanceof Xh){const r=dt.fromString(e,...i);return V_(r),new Vt(s,null,new ye(r))}{if(!(s instanceof Vt||s instanceof Va))throw new oe($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return V_(r),new Vt(s.firestore,s instanceof Va?s.converter:null,new ye(r))}}const Av="AsyncQueue";class Sv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&ce(Av,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=mm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=mm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;ce(Av,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",Nv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=wp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Nv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ls extends Xh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Sv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sv(e),this._firestoreClient=void 0,await e}}}function dN(s,e){const i=typeof s=="object"?s:_b(),r=typeof s=="string"?s:yh,o=sp(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Dx("firestore");c&&hN(o,...c)}return o}function xu(s){if(s._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fN(s),s._firestoreClient}function fN(s){const e=s._freezeSettings(),i=cN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new nN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ai(mn.fromBase64String(e))}catch(i){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ai(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Ai._jsonSchema))return Ai.fromBase64String(e.bytes)}}Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:Kt("string",Ai._jsonSchemaVersion),bytes:Kt("string")};class $h{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wu{constructor(e){this._methodName=e}}class rs{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rs._jsonSchemaVersion}}static fromJSON(e){if(yu(e,rs._jsonSchema))return new rs(e.latitude,e.longitude)}}rs._jsonSchemaVersion="firestore/geoPoint/1.0",rs._jsonSchema={type:Kt("string",rs._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class Pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Pi(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Kt("string",Pi._jsonSchemaVersion),vectorValues:Kt("object")};const mN=/^__.*__$/;class pN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Qa(e,this.data,this.fieldMask,i,this.fieldTransforms):new vu(e,this.data,i,this.fieldTransforms)}}class B1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Qa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function q1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Jh{constructor(e,i,r,o,c,f){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(q1(this.dataSource)&&mN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Kh(e)}createContext(e,i,r,o=!1){return new Jh({dataSource:e,methodName:i,targetDoc:r,path:fn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(s){const e=s._freezeSettings(),i=Kh(s._databaseId);return new gN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function H1(s,e,i,r,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);jp("Data must be an object, but it was:",f,r);const y=K1(r,f);let b,_;if(c.merge)b=new ii(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const x=[];for(const A of c.mergeFields){const D=Kl(e,A,i);if(!f.contains(D))throw new oe($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);X1(x,D)||x.push(D)}b=new ii(x),_=f.fieldTransforms.filter((A=>b.covers(A.field)))}else b=null,_=f.fieldTransforms;return new pN(new qn(y),b,_)}class Wh extends wu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function yN(s,e,i){return new Jh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mp extends wu{_toFieldTransform(e){return new s1(e.path,new du)}isEqual(e){return e instanceof Mp}}class Op extends wu{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=yN(this,e,!0),r=this.Ac.map((c=>Wl(c,i))),o=new Hl(r);return new s1(e.path,o)}isEqual(e){return e instanceof Op&&Ua(this.Ac,e.Ac)}}function F1(s,e,i,r){const o=s.createContext(1,e,i);jp("Data must be an object, but it was:",o,r);const c=[],f=qn.empty();Ka(r,((b,_)=>{const x=Y1(e,b,i);_=Jt(_);const A=o.childContextForFieldPath(x);if(_ instanceof Wh)c.push(x);else{const D=Wl(_,A);D!=null&&(c.push(x),f.set(x,D))}}));const y=new ii(c);return new B1(f,y,o.fieldTransforms)}function G1(s,e,i,r,o,c){const f=s.createContext(1,e,i),y=[Kl(e,r,i)],b=[o];if(c.length%2!=0)throw new oe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)y.push(Kl(e,c[D])),b.push(c[D+1]);const _=[],x=qn.empty();for(let D=y.length-1;D>=0;--D)if(!X1(_,y[D])){const Y=y[D];let te=b[D];te=Jt(te);const le=f.childContextForFieldPath(Y);if(te instanceof Wh)_.push(Y);else{const se=Wl(te,le);se!=null&&(_.push(Y),x.set(Y,se))}}const A=new ii(_);return new B1(x,A,f.fieldTransforms)}function _N(s,e,i,r=!1){return Wl(i,s.createContext(r?4:3,e))}function Wl(s,e){if(Q1(s=Jt(s)))return jp("Unsupported field value:",e,s),K1(s,e);if(s instanceof wu)return(function(r,o){if(!q1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const y of r){let b=Wl(y,o.childContextForArray(f));b==null&&(b={nullValue:"NULL_VALUE"}),c.push(b),f++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=_t.fromDate(r);return{timestampValue:Th(o.serializer,c)}}if(r instanceof _t){const c=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(o.serializer,c)}}if(r instanceof rs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ai)return{bytesValue:c1(o.serializer,r._byteString)};if(r instanceof Vt){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Pi)return(function(f,y){const b=f instanceof Pi?f.toArray():f;return{mapValue:{fields:{[Ub]:{stringValue:Lb},[_h]:{arrayValue:{values:b.map((x=>{if(typeof x!="number")throw y.createError("VectorValues must only contain numeric values.");return dp(y.serializer,x)}))}}}}}})(r,o);if(y1(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${jh(r)}`)})(s,e)}function K1(s,e){const i={};return kb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(s,((r,o)=>{const c=Wl(o,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function Q1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof rs||s instanceof Ai||s instanceof Vt||s instanceof wu||s instanceof Pi||y1(s))}function jp(s,e,i){if(!Q1(i)||!Ib(i)){const r=jh(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Kl(s,e,i){if((e=Jt(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Y1(s,e);throw Nh("Field path arguments must be of type string or ",s,!1,void 0,i)}const vN=new RegExp("[~\\*/\\[\\]]");function Y1(s,e,i){if(e.search(vN)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new $h(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Nh(s,e,i,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let b="";return(c||f)&&(b+=" (found",c&&(b+=` in field ${r}`),f&&(b+=` in document ${o}`),b+=")"),new oe($.INVALID_ARGUMENT,y+s+b)}function X1(s,e){return s.some((i=>i.isEqual(e)))}class bN{convertValue(e,i="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ka(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[_h].arrayValue?.values?.map((r=>jt(r.doubleValue)));return new Pi(i)}convertGeoPoint(e){return new rs(jt(e.latitude),jt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const i=Pa(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);tt(g1(r),9688,{name:e});const o=new cu(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return o.isEqual(i)||zs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Vp extends bN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,i)}}function gm(){return new Mp("serverTimestamp")}function Cv(...s){return new Op("arrayUnion",s)}const Rv="@firebase/firestore",Iv="4.11.0";function Dv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class $1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Kl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class EN extends $1{data(){return super.data()}}function J1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class TN extends zp{}function wi(s,e,...i){let r=[];e instanceof zp&&r.push(e),r=r.concat(i),(function(c){const f=c.filter((b=>b instanceof Up)).length,y=c.filter((b=>b instanceof ed)).length;if(f>1||f>0&&y>0)throw new oe($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class ed extends TN{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new ed(e,i,r)}_apply(e){const i=this._parse(e);return Z1(e._query,i),new zr(e.firestore,e.converter,Lm(e._query,i))}_parse(e){const i=Zh(e.firestore);return(function(c,f,y,b,_,x,A){let D;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new oe($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Mv(A,x);const te=[];for(const le of A)te.push(kv(b,c,le));D={arrayValue:{values:te}}}else D=kv(b,c,A)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Mv(A,x),D=_N(y,f,A,x==="in"||x==="not-in");return Gt.create(_,x,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Pn(s,e,i){const r=e,o=Kl("where",s);return ed._create(o,r,i)}class Up extends zp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Up(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Bi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let f=o;const y=c.getFlattenedFilters();for(const b of y)Z1(f,b),f=Lm(f,b)})(e._query,i),new zr(e.firestore,e.converter,Lm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kv(s,e,i){if(typeof(i=Jt(i))=="string"){if(i==="")throw new oe($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qb(e)&&i.indexOf("/")!==-1)throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(dt.fromString(i));if(!ye.isDocumentKey(r))throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G_(s,new ye(r))}if(i instanceof Vt)return G_(s,i._key);throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(i)}.`)}function Mv(s,e){if(!Array.isArray(s)||s.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z1(s,e){const i=(function(o,c){for(const f of o)for(const y of f.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function W1(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class eu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cr extends $1{constructor(e,i,r,o,c,f){super(e,i,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Kl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Cr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Cr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cr._jsonSchema={type:Kt("string",Cr._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class oh extends Cr{data(e={}){return super.data(e)}}class Rr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new oh(this._firestore,this._userDataWriter,r.key,r,new eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((y=>{const b=new oh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new eu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:b,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const b=new oh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new eu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return y.type!==0&&(_=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),x=f.indexOf(y.doc.key)),{type:xN(y.type),doc:b,oldIndex:_,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}Rr._jsonSchemaVersion="firestore/querySnapshot/1.0",Rr._jsonSchema={type:Kt("string",Rr._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class wN{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Zh(e)}set(e,i,r){this._verifyNotCommitted();const o=ym(e,this._firestore),c=W1(o.converter,i,r),f=H1(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,r);return this._mutations.push(f.toMutation(o._key,Hn.none())),this}update(e,i,r,...o){this._verifyNotCommitted();const c=ym(e,this._firestore);let f;return f=typeof(i=Jt(i))=="string"||i instanceof $h?G1(this._dataReader,"WriteBatch.update",c._key,i,r,o):F1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(f.toMutation(c._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=ym(e,this._firestore);return this._mutations=this._mutations.concat(new Fh(i._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ym(s,e){if((s=Jt(s)).firestore!==e)throw new oe($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function AN(s){s=si(s,Vt);const e=si(s.firestore,Ls),i=xu(e);return rN(i,s._key).then((r=>eE(e,s,r)))}function xl(s){s=si(s,zr);const e=si(s.firestore,Ls),i=xu(e),r=new Vp(e);return J1(s._query),lN(i,s._query).then((o=>new Rr(e,r,s,o)))}function _m(s,e,i,...r){s=si(s,Vt);const o=si(s.firestore,Ls),c=Zh(o);let f;return f=typeof(e=Jt(e))=="string"||e instanceof $h?G1(c,"updateDoc",s._key,e,i,r):F1(c,"updateDoc",s._key,e),td(o,[f.toMutation(s._key,Hn.exists(!0))])}function Ov(s){return td(si(s.firestore,Ls),[new Fh(s._key,Hn.none())])}function $c(s,e){const i=si(s.firestore,Ls),r=kl(s),o=W1(s.converter,e),c=Zh(s.firestore);return td(i,[H1(c,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then((()=>r))}function wl(s,...e){s=Jt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Dv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Dv(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,f,y;if(s instanceof Vt)f=si(s.firestore,Ls),y=Lh(s._key.path),c={next:_=>{e[r]&&e[r](eE(f,s,_))},error:e[r+1],complete:e[r+2]};else{const _=si(s,zr);f=si(_.firestore,Ls),y=_._query;const x=new Vp(f);c={next:A=>{e[r]&&e[r](new Rr(f,x,_,A))},error:e[r+1],complete:e[r+2]},J1(s._query)}const b=xu(f);return aN(b,y,o,c)}function td(s,e){const i=xu(s);return oN(i,e)}function eE(s,e,i){const r=i.docs.get(e._key),o=new Vp(s);return new Cr(s,o,e._key,r,new eu(i.hasPendingWrites,i.fromCache),e.converter)}function SN(s){return s=si(s,Ls),xu(s),new wN(s,(e=>td(s,e)))}(function(e,i=!0){ow(Yl),Ll(new Ir("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),y=new Ls(new hw(r.getProvider("auth-internal")),new mw(f,r.getProvider("app-check-internal")),Dw(f,o),f);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Oa(Rv,Iv,e),Oa(Rv,Iv,"esm2020")})();function tE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NN=tE,nE=new pu("auth","Firebase",tE());const Ch=new np("@firebase/auth");function CN(s,...e){Ch.logLevel<=Be.WARN&&Ch.warn(`Auth (${Yl}): ${s}`,...e)}function uh(s,...e){Ch.logLevel<=Be.ERROR&&Ch.error(`Auth (${Yl}): ${s}`,...e)}function Ps(s,...e){throw Lp(s,...e)}function ls(s,...e){return Lp(s,...e)}function iE(s,e,i){const r={...NN(),[e]:i};return new pu("auth","Firebase",r).create(e,{appName:s.name})}function za(s){return iE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return nE.create(s,...e)}function Ae(s,e,...i){if(!s)throw Lp(e,...i)}function Ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw uh(e),new Error(e)}function Bs(s,e){s||Ms(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function RN(){return jv()==="http:"||jv()==="https:"}function jv(){return typeof self<"u"&&self.location?.protocol||null}function IN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RN()||Lx()||"connection"in navigator)?navigator.onLine:!0}function DN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Au{constructor(e,i){this.shortDelay=e,this.longDelay=i,Bs(i>e,"Short delay should be less than long delay!"),this.isMobile=Vx()||Px()}get(){return IN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pp(s,e){Bs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class sE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ON=new Au(3e4,6e4);function nd(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function eo(s,e,i,r,o={}){return aE(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const y=gu({key:s.config.apiKey,...f}).slice(1),b=await s._getAdditionalHeaders();b["Content-Type"]="application/json",s.languageCode&&(b["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:b,...c};return Ux()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Ql(s.emulatorConfig.host)&&(_.credentials="include"),sE.fetch()(await lE(s,s.config.apiHost,i,y),_)})}async function aE(s,e,i){s._canInitEmulator=!1;const r={...kN,...e};try{const o=new jN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Jc(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const y=c.ok?f.errorMessage:f.error.message,[b,_]=y.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(s,"credential-already-in-use",f);if(b==="EMAIL_EXISTS")throw Jc(s,"email-already-in-use",f);if(b==="USER_DISABLED")throw Jc(s,"user-disabled",f);const x=r[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw iE(s,x,_);Ps(s,x)}}catch(o){if(o instanceof qs)throw o;Ps(s,"network-request-failed",{message:String(o)})}}async function rE(s,e,i,r,o={}){const c=await eo(s,e,i,r,o);return"mfaPendingCredential"in c&&Ps(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function lE(s,e,i,r){const o=`${e}${i}?${r}`,c=s,f=c.config.emulator?Pp(s.config,o):`${s.config.apiScheme}://${o}`;return MN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class jN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ls(this.auth,"network-request-failed")),ON.get())})}}function Jc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=ls(s,e,r);return o.customData._tokenResponse=i,o}async function VN(s,e){return eo(s,"POST","/v1/accounts:delete",e)}async function Rh(s,e){return eo(s,"POST","/v1/accounts:lookup",e)}function ru(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zN(s,e=!1){const i=Jt(s),r=await i.getIdToken(e),o=Bp(r);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:ru(vm(o.auth_time)),issuedAtTime:ru(vm(o.iat)),expirationTime:ru(vm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function vm(s){return Number(s)*1e3}function Bp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ub(i);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Vv(s){const e=Bp(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof qs&&UN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function UN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class LN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(s){const e=s.auth,i=await s.getIdToken(),r=await mu(s,Rh(e,{idToken:i}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?oE(o.providerUserInfo):[],f=BN(s.providerData,c),y=s.isAnonymous,b=!(s.email&&o.passwordHash)&&!f?.length,_=y?b:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,x)}async function PN(s){const e=Jt(s);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function oE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function qN(s,e){const i=await aE(s,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await lE(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:y,body:r};return s.emulatorConfig&&Ql(s.emulatorConfig.host)&&(b.credentials="include"),sE.fetch()(f,b)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HN(s,e){return eo(s,"POST","/v2/accounts:revokeToken",nd(s,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=Vv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await qN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,f=new Vl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Ms("not implemented")}}function Sa(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Li{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new LN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return zN(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await mu(this,VN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,f=i.photoURL??void 0,y=i.tenantId??void 0,b=i._redirectEventId??void 0,_=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:Y,providerData:te,stsTokenManager:le}=i;Ae(A&&le,e,"internal-error");const se=Vl.fromJSON(this.name,le);Ae(typeof A=="string",e,"internal-error"),Sa(r,e.name),Sa(o,e.name),Ae(typeof D=="boolean",e,"internal-error"),Ae(typeof Y=="boolean",e,"internal-error"),Sa(c,e.name),Sa(f,e.name),Sa(y,e.name),Sa(b,e.name),Sa(_,e.name),Sa(x,e.name);const de=new Li({uid:A,auth:e,email:o,emailVerified:D,displayName:r,isAnonymous:Y,photoURL:f,phoneNumber:c,tenantId:y,stsTokenManager:se,createdAt:_,lastLoginAt:x});return te&&Array.isArray(te)&&(de.providerData=te.map(_e=>({..._e}))),b&&(de._redirectEventId=b),de}static async _fromIdTokenResponse(e,i,r=!1){const o=new Vl;o.updateFromServerResponse(i);const c=new Li({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ih(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?oE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,y=new Vl;y.updateFromIdToken(r);const b=new Li({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(b,_),b}}const zv=new Map;function Os(s){Bs(s instanceof Function,"Expected a class definition");let e=zv.get(s);return e?(Bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,zv.set(s,e),e)}class uE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}uE.type="NONE";const Uv=uE;function ch(s,e,i){return`firebase:${s}:${e}:${i}`}class zl{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,c),this.fullPersistenceKey=ch("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Rh(this.auth,{idToken:e}).catch(()=>{});return i?Li._fromGetAccountInfoResponse(this.auth,i,e):null}return Li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new zl(Os(Uv),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Os(Uv);const f=ch(r,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const x=await _._get(f);if(x){let A;if(typeof x=="string"){const D=await Rh(e,{idToken:x}).catch(()=>{});if(!D)break;A=await Li._fromGetAccountInfoResponse(e,D,x)}else A=Li._fromJSON(e,x);_!==c&&(y=A),c=_;break}}catch{}const b=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!b.length?new zl(c,e,r):(c=b[0],y&&await c._set(f,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new zl(c,e,r))}}function Lv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pE(e))return"Blackberry";if(gE(e))return"Webos";if(hE(e))return"Safari";if((e.includes("chrome/")||dE(e))&&!e.includes("edge/"))return"Chrome";if(mE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function cE(s=En()){return/firefox\//i.test(s)}function hE(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dE(s=En()){return/crios\//i.test(s)}function fE(s=En()){return/iemobile/i.test(s)}function mE(s=En()){return/android/i.test(s)}function pE(s=En()){return/blackberry/i.test(s)}function gE(s=En()){return/webos/i.test(s)}function qp(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function FN(s=En()){return qp(s)&&!!window.navigator?.standalone}function GN(){return Bx()&&document.documentMode===10}function yE(s=En()){return qp(s)||mE(s)||gE(s)||pE(s)||/windows phone/i.test(s)||fE(s)}function _E(s,e=[]){let i;switch(s){case"Browser":i=Lv(En());break;case"Worker":i=`${Lv(En())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Yl}/${r}`}class KN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((f,y)=>{try{const b=e(c);f(b)}catch(b){y(b)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QN(s,e={}){return eo(s,"GET","/v2/passwordPolicy",nd(s,e))}const YN=6;class XN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??YN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $N{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new KN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Os(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Rh(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===f)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ui(this.app))return Promise.reject(za(this));const i=e?Jt(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ui(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QN(this),i=new XN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await HN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Os(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[Os(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(y,this,"internal-error"),y.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const b=e.addObserver(i,r,o);return()=>{f=!0,b()}}else{const b=e.addObserver(i);return()=>{f=!0,b()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function id(s){return Jt(s)}class Pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xx(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JN(s){Hp=s}function ZN(s){return Hp.loadJS(s)}function WN(){return Hp.gapiScript}function eC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function tC(s,e){const i=sp(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ua(c,e??{}))return o;Ps(o,"already-initialized")}return i.initialize({options:e})}function nC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Os);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function iC(s,e,i){const r=id(s);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=vE(e),{host:f,port:y}=sC(e),b=y===null?"":`:${y}`,_={url:`${c}//${f}${b}/`},x=Object.freeze({host:f,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Ua(_,r.config.emulator)&&Ua(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Ql(f)?(fb(`${c}//${f}${b}`),mb("Auth",!0)):aC()}function vE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function sC(s){const e=vE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Bv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Bv(f)}}}function Bv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function aC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class bE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,i){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}async function Ul(s,e){return rE(s,"POST","/v1/accounts:signInWithIdp",nd(s,e))}const rC="http://localhost";class Or extends bE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ps("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const f=new Or(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Ul(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ul(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ul(e,i)}buildRequest(){const e={requestUri:rC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=gu(i)}return e}}class EE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Su extends EE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Na extends Su{constructor(){super("facebook.com")}static credential(e){return Or._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.FACEBOOK_SIGN_IN_METHOD="facebook.com";Na.PROVIDER_ID="facebook.com";class Ca extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Or._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ca.credential(i,r)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";class Ra extends Su{constructor(){super("github.com")}static credential(e){return Or._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";class Ia extends Su{constructor(){super("twitter.com")}static credential(e,i){return Or._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ia.credential(i,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";async function lC(s,e){return rE(s,"POST","/v1/accounts:signUp",nd(s,e))}class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Li._fromIdTokenResponse(e,r,o),f=qv(r);return new Ga({user:c,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=qv(r);return new Ga({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function qv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function oC(s){if(Ui(s.app))return Promise.reject(za(s));const e=id(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ga({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await lC(e,{returnSecureToken:!0}),r=await Ga._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class Dh extends qs{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new Dh(e,i,r,o)}}function TE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(s,c,e,r):c})}async function uC(s,e,i=!1){const r=await mu(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ga._forOperation(s,"link",r)}async function cC(s,e,i=!1){const{auth:r}=s;if(Ui(r.app))return Promise.reject(za(r));const o="reauthenticate";try{const c=await mu(s,TE(r,o,e,s),i);Ae(c.idToken,r,"internal-error");const f=Bp(c.idToken);Ae(f,r,"internal-error");const{sub:y}=f;return Ae(s.uid===y,r,"user-mismatch"),Ga._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ps(r,"user-mismatch"),c}}async function hC(s,e,i=!1){if(Ui(s.app))return Promise.reject(za(s));const r="signIn",o=await TE(s,r,e),c=await Ga._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function dC(s,e,i,r){return Jt(s).onIdTokenChanged(e,i,r)}function fC(s,e,i){return Jt(s).beforeAuthStateChanged(e,i)}function mC(s,e,i,r){return Jt(s).onAuthStateChanged(e,i,r)}const kh="__sak";class xE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pC=1e3,gC=10;class wE extends xE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,y,b)=>{this.notifyListeners(f,b)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);GN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gC):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const yC=wE;class AE extends xE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}AE.type="SESSION";const SE=AE;function _C(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new sd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(f).map(async _=>_(i.origin,c)),b=await _C(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:b})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];function Fp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class vC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((y,b)=>{const _=Fp("",20);o.port1.start();const x=setTimeout(()=>{b(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(D.data.response);break;default:clearTimeout(x),clearTimeout(c),b(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function os(){return window}function bC(s){os().location.href=s}function NE(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function EC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TC(){return navigator?.serviceWorker?.controller||null}function xC(){return NE()?self:null}const CE="firebaseLocalStorageDb",wC=1,Mh="firebaseLocalStorage",RE="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ad(s,e){return s.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function AC(){const s=indexedDB.deleteDatabase(CE);return new Nu(s).toPromise()}function Zm(){const s=indexedDB.open(CE,wC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Mh,{keyPath:RE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await AC(),e(await Zm()))})})}async function Hv(s,e,i){const r=ad(s,!0).put({[RE]:e,value:i});return new Nu(r).toPromise()}async function SC(s,e){const i=ad(s,!1).get(e),r=await new Nu(i).toPromise();return r===void 0?null:r.value}function Fv(s,e){const i=ad(s,!0).delete(e);return new Nu(i).toPromise()}const NC=800,CC=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>CC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(xC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new vC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await Hv(e,kh,"1"),await Fv(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>SC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ad(o,!1).getAll();return new Nu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const RC=IE;new Au(3e4,6e4);function IC(s,e){return e?Os(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Gp extends bE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ul(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function DC(s){return hC(s.auth,new Gp(s),s.bypassAuthState)}function kC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),cC(i,new Gp(s),s.bypassAuthState)}async function MC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),uC(i,new Gp(s),s.bypassAuthState)}class DE{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:f,type:y}=e;if(f){this.reject(f);return}const b={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(b))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DC;case"linkViaPopup":case"linkViaRedirect":return MC;case"reauthViaPopup":case"reauthViaRedirect":return kC;default:Ps(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OC=new Au(2e3,1e4);class Ml extends DE{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Ml.currentPopupAction&&Ml.currentPopupAction.cancel(),Ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OC.get())};e()}}Ml.currentPopupAction=null;const jC="pendingRedirect",hh=new Map;class VC extends DE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await zC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zC(s,e){const i=PC(e),r=LC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function UC(s,e){hh.set(s._key(),e)}function LC(s){return Os(s._redirectPersistence)}function PC(s){return ch(jC,s.config.apiKey,s.name)}async function BC(s,e,i=!1){if(Ui(s.app))return Promise.reject(za(s));const r=id(s),o=IC(r,e),f=await new VC(r,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const qC=600*1e3;class HC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!kE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ls(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function kE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function FC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kE(s);default:return!1}}async function GC(s,e={}){return eo(s,"GET","/v1/projects",e)}const KC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QC=/^https?/;async function YC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await GC(s);for(const i of e)try{if(XC(i))return}catch{}Ps(s,"unauthorized-domain")}function XC(s){const e=$m(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!QC.test(i))return!1;if(KC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const $C=new Au(3e4,6e4);function Kv(){const s=os().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function JC(s){return new Promise((e,i)=>{function r(){Kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kv(),i(ls(s,"network-request-failed"))},timeout:$C.get()})}if(os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(os().gapi?.load)r();else{const o=eC("iframefcb");return os()[o]=()=>{gapi.load?r():i(ls(s,"network-request-failed"))},ZN(`${WN()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw dh=null,e})}let dh=null;function ZC(s){return dh=dh||JC(s),dh}const WC=new Au(5e3,15e3),eR="__/auth/iframe",tR="emulator/auth/iframe",nR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sR(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Pp(e,tR):`https://${s.config.authDomain}/${eR}`,r={apiKey:e.apiKey,appName:s.name,v:Yl},o=iR.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${gu(r).slice(1)}`}async function aR(s){const e=await ZC(s),i=os().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:sR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nR,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=ls(s,"network-request-failed"),y=os().setTimeout(()=>{c(f)},WC.get());function b(){os().clearTimeout(y),o(r)}r.ping(b).then(b,()=>{c(f)})}))}const rR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lR=500,oR=600,uR="_blank",cR="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hR(s,e,i,r=lR,o=oR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const b={...rR,width:r.toString(),height:o.toString(),top:c,left:f},_=En().toLowerCase();i&&(y=dE(_)?uR:i),cE(_)&&(e=e||cR,b.scrollbars="yes");const x=Object.entries(b).reduce((D,[Y,te])=>`${D}${Y}=${te},`,"");if(FN(_)&&y!=="_self")return dR(e||"",y),new Qv(null);const A=window.open(e||"",y,x);Ae(A,s,"popup-blocked");try{A.focus()}catch{}return new Qv(A)}function dR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const fR="__/auth/handler",mR="emulator/auth/handler",pR=encodeURIComponent("fac");async function Yv(s,e,i,r,o,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Yl,eventId:o};if(e instanceof EE){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",Yx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,A]of Object.entries({}))f[x]=A}if(e instanceof Su){const x=e.getScopes().filter(A=>A!=="");x.length>0&&(f.scopes=x.join(","))}s.tenantId&&(f.tid=s.tenantId);const y=f;for(const x of Object.keys(y))y[x]===void 0&&delete y[x];const b=await s._getAppCheckToken(),_=b?`#${pR}=${encodeURIComponent(b)}`:"";return`${gR(s)}?${gu(y).slice(1)}${_}`}function gR({config:s}){return s.emulator?Pp(s,mR):`https://${s.authDomain}/${fR}`}const bm="webStorageSupport";class yR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SE,this._completeRedirectFn=BC,this._overrideRedirectResult=UC}async _openPopup(e,i,r,o){Bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Yv(e,i,r,$m(),o);return hR(e,c,Fp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Yv(e,i,r,$m(),o);return bC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Bs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await aR(e),r=new HC(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(bm,{type:bm},o=>{const c=o?.[0]?.[bm];c!==void 0&&i(!!c),Ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=YC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return yE()||hE()||qp()}}const _R=yR;var Xv="@firebase/auth",$v="1.12.0";class vR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ER(s){Ll(new Ir("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=r.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const b={apiKey:f,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_E(s)},_=new $N(r,o,c,b);return nC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new Ir("auth-internal",e=>{const i=id(e.getProvider("auth").getImmediate());return(r=>new vR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(Xv,$v,bR(s)),Oa(Xv,$v,"esm2020")}const TR=300,xR=db("authIdTokenMaxAge")||TR;let Jv=null;const wR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>xR)return;const o=i?.token;Jv!==o&&(Jv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AR(s=_b()){const e=sp(s,"auth");if(e.isInitialized())return e.getImmediate();const i=tC(s,{popupRedirectResolver:_R,persistence:[RC,yC,SE]}),r=db("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=wR(c.toString());fC(i,f,()=>f(i.currentUser)),dC(i,y=>f(y))}}const o=cb("auth");return o&&iC(i,`http://${o}`),i}function SR(){return document.getElementsByTagName("head")?.[0]??document}JN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=ls("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",SR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ER("Browser");const ME=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const NR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const CR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const Zv=s=>{const e=CR(s);return e.charAt(0).toUpperCase()+e.slice(1)};var RR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IR=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const DR=fe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:f,...y},b)=>fe.createElement("svg",{ref:b,...RR,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:ME("lucide",o),...!c&&!IR(y)&&{"aria-hidden":"true"},...y},[...f.map(([_,x])=>fe.createElement(_,x)),...Array.isArray(c)?c:[c]]));const Re=(s,e)=>{const i=fe.forwardRef(({className:r,...o},c)=>fe.createElement(DR,{ref:c,iconNode:e,className:ME(`lucide-${NR(Zv(s))}`,`lucide-${s}`,r),...o}));return i.displayName=Zv(s),i};const kR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Em=Re("arrow-right",kR);const MR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Zc=Re("award",MR);const OR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jR=Re("bell",OR);const VR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wc=Re("book-open",VR);const zR=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Wv=Re("book",zR);const UR=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],eb=Re("building-2",UR);const LR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PR=Re("chevron-right",LR);const BR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Al=Re("circle-check-big",BR);const qR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],eh=Re("circle-plus",qR);const HR=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FR=Re("circle-play",HR);const GR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Tm=Re("circle-user",GR);const KR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sl=Re("clock",KR);const QR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tb=Re("copy",QR);const YR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],XR=Re("eye-off",YR);const $R=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JR=Re("eye",$R);const ZR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],WR=Re("funnel",ZR);const eI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],tI=Re("hash",eI);const nI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],iI=Re("house",nI);const sI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xm=Re("key",sI);const aI=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Xo=Re("list",aI);const rI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$o=Re("loader-circle",rI);const lI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wm=Re("lock",lI);const oI=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],uI=Re("log-in",oI);const cI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nb=Re("log-out",cI);const hI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ib=Re("mail",hI);const dI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sb=Re("menu",dI);const fI=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],mI=Re("message-square",fI);const pI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],gI=Re("panels-top-left",pI);const yI=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_I=Re("pen-line",yI);const vI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bI=Re("save",vI);const EI=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Nl=Re("school",EI);const TI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xI=Re("search",TI);const wI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AI=Re("send",wI);const SI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NI=Re("settings",SI);const CI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Wm=Re("shield-alert",CI);const RI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],II=Re("sparkles",RI);const DI=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kI=Re("square-check-big",DI);const MI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Am=Re("target",MI);const OI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ep=Re("trash-2",OI);const jI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VI=Re("triangle-alert",jI);const zI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UI=Re("user-plus",zI);const LI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PI=Re("user",LI);const BI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],th=Re("users",BI);const qI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],OE=Re("x",qI),HI=`
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }
  .animate-fade-up {
    animation: fadeUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .skeleton {
    background: linear-gradient(to right, #f1f5f9 4%, #e2e8f0 25%, #f1f5f9 36%);
    background-size: 1000px 100%;
    animation: shimmer 2s infinite linear;
  }
  .glass-panel {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.5);
  }
`,Sm=()=>p.jsxs("div",{className:"bg-white p-6 rounded-[24px] border border-slate-100 shadow-sm h-48 flex flex-col justify-between",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl skeleton"}),p.jsx("div",{className:"w-8 h-8 rounded-lg skeleton"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("div",{className:"h-6 w-3/4 rounded-lg skeleton"}),p.jsx("div",{className:"h-4 w-1/2 rounded-lg skeleton"})]})]});class FI extends px.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("EduQuest Crash:",e,i)}render(){return this.state.hasError?p.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-6 text-center font-sans animate-fade-up",children:p.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-md w-full border border-red-100",children:[p.jsx(Wm,{size:48,className:"text-red-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"Terjadi Kesalahan"}),p.jsx("p",{className:"text-slate-500 mb-6",children:"Aplikasi mengalami kendala teknis."}),p.jsx("button",{onClick:()=>{this.setState({hasError:!1}),window.location.reload()},className:"bg-slate-900 text-white px-6 py-3 rounded-xl font-bold w-full hover:scale-105 transition-transform",children:"Muat Ulang"})]})}):this.props.children}}const Je={users:[],classes:[],quizzes:[],results:[]},ab={apiKey:"AIzaSyCOpAKOC521UdLrlnxhvSQVfK3lwU1Dtks",authDomain:"eduquest-74bfa.firebaseapp.com",projectId:"eduquest-74bfa",storageBucket:"eduquest-74bfa.firebasestorage.app",messagingSenderId:"21045199981",appId:"1:21045199981:web:7db4b832a382dd9005ab64",measurementId:"G-7CPTVXGTYV"};let Nm,fh,Ke,It=!1;const Xt="eduquest-production-v1";try{Nm=yb(ab),fh=AR(Nm),Ke=dN(Nm),console.log("Firebase Connected Successfully to:",ab.projectId)}catch(s){console.error("Gagal menginisialisasi Firebase:",s),It=!0}const rb=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<6;i++)e+=s.charAt(Math.floor(Math.random()*s.length));return e},GI=s=>[...s].sort((e,i)=>{if(!e.name||!i.name)return 0;const r=/^(\d+)([a-zA-Z]*)/,o=e.name.match(r),c=i.name.match(r);if(o&&c){const f=parseInt(o[1],10),y=parseInt(c[1],10);return f!==y?f-y:(o[2]||"").localeCompare(c[2]||"")}return e.name.localeCompare(i.name)}),KI=({title:s,message:e,onConfirm:i,onCancel:r,type:o="warning"})=>p.jsx("div",{className:"fixed inset-0 z-[150] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-white rounded-3xl p-8 w-[90%] max-w-sm shadow-2xl scale-100 animate-in zoom-in-95 duration-300",children:[p.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto ${o==="danger"?"bg-red-50 text-red-500":"bg-amber-50 text-amber-500"}`,children:o==="danger"?p.jsx(ep,{size:28}):p.jsx(VI,{size:28})}),p.jsx("h3",{className:"text-xl font-black text-center text-slate-800 mb-2",children:s}),p.jsx("p",{className:"text-center text-slate-500 font-medium mb-8 text-sm leading-relaxed",children:e}),p.jsxs("div",{className:"flex gap-3 flex-col sm:flex-row",children:[p.jsx("button",{onClick:r,className:"flex-1 py-3.5 rounded-xl font-bold border border-slate-200 text-slate-600 hover:bg-slate-50 transition-colors duration-200 active:scale-95",children:"Batal"}),p.jsx("button",{onClick:i,className:`flex-1 py-3.5 rounded-xl font-bold text-white shadow-lg transition-all duration-200 active:scale-95 ${o==="danger"?"bg-red-500 hover:bg-red-600":"bg-slate-900 hover:bg-black"}`,children:"Ya, Lanjutkan"})]})]})}),nh=({title:s,children:e,onClose:i,icon:r,color:o="blue"})=>p.jsx("div",{className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:p.jsxs("div",{className:"bg-white rounded-[24px] md:rounded-[36px] w-full max-w-5xl max-h-[90vh] flex flex-col shadow-2xl overflow-hidden animate-in slide-in-from-bottom-8 fade-in duration-500 border border-white/40",children:[p.jsxs("div",{className:`p-6 md:p-8 bg-gradient-to-r from-${o}-600 to-${o}-800 text-white flex justify-between items-center shadow-lg shrink-0 relative overflow-hidden`,children:[p.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 transform translate-x-10 -translate-y-10 rotate-12",children:p.jsx(r,{size:140})}),p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-md border border-white/10 shadow-inner",children:p.jsx(r,{size:24,className:"md:w-8 md:h-8"})}),p.jsx("h3",{className:"text-xl md:text-3xl font-black tracking-tight line-clamp-1",children:s})]}),p.jsx("button",{onClick:i,type:"button",className:"p-2.5 hover:bg-white/20 rounded-full transition-colors relative z-10 active:scale-90 duration-200",children:p.jsx(OE,{size:24})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-slate-50 custom-scrollbar",children:p.jsx("div",{className:"animate-fade-up",children:e})})]})});function QI(){const[s,e]=fe.useState(null),[i,r]=fe.useState(null),[o,c]=fe.useState(!0),[f,y]=fe.useState("landing"),[b,_]=fe.useState(!0),[x,A]=fe.useState(!0),[D,Y]=fe.useState(!1),[te,le]=fe.useState(null),[se,de]=fe.useState(null),[_e,xe]=fe.useState("overview"),[we,ft]=fe.useState("overview"),[Oe,R]=fe.useState(!1),[S,I]=fe.useState(null),[j,M]=fe.useState(""),[z,N]=fe.useState("All"),[Ze,mt]=fe.useState([]),[F,ie]=fe.useState([]),[pe,Me]=fe.useState([]),[Qe,O]=fe.useState([]),[Q,ae]=fe.useState([]),[re,ve]=fe.useState("login"),[Te,Ue]=fe.useState("student"),[je,Ye]=fe.useState({name:"",password:"",teacherCode:""}),[Hs,Ya]=fe.useState(!1),[Fn,Zt]=fe.useState(""),[Gn,ai]=fe.useState(""),[Si,Xa]=fe.useState(!1),[Kn,pt]=fe.useState({name:"",email:"",message:""}),[Dt,Qn]=fe.useState(!1),[pn,cs]=fe.useState({name:"",school:"",subject:""}),[nt,ri]=fe.useState(null),[Fs,hs]=fe.useState([]),[Yn,$a]=fe.useState("students"),[qi,Gs]=fe.useState(""),[Ni,sn]=fe.useState(null),[At,Tn]=fe.useState(""),[Tt,Hi]=fe.useState(!1),[xn,ds]=fe.useState(null),[Dn,kn]=fe.useState(""),[it,an]=fe.useState([]),[zt,Wt]=fe.useState([]),[Qt,Fi]=fe.useState({question:"",options:["","","",""],answer:"",points:10}),[Ci,Ks]=fe.useState({name:"",classroom:""}),[Qs,Gi]=fe.useState(""),[rt,Ja]=fe.useState(null),[gn,li]=fe.useState(0),[Ur,wn]=fe.useState(0),[rn,xt]=fe.useState(!1),[vt,Xn]=fe.useState(null),[fs,Za]=fe.useState(null),en=fe.useRef(null);fe.useEffect(()=>{const w=document.createElement("style");w.textContent=HI,document.head.appendChild(w);const G=setTimeout(()=>A(!1),2500);(async()=>{if(It){c(!1);return}try{await oC(fh)}catch(ue){console.error("Auth Error:",ue),It=!0,c(!1)}})();let ee=()=>{};return!It&&fh?ee=mC(fh,ue=>{e(ue),c(!1)}):c(!1),()=>{clearTimeout(G),ee(),document.head.contains(w)&&document.head.removeChild(w)}},[]),fe.useEffect(()=>{if(i)if(_(!0),!It&&Ke)if(i.role==="teacher"){const w=wl(wi(Ln(Ke,"artifacts",Xt,"public","data","quizzes"),Pn("teacherId","==",i.id)),ee=>{Me(ee.docs.map(ue=>({id:ue.id,...ue.data()}))),_(!1)}),G=wl(wi(Ln(Ke,"artifacts",Xt,"public","data","classes"),Pn("teacherId","==",i.id)),ee=>mt(ee.docs.map(ue=>({id:ue.id,...ue.data()})))),W=wl(wi(Ln(Ke,"artifacts",Xt,"public","data","results"),Pn("teacherId","==",i.id)),ee=>O(ee.docs.map(ue=>({id:ue.id,...ue.data()}))));return()=>{w(),G(),W()}}else{const w=wl(wi(Ln(Ke,"artifacts",Xt,"public","data","results"),Pn("studentId","==",i.id)),W=>{const ee=W.docs.map(ue=>({id:ue.id,...ue.data()}));ee.sort((ue,Lt)=>(Lt.timestamp?.seconds||0)-(ue.timestamp?.seconds||0)),ae(ee),_(!1)}),G=wl(wi(Ln(Ke,"artifacts",Xt,"public","data","classes"),Pn("studentIds","array-contains",i.id)),W=>{ie(W.docs.map(ee=>({id:ee.id,...ee.data()})))});return()=>{w(),G()}}else _(!1),i.role==="teacher"?(Me(Je.quizzes.filter(w=>w.teacherId===i.id)),mt(Je.classes.filter(w=>w.teacherId===i.id)),O(Je.results.filter(w=>w.teacherId===i.id))):(ae(Je.results.filter(w=>w.studentId===i.id)),ie(Je.classes.filter(w=>w.studentIds?.includes(i.id))))},[i,f]),fe.useEffect(()=>{if(i?.role==="teacher"&&nt&&!It&&Ke){const w=wi(Ln(Ke,"artifacts",Xt,"public","data","results"),Pn("studentClass","==",nt.name)),G=wl(w,W=>{hs(W.docs.map(ee=>({id:ee.id,...ee.data()})))});return()=>G()}else i?.role==="teacher"&&nt&&It&&hs(Je.results.filter(w=>w.studentClass===nt.name))},[nt,i]),fe.useEffect(()=>{en.current||(en.current=new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"),en.current.loop=!0);const w=()=>{f==="quiz"&&!rn&&(document.hidden?en.current.play().catch(ee=>console.log("Play error:",ee)):(en.current.pause(),en.current.currentTime=0,alert(" PERINGATAN: Dilarang meninggalkan halaman kuis!")))},G=()=>{f==="quiz"&&!rn&&en.current.play().catch(ee=>console.log("Play error:",ee))},W=()=>{f==="quiz"&&!rn&&!en.current.paused&&(en.current.pause(),en.current.currentTime=0,alert(" PERINGATAN: Tetap di halaman ujian!"))};return document.addEventListener("visibilitychange",w),window.addEventListener("blur",G),window.addEventListener("focus",W),()=>{document.removeEventListener("visibilitychange",w),window.removeEventListener("blur",G),window.removeEventListener("focus",W),en.current&&(en.current.pause(),en.current.currentTime=0)}},[f,rn]);const Wa=(w,G)=>{const W=document.createElement("textarea");W.value=w,W.style.position="fixed",W.style.left="-9999px",document.body.appendChild(W),W.select();try{document.execCommand("copy"),I(G),setTimeout(()=>I(null),2e3)}catch{}document.body.removeChild(W)},An=(w,G)=>{Y(!0),setTimeout(()=>{ve(w),Ue(G),Zt(""),ai(""),Ye({name:"",password:"",teacherCode:""}),y("auth"),Y(!1)},500)},Ys=async w=>{if(w.preventDefault(),c(!0),Zt(""),ai(""),re==="register"&&Te==="teacher"&&je.teacherCode!=="Eduquestguru26"){Zt("Kode Akses Guru salah!"),c(!1);return}try{if(!It&&Ke){const G=Ln(Ke,"artifacts",Xt,"public","data","users");if(re==="register"){const W=await xl(wi(G,Pn("name","==",je.name)));let ee=!1;if(W.forEach(ue=>{ue.data().role===Te&&(ee=!0)}),ee)throw new Error("Nama pengguna sudah terdaftar.");await $c(G,{role:Te,name:je.name,password:je.password,classroom:null}),ai("Akun dibuat! Silakan login secara manual."),setTimeout(()=>{ve("login"),Ye({name:"",password:"",teacherCode:""}),ai(""),c(!1)},1500)}else{const W=await xl(wi(G,Pn("name","==",je.name)));let ee=null;if(W.forEach(ue=>{ue.data().password===je.password&&(ee={id:ue.id,...ue.data()})}),ee)setTimeout(()=>{r(ee),y(ee.role==="teacher"?"teacher-dash":"student-dash"),c(!1)},800);else throw new Error("Nama atau Password salah.")}}else if(re==="register"){const G={id:"user_"+Date.now(),role:Te,name:je.name,password:je.password,classroom:null};Je.users.push(G),ai("Akun (Demo) dibuat! Silakan login secara manual."),setTimeout(()=>{ve("login"),Ye({name:"",password:"",teacherCode:""}),ai(""),c(!1)},1e3)}else{const G=Je.users.find(W=>W.name===je.name&&W.password===je.password);if(G)r(G),y(G.role==="teacher"?"teacher-dash":"student-dash"),c(!1);else if(Je.users.length===0){const W={id:"demo_"+Date.now(),role:"student",name:je.name,classroom:"Demo"};r(W),y("student-dash"),c(!1)}else throw new Error("Akun tidak ditemukan.")}}catch(G){Zt(G.message||"Terjadi kesalahan."),c(!1)}},oi=()=>{r(null),R(!1),y("landing"),Ye({name:"",password:"",teacherCode:""}),ri(null),Wt([]),kn(""),Gi(""),ft("overview"),xe("overview"),de(null),Me([]),mt([])},Sn=()=>{de({title:"Keluar Akun?",message:"Anda harus login kembali untuk mengakses data Anda.",onConfirm:oi,onCancel:()=>de(null),type:"warning"})},Nn=async()=>{if(!pn.name||!pn.school||!pn.subject)return alert("Mohon lengkapi semua data kelas.");const w=rb(),G={name:pn.name,school:pn.school,subject:pn.subject,code:w,teacherId:i.id,teacherName:i.name,students:[],studentIds:[],createdAt:It?{seconds:Date.now()/1e3}:gm()};if(!It&&Ke)try{await $c(Ln(Ke,"artifacts",Xt,"public","data","classes"),G)}catch(W){console.error(W),alert("Gagal membuat kelas.");return}else Je.classes.push({id:"cls_"+Date.now(),...G}),mt([...Je.classes.filter(W=>W.teacherId===i.id)]);cs({name:"",school:"",subject:""}),Qn(!1),alert(`Kelas Berhasil Dibuat! Kode Kelas: ${w}`)},ui=async w=>{if(w.preventDefault(),!!qi){c(!0),Zt("");try{if(!It&&Ke){const G=wi(Ln(Ke,"artifacts",Xt,"public","data","classes"),Pn("code","==",qi.toUpperCase())),W=await xl(G);if(W.empty)throw new Error("Kode kelas tidak ditemukan.");const ee=W.docs[0],ue=ee.data();if(ue.studentIds&&ue.studentIds.includes(i.id))throw new Error("Anda sudah bergabung di kelas ini.");await _m(kl(Ke,"artifacts",Xt,"public","data","classes",ee.id),{students:Cv({id:i.id,name:i.name,absen:null}),studentIds:Cv(i.id)}),alert(`Berhasil bergabung ke kelas ${ue.name}! Silakan pilih nomor absen Anda sekarang.`),sn({id:ee.id,...ue}),Gs("")}else{const G=Je.classes.find(W=>W.code===qi.toUpperCase());if(!G)throw new Error("Kode kelas tidak ditemukan.");if(G.studentIds&&G.studentIds.includes(i.id))throw new Error("Sudah bergabung.");G.students||(G.students=[]),G.studentIds||(G.studentIds=[]),G.students.push({id:i.id,name:i.name,absen:null}),G.studentIds.push(i.id),ie([...Je.classes.filter(W=>W.studentIds?.includes(i.id))]),alert("Berhasil bergabung! Silakan pilih nomor absen."),sn(G),Gs("")}}catch(G){Zt(G.message)}c(!1)}},St=async()=>{if(!Ni||!At)return;const w=parseInt(At);if(!It&&Ke){const G=kl(Ke,"artifacts",Xt,"public","data","classes",Ni.id),W=await AN(G);if(W.exists()){const ue=W.data().students.map(Lt=>Lt.id===i.id?{...Lt,absen:w}:Lt);await _m(G,{students:ue})}}else{const G=Je.classes.find(W=>W.id===Ni.id);G&&(G.students=G.students.map(W=>W.id===i.id?{...W,absen:w}:W),ie([...Je.classes.filter(W=>W.studentIds?.includes(i.id))]))}sn(null),Tn(""),alert("Absen berhasil disimpan!")},er=w=>{const G=w.students?.find(W=>W.id===i.id);G&&!G.absen?sn(w):alert(`Anda terdaftar di kelas ${w.name}. Absen: ${G?.absen}`)},tr=w=>{ds(w.id),kn(w.title),Wt(w.questions||[]),an(w.assignedClassIds||[]),Hi(!0)},ci=(w,G)=>{w.stopPropagation(),de({title:"Hapus Kuis?",message:"Tindakan ini tidak dapat dibatalkan. Kuis dan riwayat nilai terkait akan dihapus permanen.",type:"danger",onCancel:()=>de(null),onConfirm:async()=>{if(!It&&Ke)try{await Ov(kl(Ke,"artifacts",Xt,"public","data","quizzes",G))}catch{alert("Gagal menghapus kuis.")}else Je.quizzes=Je.quizzes.filter(W=>W.id!==G),Me([...Je.quizzes.filter(W=>W.teacherId===i.id)]);de(null)}})},hi=(w,G)=>{w.stopPropagation(),de({title:"Hapus Kelas?",message:"Menghapus kelas akan menghapus semua data siswa di dalamnya. Lanjutkan?",type:"danger",onCancel:()=>de(null),onConfirm:async()=>{!It&&Ke?await Ov(kl(Ke,"artifacts",Xt,"public","data","classes",G)):(Je.classes=Je.classes.filter(W=>W.id!==G),mt([...Je.classes.filter(W=>W.teacherId===i.id)])),ri(null),de(null)}})},nr=()=>{xn?de({title:"Update Kuis?",message:"Perubahan pada soal dan pengaturan kuis akan disimpan.",type:"warning",onCancel:()=>de(null),onConfirm:()=>{Xs(),de(null)}}):Xs()},ir=()=>{de({title:"Selesaikan Kuis?",message:"Pastikan semua jawaban sudah terisi. Anda tidak dapat mengubahnya lagi setelah ini.",type:"warning",onCancel:()=>de(null),onConfirm:()=>{$s(!0),de(null)}})},Xs=async()=>{if(!Dn||zt.length===0)return alert("Isi judul dan minimal 1 soal.");if(it.length===0)return alert("Pilih minimal satu kelas.");c(!0);const w=rb(),G=Ze.filter(ee=>it.includes(ee.id)).map(ee=>ee.name),W={title:Dn,questions:zt,teacherId:i.id,teacherName:i.name,assignedClassIds:it,allowedClassNames:G,...xn?{}:{code:w,createdAt:It?{seconds:Date.now()/1e3}:gm()}};if(!It&&Ke)try{xn?(await _m(kl(Ke,"artifacts",Xt,"public","data","quizzes",xn),W),alert("Kuis Berhasil Diupdate!")):(await $c(Ln(Ke,"artifacts",Xt,"public","data","quizzes"),W),alert(`Kuis Berhasil Dibuat! Kode: ${w}`))}catch(ee){console.error(ee)}else{if(xn){const ee=Je.quizzes.findIndex(ue=>ue.id===xn);ee>=0&&(Je.quizzes[ee]={...Je.quizzes[ee],...W}),alert("Kuis Berhasil Diupdate!")}else Je.quizzes.push({id:"quiz_"+Date.now(),...W,code:w,createdAt:{seconds:Date.now()/1e3}}),alert(`Kuis Berhasil Dibuat! Kode: ${w}`);Me([...Je.quizzes.filter(ee=>ee.teacherId===i.id)])}Wt([]),kn(""),an([]),Hi(!1),ds(null),xe("quizzes"),c(!1)},Lr=async w=>{w.preventDefault(),c(!0),Zt("");const G=async()=>{if(!It&&Ke){const ee=await xl(wi(Ln(Ke,"artifacts",Xt,"public","data","quizzes"),Pn("code","==",Qs.toUpperCase())));return ee.empty?null:{id:ee.docs[0].id,...ee.docs[0].data()}}else return Je.quizzes.find(ee=>ee.code===Qs.toUpperCase())},W=async ee=>!It&&Ke?!(await xl(wi(Ln(Ke,"artifacts",Xt,"public","data","results"),Pn("studentId","==",i.id),Pn("quizId","==",ee)))).empty:Je.results.some(ue=>ue.studentId===i.id&&ue.quizId===ee);try{const ee=await G();if(!ee){Zt("Kode tidak ditemukan."),c(!1);return}const ue=ee.allowedClassNames||[],Lt=F.map(di=>di.name),Ri=ue.filter(di=>Lt.includes(di));if(ue.length>0&&Ri.length===0){Zt(`Akses Ditolak. Anda belum bergabung dengan kelas target (${ue.join(", ")}).`),c(!1);return}if(await W(ee.id)){Zt("Sudah dikerjakan!"),c(!1);return}Za(null),Ja({...ee,validClassesForStudent:Ri.length>0?Ri:ue}),y("quiz"),li(0),wn(0),xt(!1)}catch(ee){Zt("Error: "+ee.message)}c(!1)},$s=async(w=!1)=>{let G=Ur;if(!rt||!rt.questions)return;const W=rt.questions[gn],ee=parseInt(W.points)||0;if(vt===W.answer&&(G+=ee),wn(G),!w&&gn+1<rt.questions.length)li(gn+1),Xn(null);else{xt(!0);const ue=Math.min(100,Math.round(G+(!w&&vt===W.answer?ee:0))),Lt={quizId:rt.id,quizCode:rt.code,quizTitle:rt.title,studentId:i.id,studentName:i.name,studentClass:fs||"Umum",score:ue,isPublished:!1,timestamp:It?{seconds:Date.now()/1e3}:gm(),teacherId:rt.teacherId};if(!It&&Ke)try{await $c(Ln(Ke,"artifacts",Xt,"public","data","results"),Lt)}catch{}else Je.results.push({id:"res_"+Date.now(),...Lt}),ae([...Je.results.filter(Ri=>Ri.studentId===i.id)]);wn(ue)}},Cn=async(w,G)=>{if(confirm(`Publikasikan nilai untuk kuis ini di kelas ${G}? Siswa akan dapat melihat nilainya.`))if(!It&&Ke)try{const W=wi(Ln(Ke,"artifacts",Xt,"public","data","results"),Pn("quizId","==",w),Pn("studentClass","==",G)),ee=await xl(W);if(ee.empty){alert("Tidak ada data siswa untuk dipublikasikan.");return}const ue=SN(Ke);ee.docs.forEach(Lt=>{Lt.data().isPublished!==!0&&ue.update(Lt.ref,{isPublished:!0})}),await ue.commit(),alert("Nilai berhasil dipublikasikan!")}catch(W){console.error("Publish error:",W),alert("Gagal mempublikasikan nilai.")}else Je.results.forEach(W=>{W.quizId===w&&W.studentClass===G&&(W.isPublished=!0)}),alert("Nilai berhasil dipublikasikan! (Demo Mode)"),nt&&hs(Je.results.filter(W=>W.studentClass===nt.name))},Nt=()=>{if(!Qt.question||!Qt.answer||Qt.options.some(W=>!W))return alert("Lengkapi data soal.");const w=parseInt(Qt.points)||0,G=zt.reduce((W,ee)=>W+(parseInt(ee.points)||0),0);if(G+w>100)return alert(`Total poin melebihi 100! Sisa poin yang tersedia: ${100-G}`);Wt([...zt,Qt]),Fi({question:"",options:["","","",""],answer:"",points:10})},Ut=w=>{it.includes(w)?an(it.filter(G=>G!==w)):an([...it,w])},Ki=w=>{w.preventDefault(),alert(`Terima kasih ${Kn.name}! Pesan Anda telah kami terima.`),pt({name:"",email:"",message:""}),le(null)};if(x)return p.jsxs("div",{className:"fixed inset-0 z-[200] bg-white flex flex-col items-center justify-center animate-out fade-out duration-1000 fill-mode-forwards",children:[p.jsx("div",{className:"p-8 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-[32px] shadow-2xl shadow-blue-900/20 animate-bounce",children:p.jsx(Wc,{size:80,className:"text-white drop-shadow-md"})}),p.jsx("h1",{className:"mt-8 text-5xl font-extrabold text-slate-800 tracking-tighter animate-pulse bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:"EduQuest"}),p.jsx("p",{className:"text-slate-400 mt-3 font-semibold text-lg",children:"Memuat Aplikasi..."})]});if(D)return p.jsxs("div",{className:"fixed inset-0 z-[100] bg-white/90 backdrop-blur-xl flex flex-col items-center justify-center",children:[p.jsx($o,{size:64,className:"text-blue-600 animate-spin mb-6"}),p.jsx("p",{className:"text-slate-600 font-bold text-xl animate-pulse",children:"Memproses..."})]});const ms=Q.filter(w=>w.isPublished);return zt.reduce((w,G)=>w+(parseInt(G.points)||0),0),p.jsxs("div",{className:"font-sans text-slate-800 antialiased selection:bg-blue-100 selection:text-blue-900 overflow-x-hidden",children:[se&&p.jsx(KI,{title:se.title,message:se.message,onConfirm:se.onConfirm,onCancel:se.onCancel,type:se.type}),It&&p.jsxs("div",{className:"bg-amber-100 text-amber-800 text-xs font-bold text-center py-2 px-4 border-b border-amber-200 flex items-center justify-center gap-2 shadow-sm relative z-[60]",children:[p.jsx(Wm,{size:14})," Mode Demo Offline Aktif - Data tidak tersimpan ke server"]}),f==="landing"&&p.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col relative overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[p.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#4f46e5 1px, transparent 1px), linear-gradient(to right, #4f46e5 1px, transparent 1px)",backgroundSize:"40px 40px"}}),p.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[600px] h-[600px] bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-[100px] animate-pulse"}),p.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[700px] h-[700px] bg-gradient-to-tr from-indigo-400/20 to-pink-400/20 rounded-full blur-[120px] animate-pulse delay-1000"})]}),p.jsxs("nav",{className:"sticky top-0 w-full z-50 bg-white/70 backdrop-blur-xl border-b border-white/50 py-4 px-6 md:px-12 flex justify-between items-center transition-all shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:()=>window.location.reload(),children:[p.jsx("div",{className:"p-2.5 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/20 text-white group-hover:scale-110 transition-transform duration-300",children:p.jsx(Wc,{size:24,strokeWidth:2.5})}),p.jsxs("span",{className:"font-extrabold text-2xl tracking-tight text-slate-800 group-hover:text-blue-600 transition-colors",children:["EduQuest",p.jsx("span",{className:"text-blue-500",children:"."})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("button",{onClick:()=>An("login","student"),className:"hidden md:flex bg-white hover:bg-slate-50 text-slate-700 px-5 py-2.5 rounded-xl font-bold text-sm border border-slate-200 items-center gap-2 transition-all hover:shadow-md hover:-translate-y-0.5 group active:scale-95",children:[p.jsx(xm,{size:16,className:"text-blue-500 group-hover:rotate-45 transition-transform"})," Masukkan Kode"]}),p.jsx("button",{onClick:()=>An("login","student"),className:"text-slate-600 font-bold text-sm hover:text-blue-700 px-4 transition-colors active:scale-95",children:"Masuk"}),p.jsxs("button",{onClick:()=>An("register","student"),className:"bg-slate-900 hover:bg-black text-white px-6 py-2.5 rounded-xl font-bold text-sm shadow-lg shadow-slate-900/20 hover:-translate-y-0.5 transition-all flex items-center gap-2 active:scale-95",children:["Daftar Gratis ",p.jsx(Em,{size:14})]})]})]}),p.jsx("div",{className:"flex-1 flex flex-col justify-center items-center text-center px-4 py-24 relative z-10",children:p.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto space-y-8",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur border border-blue-100 rounded-full shadow-sm mb-2 animate-in fade-in slide-in-from-bottom-4 duration-700 hover:scale-105 transition-transform cursor-default select-none",children:[p.jsx("span",{className:"flex h-2 w-2 rounded-full bg-blue-500 animate-pulse"}),p.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Revolusi Pendidikan Digital"})]}),p.jsxs("h1",{className:"text-3xl md:text-5xl font-extrabold leading-tight text-slate-900 tracking-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100 drop-shadow-sm",children:["Belajar Tanpa Batas, ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",children:"Ujian Tanpa Cemas."})]}),p.jsx("p",{className:"text-slate-600 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200 font-medium",children:"Platform all-in-one yang menghubungkan guru dan siswa melalui asesmen interaktif, analisis mendalam, dan pengalaman belajar yang menyenangkan."}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 w-full max-w-lg mx-auto animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[p.jsxs("button",{onClick:()=>An("register","teacher"),className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-3 rounded-2xl font-bold text-lg hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center justify-center group min-w-[200px] active:scale-95",children:[p.jsx("span",{className:"text-xs font-medium opacity-80 uppercase tracking-wider mb-0.5",children:"Guru"}),p.jsxs("span",{className:"flex items-center gap-2",children:["Daftar Gratis ",p.jsx(Em,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),p.jsx("button",{onClick:()=>le("contact"),className:"w-full sm:w-auto bg-white text-slate-700 px-8 py-4 rounded-2xl font-bold text-lg hover:bg-slate-50 border border-slate-200 shadow-sm hover:shadow-md transition-all duration-300 active:scale-95",children:"Hubungi Kami"})]})]})}),te==="contact"&&p.jsx(nh,{title:"Hubungi Kami",onClose:()=>le(null),icon:ib,color:"blue",children:p.jsxs("form",{onSubmit:Ki,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"Nama Lengkap"}),p.jsxs("div",{className:"relative",children:[p.jsx(PI,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("input",{required:!0,className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 transition-colors",placeholder:"Masukkan nama Anda",value:Kn.name,onChange:w=>pt({...Kn,name:w.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(ib,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("input",{type:"email",required:!0,className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 transition-colors",placeholder:"email@sekolah.com",value:Kn.email,onChange:w=>pt({...Kn,email:w.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:"Pesan"}),p.jsxs("div",{className:"relative",children:[p.jsx(mI,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("textarea",{required:!0,className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 min-h-[120px] transition-colors",placeholder:"Tulis pesan Anda di sini...",value:Kn.message,onChange:w=>pt({...Kn,message:w.target.value})})]})]}),p.jsx("div",{className:"flex justify-end pt-4",children:p.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 shadow-lg flex items-center gap-2 active:scale-95 transition-all",children:[p.jsx(AI,{size:18})," Kirim Pesan"]})})]})})]}),f==="auth"&&p.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("div",{className:"absolute top-[-20%] left-[-20%] w-[800px] h-[800px] bg-blue-400/20 rounded-full blur-[120px] animate-pulse"}),p.jsx("div",{className:"absolute bottom-[-20%] right-[-20%] w-[800px] h-[800px] bg-indigo-400/20 rounded-full blur-[120px] animate-pulse delay-1000"})]}),p.jsxs("div",{className:"bg-white/80 backdrop-blur-2xl w-full max-w-md rounded-[40px] shadow-2xl relative z-10 p-10 border border-white/50 animate-in zoom-in-95 duration-500",children:[p.jsx("button",{onClick:()=>y("landing"),className:"absolute top-8 left-8 text-slate-400 hover:text-slate-800 transition flex items-center gap-1 text-sm font-bold group",children:p.jsx("div",{className:"p-1 rounded-full group-hover:bg-slate-100 transition",children:p.jsx(PR,{className:"rotate-180",size:18})})}),p.jsxs("div",{className:"text-center mt-6 mb-8",children:[p.jsx("div",{className:"inline-flex p-5 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-3xl mb-6 shadow-xl shadow-blue-500/30",children:re==="login"?p.jsx(uI,{size:32,strokeWidth:2.5}):p.jsx(UI,{size:32,strokeWidth:2.5})}),p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:re==="login"?"Selamat Datang":Te==="teacher"?"Daftar Guru":"Daftar Siswa"}),p.jsx("p",{className:"text-slate-500 text-sm mt-2 font-medium",children:re==="login"?"Masuk untuk melanjutkan.":"Lengkapi data untuk membuat akun."})]}),p.jsxs("form",{onSubmit:Ys,className:"space-y-5",children:[p.jsxs("div",{className:"group",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1.5 block tracking-wide group-focus-within:text-blue-600 transition-colors",children:"Nama Lengkap"}),p.jsx("input",{type:"text",required:!0,className:"w-full p-4 border border-slate-200 rounded-2xl bg-white/50 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all text-slate-800 font-bold placeholder:text-slate-400 placeholder:font-normal",placeholder:"Contoh: Budi Santoso",value:je.name,onChange:w=>Ye({...je,name:w.target.value})})]}),p.jsxs("div",{className:"group",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1 mb-1.5 block tracking-wide group-focus-within:text-blue-600 transition-colors",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:Si?"text":"password",required:!0,className:"w-full p-4 border border-slate-200 rounded-2xl bg-white/50 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all text-slate-800 font-bold placeholder:text-slate-400 placeholder:font-normal",placeholder:"",value:je.password,onChange:w=>Ye({...je,password:w.target.value})}),p.jsx("button",{type:"button",onClick:()=>Xa(!Si),className:"absolute right-4 top-4 text-slate-400 hover:text-slate-600 transition-colors p-1",children:Si?p.jsx(XR,{size:20}):p.jsx(JR,{size:20})})]})]}),re==="register"&&Te==="teacher"&&p.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300",children:[p.jsxs("label",{className:"text-xs font-bold text-indigo-600 uppercase ml-1 mb-1.5 block tracking-wide flex items-center gap-1",children:[p.jsx(II,{size:12})," Kode Akses Guru"]}),p.jsx("input",{type:"password",required:!0,className:"w-full p-4 border border-indigo-200 rounded-2xl bg-indigo-50/30 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all text-slate-800 font-bold placeholder:text-slate-400 placeholder:font-normal",placeholder:"Wajib untuk guru...",value:je.teacherCode,onChange:w=>Ye({...je,teacherCode:w.target.value})})]}),Fn&&p.jsxs("div",{className:"text-red-600 text-sm bg-red-50 p-4 rounded-2xl flex items-center gap-3 font-bold border border-red-100 animate-in slide-in-from-top-2",children:[p.jsx(Wm,{size:18,className:"shrink-0"})," ",Fn]}),Gn&&p.jsxs("div",{className:"text-green-600 text-sm bg-green-50 p-4 rounded-2xl flex items-center gap-3 font-bold border border-green-100 animate-in slide-in-from-top-2",children:[p.jsx(Al,{size:18,className:"shrink-0"})," ",Gn]}),p.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-4 rounded-2xl font-bold shadow-xl shadow-blue-500/20 transition-all transform active:scale-[0.98] text-lg mt-4 flex justify-center items-center gap-2",children:o?p.jsx($o,{className:"animate-spin",size:20}):re==="login"?"Masuk Aplikasi":"Buat Akun"})]}),p.jsxs("div",{className:"p-4 text-center text-sm text-slate-500 mt-6 border-t border-slate-100 pt-6",children:[re==="login"?"Belum punya akun? ":"Sudah punya akun? ",re==="login"?p.jsx("button",{onClick:()=>ve("register"),className:"text-blue-600 font-extrabold hover:underline transition decoration-2 underline-offset-4",children:"Daftar Sekarang"}):p.jsx("button",{onClick:()=>ve("login"),className:"text-blue-600 font-extrabold hover:underline transition decoration-2 underline-offset-4",children:"Login"})]})]})]}),f==="teacher-dash"&&p.jsxs("div",{className:"h-screen bg-slate-50 font-sans flex flex-col md:flex-row overflow-hidden",children:[Oe&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden animate-in fade-in duration-300",onClick:()=>R(!1)}),p.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 text-slate-300 flex-col relative overflow-hidden h-full transform transition-transform duration-300 ease-in-out ${Oe?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:relative`,children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl"}),p.jsxs("div",{className:"p-8 border-b border-slate-800 flex items-center gap-3 relative z-10",children:[p.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-2.5 rounded-xl text-white shadow-lg shadow-blue-900/50",children:p.jsx(Wc,{size:24})}),p.jsx("span",{className:"text-white font-extrabold text-2xl tracking-tight",children:"EduGuru"})]}),p.jsx("div",{className:"p-6 space-y-3 relative z-10 flex-1",children:[{id:"overview",icon:gI,label:"Beranda"},{id:"classes",icon:th,label:"Kelas Saya"},{id:"quizzes",icon:Xo,label:"Bank Soal"},{id:"results",icon:Zc,label:"Nilai Siswa"}].map(w=>p.jsxs("button",{onClick:()=>{xe(w.id),R(!1)},className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all duration-200 font-bold text-sm active:scale-95 ${_e===w.id?"bg-blue-600 text-white shadow-lg shadow-blue-900/50":"hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(w.icon,{size:20})," ",w.label]},w.id))}),p.jsxs("div",{className:"p-6 relative z-10",children:[p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-2xl p-5 mb-4 border border-slate-700",children:[p.jsx("div",{className:"text-xs font-bold text-slate-500 mb-2 uppercase tracking-wider",children:"Login Sebagai"}),p.jsxs("div",{className:"text-white font-bold truncate flex items-center gap-2",children:[p.jsx(Tm,{size:16})," ",i?.name]})]}),p.jsxs("button",{onClick:Sn,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-white hover:bg-red-500/20 p-4 rounded-2xl font-bold transition-all active:scale-95",children:[p.jsx(nb,{size:20})," Logout"]})]})]}),p.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto bg-[#F8FAFC] h-full",children:[p.jsxs("header",{className:"flex justify-between items-center mb-6 md:mb-10",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{className:"md:hidden p-2 bg-white rounded-xl shadow-sm active:scale-95 transition-transform",onClick:()=>R(!0),children:p.jsx(sb,{})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl md:text-4xl font-black text-slate-800 tracking-tight mb-1 md:mb-2",children:[_e==="overview"&&"Dashboard Overview",_e==="classes"&&"Manajemen Kelas",_e==="quizzes"&&"Bank Kuis & Soal",_e==="results"&&"Rekap Nilai Siswa"]}),p.jsx("p",{className:"text-slate-500 font-medium text-sm md:text-lg hidden md:block",children:"Kelola aktivitas pembelajaran Anda dengan mudah."})]})]}),p.jsx("button",{className:"bg-white p-3 rounded-full shadow-md text-slate-400 border border-slate-200 hover:text-blue-600 hover:scale-110 transition-all",children:p.jsx(jR,{size:24})})]}),p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_e==="overview"&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-8 rounded-[32px] text-white shadow-2xl shadow-blue-500/30 relative overflow-hidden group transition-transform hover:scale-[1.02]",children:[p.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-125 transition-transform duration-700",children:p.jsx(th,{size:120})}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"flex justify-between items-start mb-6",children:p.jsx("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm",children:p.jsx(th,{size:32})})}),p.jsx("div",{className:"text-6xl font-black mb-2",children:Ze.length}),p.jsx("div",{className:"text-blue-100 font-bold text-lg",children:"Kelas Aktif"})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-xl shadow-slate-200/50 hover:-translate-y-1 transition-transform duration-300",children:[p.jsx("div",{className:"flex justify-between items-start mb-6",children:p.jsx("div",{className:"p-4 bg-purple-100 text-purple-600 rounded-2xl",children:p.jsx(Xo,{size:32})})}),p.jsx("div",{className:"text-6xl font-black text-slate-800 mb-2",children:pe.length}),p.jsx("div",{className:"text-slate-500 font-bold text-lg",children:"Kuis Dibuat"})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-xl shadow-slate-200/50 hover:-translate-y-1 transition-transform duration-300",children:[p.jsx("div",{className:"flex justify-between items-start mb-6",children:p.jsx("div",{className:"p-4 bg-green-100 text-green-600 rounded-2xl",children:p.jsx(Zc,{size:32})})}),p.jsx("div",{className:"text-6xl font-black text-slate-800 mb-2",children:Qe.length}),p.jsx("div",{className:"text-slate-500 font-bold text-lg",children:"Total Pengerjaan"})]})]}),_e==="classes"&&p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center bg-white p-6 rounded-3xl shadow-sm border border-slate-100 gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800 text-xl",children:"Daftar Kelas"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Buat dan kelola kelas siswa."})]}),p.jsxs("button",{onClick:()=>Qn(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-2xl font-bold hover:bg-blue-700 flex items-center gap-2 shadow-lg shadow-blue-500/20 transition hover:-translate-y-1 w-full md:w-auto justify-center active:scale-95",children:[p.jsx(eh,{size:20})," Buat Kelas Baru"]})]}),Dt&&p.jsx(nh,{title:"Buat Kelas Baru",onClose:()=>Qn(!1),icon:Nl,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Nama Kelas"}),p.jsx("input",{value:pn.name,onChange:w=>cs({...pn,name:w.target.value}),placeholder:"Contoh: 12 IPA 1",className:"w-full p-4 border border-slate-200 rounded-xl outline-none focus:border-blue-500 font-semibold transition-all"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Nama Sekolah"}),p.jsxs("div",{className:"relative",children:[p.jsx(eb,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("input",{value:pn.school,onChange:w=>cs({...pn,school:w.target.value}),placeholder:"Contoh: SMA Negeri 1",className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 font-semibold transition-all"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Mata Pelajaran"}),p.jsxs("div",{className:"relative",children:[p.jsx(Wv,{className:"absolute left-4 top-4 text-slate-400",size:20}),p.jsx("input",{value:pn.subject,onChange:w=>cs({...pn,subject:w.target.value}),placeholder:"Contoh: Matematika Wajib",className:"w-full p-4 pl-12 border border-slate-200 rounded-xl outline-none focus:border-blue-500 font-semibold transition-all"})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>Qn(!1),className:"px-6 py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 active:scale-95 transition-all",children:"Batal"}),p.jsx("button",{type:"button",onClick:Nn,className:"px-8 py-3 rounded-xl font-bold bg-blue-600 text-white hover:bg-blue-700 shadow-lg active:scale-95 transition-all",children:"Simpan Kelas"})]})]})}),b?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[1,2,3].map(w=>p.jsx(Sm,{},w))}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:Ze.map(w=>p.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-lg shadow-slate-200/40 hover:shadow-2xl hover:shadow-blue-900/10 transition-all duration-300 group relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-400/10 rounded-full blur-2xl group-hover:bg-orange-400/20 transition-colors"}),p.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[p.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl group-hover:scale-110 transition-transform",children:p.jsx(Nl,{size:32})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>Wa(w.code,w.id),className:`px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 active:scale-95 transition-all ${S===w.id?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[S===w.id?p.jsx(Al,{size:12}):p.jsx(tb,{size:12})," ",w.code]}),p.jsx("button",{onClick:G=>hi(G,w.id),className:"text-slate-300 hover:text-red-500 transition bg-white p-2 rounded-lg shadow-sm border border-slate-100 active:scale-90",children:p.jsx(ep,{size:16})})]})]}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("h4",{className:"text-2xl font-black text-slate-800 mb-1",children:w.name}),p.jsxs("p",{className:"text-sm font-semibold text-slate-500 mb-4",children:[w.subject,"  ",w.school]}),p.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[p.jsx(th,{size:16,className:"text-slate-400"}),p.jsxs("span",{className:"text-slate-600 font-bold text-sm",children:[w.students?.length||0," Siswa"]})]}),p.jsx("button",{onClick:()=>{ri(w),$a("students")},className:"w-full bg-slate-50 text-slate-700 py-3 rounded-xl font-bold text-sm hover:bg-slate-900 hover:text-white transition-all duration-300 border border-slate-200 active:scale-95",children:"Lihat Siswa"})]})]},w.id))})]}),_e==="quizzes"&&p.jsx("div",{className:"space-y-8",children:Tt?p.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[p.jsxs("div",{className:"bg-slate-50 p-8 border-b border-slate-200 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-black text-slate-800 text-2xl",children:xn?"Edit Kuis":"Buat Kuis Baru"}),p.jsx("p",{className:"text-slate-500 text-sm font-bold mt-1",children:"Buat pertanyaan dan tentukan target kelas."}),p.jsxs("div",{className:"mt-2 text-indigo-600 font-bold bg-indigo-50 px-3 py-1 rounded-lg inline-block text-sm",children:["Total Poin Saat Ini: ",zt.reduce((w,G)=>w+(parseInt(G.points)||0),0)," / 100"]})]}),p.jsx("button",{onClick:()=>{Hi(!1),ds(null),Wt([]),kn(""),an([])},className:"bg-white p-3 rounded-full hover:bg-red-50 text-slate-400 hover:text-red-500 transition shadow-sm border border-slate-200 active:scale-90",children:p.jsx(OE,{size:24})})]}),p.jsxs("div",{className:"p-10 space-y-10",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 ml-1",children:"Judul Kuis"}),p.jsx("input",{value:Dn,onChange:w=>kn(w.target.value),className:"w-full text-4xl font-black border-b-2 border-slate-200 focus:border-blue-600 outline-none py-2 bg-transparent placeholder:text-slate-300 transition-colors",placeholder:"Masukkan Judul Kuis..."})]}),p.jsxs("div",{className:"bg-indigo-50 p-8 rounded-3xl border border-indigo-100 relative overflow-hidden",children:[p.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5",children:p.jsx(Am,{size:100})}),p.jsxs("h5",{className:"font-bold text-indigo-900 mb-4 flex items-center gap-2 text-lg",children:[p.jsx(Am,{size:24})," Target Kelas"]}),p.jsx("div",{className:"flex flex-wrap gap-3 relative z-10",children:Ze.length>0?Ze.map(w=>p.jsxs("button",{onClick:()=>Ut(w.id),className:`px-5 py-3 rounded-xl font-bold text-sm transition-all transform hover:scale-105 active:scale-95 ${it.includes(w.id)?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/40 ring-2 ring-indigo-200":"bg-white text-slate-600 border border-slate-200 hover:border-indigo-300"}`,children:[it.includes(w.id)&&p.jsx(Al,{size:16,className:"inline mr-2"}),w.name]},w.id)):p.jsx("span",{className:"text-slate-400 italic",children:"Belum ada kelas."})})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-blue-100 shadow-xl shadow-blue-900/5",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-lg font-bold text-xs uppercase",children:[p.jsx(eh,{size:14})," Input Soal"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Poin:"}),p.jsx("input",{type:"number",min:"1",max:"100",value:Qt.points,onChange:w=>Fi({...Qt,points:w.target.value}),className:"w-16 p-2 rounded-lg border border-slate-200 text-center font-bold text-sm outline-none focus:border-blue-500"})]})]}),p.jsx("textarea",{value:Qt.question,onChange:w=>Fi({...Qt,question:w.target.value}),className:"w-full p-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:bg-blue-50/30 outline-none mb-6 text-lg font-semibold min-h-[120px]",placeholder:"Tulis pertanyaan di sini...",rows:3}),p.jsx("div",{className:"space-y-3 mb-6",children:Qt.options.map((w,G)=>p.jsxs("div",{className:"flex items-center gap-3 group",children:[p.jsx("span",{className:"w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-black group-focus-within:bg-blue-600 group-focus-within:text-white transition-colors",children:String.fromCharCode(65+G)}),p.jsx("input",{value:w,onChange:W=>{const ee=[...Qt.options];ee[G]=W.target.value,Fi({...Qt,options:ee})},className:"flex-1 p-3 rounded-xl border border-slate-200 text-sm font-medium focus:border-blue-500 outline-none transition-all",placeholder:`Pilihan ${String.fromCharCode(65+G)}`})]},G))}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Kunci Jawaban"}),p.jsxs("select",{value:Qt.answer,onChange:w=>Fi({...Qt,answer:w.target.value}),className:"w-full p-4 rounded-xl border-2 border-slate-100 text-sm font-bold bg-white focus:border-green-500 outline-none",children:[p.jsx("option",{value:"",children:"Pilih Jawaban Benar"}),Qt.options.map((w,G)=>w&&p.jsx("option",{value:w,children:w},G))]})]}),p.jsx("button",{onClick:Nt,className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-bold hover:bg-black transition-all hover:shadow-lg active:scale-95",children:"Simpan Soal ke Daftar"})]})}),p.jsxs("div",{className:"bg-slate-50 rounded-[32px] p-8 border border-slate-200 h-fit",children:[p.jsxs("h5",{className:"font-bold text-slate-700 mb-6 flex justify-between items-center text-xl",children:[p.jsx("span",{children:"Preview"}),p.jsxs("span",{className:"bg-white text-slate-800 px-4 py-2 rounded-full text-xs shadow-sm border border-slate-100",children:[zt.length," Soal Tersimpan"]})]}),zt.length===0?p.jsxs("div",{className:"text-center py-20 text-slate-400 italic flex flex-col items-center gap-4",children:[p.jsx("div",{className:"bg-slate-200 p-4 rounded-full",children:p.jsx(Xo,{size:32})}),"Belum ada soal ditambahkan."]}):p.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:zt.map((w,G)=>p.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative group hover:border-blue-300 transition-colors",children:[p.jsx("div",{className:"absolute top-4 right-4 text-slate-300 font-black text-4xl opacity-20",children:G+1}),p.jsx("div",{className:"font-bold text-slate-800 text-lg mb-2 pr-8",children:w.question}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"text-xs text-green-600 font-bold bg-green-50 px-3 py-1 rounded-lg inline-block border border-green-100",children:["Jawaban: ",w.answer]}),p.jsxs("div",{className:"text-xs text-blue-600 font-bold bg-blue-50 px-3 py-1 rounded-lg inline-block border border-blue-100",children:[w.points," Poin"]})]})]},G))})]})]}),p.jsxs("div",{className:"pt-8 border-t border-slate-200 flex justify-end gap-4",children:[p.jsx("button",{onClick:()=>{Hi(!1),ds(null),Wt([]),kn(""),an([])},className:"px-8 py-4 rounded-2xl font-bold text-slate-500 hover:bg-slate-100 transition active:scale-95",children:"Batal"}),p.jsxs("button",{onClick:nr,disabled:o,className:"px-10 py-4 rounded-2xl font-bold bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:shadow-xl hover:shadow-green-500/30 transition-all transform hover:-translate-y-1 flex items-center gap-3 active:scale-95",children:[o?p.jsx($o,{className:"animate-spin"}):p.jsx(bI,{size:20})," ",xn?"Update Kuis":"Terbitkan Kuis"]})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-indigo-600 text-white p-8 rounded-[32px] shadow-2xl shadow-indigo-500/30 relative overflow-hidden gap-6",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl transform translate-x-20 -translate-y-10"}),p.jsxs("div",{className:"relative z-10 w-full md:w-auto",children:[p.jsx("h3",{className:"font-black text-3xl mb-2",children:"Bank Soal & Kuis"}),p.jsx("p",{className:"text-indigo-200 font-medium",children:"Buat kuis interaktif untuk siswa Anda."})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 relative z-10 w-full md:w-auto",children:[p.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl flex items-center p-2 pl-4 border border-white/20 w-full md:w-auto",children:[p.jsx(xI,{size:20,className:"text-white/70 mr-2"}),p.jsx("input",{type:"text",placeholder:"Cari kuis...",className:"bg-transparent outline-none text-white placeholder:text-white/50 w-full md:w-60 font-medium",value:j,onChange:w=>M(w.target.value)})]}),p.jsxs("button",{onClick:()=>Hi(!0),className:"bg-white text-indigo-600 px-8 py-4 rounded-2xl font-bold hover:bg-indigo-50 flex items-center justify-center gap-2 shadow-lg transition hover:scale-105 active:scale-95 w-full md:w-auto",children:[p.jsx(eh,{size:24})," Buat Kuis Baru"]})]})]}),p.jsx("div",{className:"grid gap-6",children:pe.filter(w=>w.title.toLowerCase().includes(j.toLowerCase())).sort((w,G)=>(w.createdAt?.seconds||0)-(G.createdAt?.seconds||0)).map((w,G)=>p.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col md:flex-row md:items-center justify-between gap-6 hover:border-blue-300 transition-all hover:shadow-lg group",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-50 text-slate-500 rounded-2xl flex items-center justify-center font-black text-3xl group-hover:scale-110 group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-all duration-300 border border-slate-100",children:G+1}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 text-xl mb-2",children:w.title}),p.jsxs("div",{className:"flex flex-wrap gap-3 text-xs font-bold text-slate-500",children:[p.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-lg",children:[p.jsx(xm,{size:14})," Kode: ",p.jsx("span",{className:"text-blue-600",children:w.code})]}),p.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-lg",children:[p.jsx(Xo,{size:14})," ",w.questions?.length||0," Soal"]}),p.jsxs("span",{className:"flex items-center gap-1 bg-green-50 text-green-600 px-2 py-1 rounded-lg border border-green-100",children:[p.jsx(Zc,{size:14})," ",w.questions?.reduce((W,ee)=>W+(parseInt(ee.points)||0),0)," Poin"]}),w.allowedClassNames&&p.jsxs("span",{className:"flex items-center gap-1 bg-indigo-50 text-indigo-600 px-2 py-1 rounded-lg border border-indigo-100",children:[p.jsx(Am,{size:14})," ",w.allowedClassNames.join(", ")]})]})]})]}),p.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[p.jsx("button",{onClick:()=>Wa(w.code,w.id),className:`flex-1 md:flex-none px-4 py-3 rounded-xl font-bold transition-all shadow-sm flex items-center justify-center gap-2 active:scale-95 ${S===w.id?"bg-green-100 text-green-700":"bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white"}`,title:"Salin Kode",children:S===w.id?p.jsx(Al,{size:18}):p.jsx(tb,{size:18})}),p.jsx("button",{onClick:()=>tr(w),className:"flex-1 md:flex-none px-4 py-3 rounded-xl font-bold bg-slate-100 text-slate-600 hover:bg-slate-200 transition-all flex items-center justify-center gap-2 active:scale-95",title:"Edit Kuis",children:p.jsx(_I,{size:18})}),p.jsx("button",{onClick:W=>ci(W,w.id),className:"flex-1 md:flex-none px-4 py-3 rounded-xl font-bold bg-red-50 text-red-500 hover:bg-red-100 transition-all flex items-center justify-center gap-2 border border-red-100 active:scale-95",title:"Hapus Kuis",children:p.jsx(ep,{size:18})})]})]},w.id))})]})}),_e==="results"&&p.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden animate-in fade-in slide-in-from-bottom-4",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsx("h3",{className:"font-bold text-slate-700",children:"Daftar Nilai Siswa"}),p.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[p.jsx(WR,{size:16,className:"text-slate-400"}),p.jsxs("select",{value:z,onChange:w=>N(w.target.value),className:"bg-white border border-slate-200 text-sm font-bold text-slate-600 rounded-xl px-3 py-2 outline-none focus:border-blue-500 w-full md:w-auto",children:[p.jsx("option",{value:"All",children:"Semua Kelas"}),GI(Ze).map(w=>p.jsx("option",{value:w.name,children:w.name},w.id))]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-xs font-bold text-slate-500 uppercase tracking-widest",children:[p.jsx("th",{className:"p-6",children:"Siswa"}),p.jsx("th",{className:"p-6",children:"Kelas"}),p.jsx("th",{className:"p-6",children:"Kuis"}),p.jsx("th",{className:"p-6 text-right",children:"Nilai"}),p.jsx("th",{className:"p-6 text-right",children:"Waktu"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:Qe.filter(w=>z==="All"||w.studentClass===z).map(w=>p.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[p.jsxs("td",{className:"p-6 font-bold text-slate-800 flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs",children:w.studentName.charAt(0)}),w.studentName]}),p.jsx("td",{className:"p-6 text-slate-500 text-sm font-semibold",children:w.studentClass}),p.jsx("td",{className:"p-6 text-slate-600 font-medium",children:w.quizTitle}),p.jsx("td",{className:"p-6 text-right",children:p.jsx("span",{className:`px-4 py-2 rounded-xl text-xs font-black ${w.score>=75?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.score})}),p.jsx("td",{className:"p-6 text-right text-slate-400 text-xs font-bold",children:w.timestamp?w.timestamp.seconds?new Date(w.timestamp.seconds*1e3).toLocaleDateString():"Baru saja":"-"})]},w.id))})]})}),Qe.length===0&&p.jsx("div",{className:"p-20 text-center text-slate-400 font-medium italic",children:"Belum ada data nilai masuk."})]})]},_e)]}),nt&&p.jsx(nh,{title:nt.name,onClose:()=>ri(null),icon:Nl,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex gap-4 border-b border-slate-200 pb-1",children:[p.jsx("button",{onClick:()=>$a("students"),className:`px-4 py-2 font-bold text-sm transition-colors ${Yn==="students"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-800"}`,children:"Daftar Absen"}),p.jsx("button",{onClick:()=>$a("grades"),className:`px-4 py-2 font-bold text-sm transition-colors ${Yn==="grades"?"text-blue-600 border-b-2 border-blue-600":"text-slate-500 hover:text-slate-800"}`,children:"Riwayat Kuis & Nilai"})]}),Yn==="students"&&p.jsx("div",{className:"bg-slate-50 rounded-[24px] border border-slate-200 max-h-[400px] overflow-y-auto divide-y divide-slate-200 custom-scrollbar p-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:nt.students&&nt.students.length>0?[...nt.students].sort((w,G)=>(w.absen||999)-(G.absen||999)).map((w,G)=>p.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-white rounded-xl transition-colors",children:[p.jsxs("div",{className:"font-bold text-slate-700 flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xs font-black",children:w.absen||"-"}),w.name]}),p.jsx("div",{className:"text-xs font-bold bg-white border border-slate-200 px-2 py-1 rounded text-slate-500",children:w.absen?`Absen ${w.absen}`:"Belum Absen"})]},G)):p.jsx("div",{className:"p-10 text-center text-slate-400 text-sm italic",children:"Belum ada siswa di kelas ini."})}),Yn==="grades"&&p.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[Object.entries(Fs.reduce((w,G)=>(w[G.quizTitle]||(w[G.quizTitle]=[]),w[G.quizTitle].push(G),w),{})).map(([w,G])=>{const W=G.some(ue=>!ue.isPublished),ee=G[0]?.quizId;return p.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-4 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-slate-100",children:[p.jsx("h4",{className:"font-bold text-slate-800",children:w}),W?p.jsxs("button",{onClick:()=>Cn(ee,nt.name),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-indigo-700 flex items-center gap-2 transition active:scale-95",children:[p.jsx(wm,{size:12})," Publish Nilai"]}):p.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[p.jsx(Al,{size:12})," Terpublikasi"]})]}),p.jsx("div",{className:"space-y-2",children:G.map(ue=>p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-slate-600",children:ue.studentName}),p.jsx("span",{className:`font-bold ${ue.score>=75?"text-green-600":"text-orange-500"}`,children:ue.score})]},ue.id))})]},w)}),Fs.length===0&&p.jsx("div",{className:"p-8 text-center text-slate-400 italic",children:"Belum ada data kuis untuk kelas ini."})]})]})})]}),f==="student-dash"&&p.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans flex flex-col md:flex-row",children:[Oe&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden animate-in fade-in duration-300",onClick:()=>R(!1)}),p.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 text-slate-300 flex-col relative overflow-hidden h-full transform transition-transform duration-300 ease-in-out ${Oe?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:relative`,children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl"}),p.jsxs("div",{className:"p-8 border-b border-slate-800 relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-2.5 rounded-xl text-white shadow-lg shadow-indigo-900/50",children:p.jsx(Wc,{size:24})}),p.jsxs("span",{className:"text-white font-extrabold text-xl tracking-tight leading-tight",children:["Student",p.jsx("br",{}),"Dashboard"]})]}),p.jsxs("div",{className:"bg-slate-800/50 backdrop-blur rounded-2xl p-4 border border-slate-700/50",children:[i?.classroom&&p.jsxs("div",{className:"text-[10px] font-bold text-slate-500 mb-1 uppercase tracking-wider",children:["Siswa Kelas ",i?.classroom]}),p.jsxs("div",{className:"text-white font-bold text-sm flex items-start gap-2 break-words",children:[p.jsx(Tm,{size:16,className:"mt-0.5 shrink-0"}),p.jsx("span",{className:"break-all",children:i?.name})]})]})]}),p.jsx("div",{className:"p-6 space-y-3 relative z-10 flex-1",children:[{id:"overview",icon:iI,label:"Beranda"},{id:"classroom",icon:Nl,label:"Ruang Kelas"},{id:"exam",icon:FR,label:"Ruang Ujian"},{id:"history",icon:Sl,label:"Riwayat"},{id:"settings",icon:NI,label:"Pengaturan"}].map(w=>p.jsxs("button",{onClick:()=>{ft(w.id),R(!1)},className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all duration-200 font-bold text-sm active:scale-95 ${we===w.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/50 scale-105":"hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(w.icon,{size:20})," ",w.label]},w.id))}),p.jsx("div",{className:"p-6 relative z-10",children:p.jsxs("button",{onClick:Sn,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-white hover:bg-red-500/20 p-4 rounded-2xl font-bold transition-all active:scale-95",children:[p.jsx(nb,{size:20})," Logout"]})})]}),p.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto bg-[#F8FAFC]",children:[p.jsxs("header",{className:"flex justify-between items-center mb-6 md:mb-10",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{className:"md:hidden p-2 bg-white rounded-xl shadow-sm active:scale-95 transition-transform",onClick:()=>R(!0),children:p.jsx(sb,{})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl md:text-4xl font-black text-slate-800 tracking-tight mb-1 md:mb-2",children:[we==="overview"&&`Halo, ${i?.name}!`,we==="classroom"&&"Ruang Kelas",we==="exam"&&"Ruang Ujian",we==="history"&&"Riwayat Belajar",we==="settings"&&"Pengaturan Akun"]}),p.jsxs("p",{className:"text-slate-500 font-medium text-sm md:text-lg hidden md:block",children:[we==="overview"&&"Siap untuk belajar hari ini?",we==="classroom"&&"Lihat dan gabung ke kelas barumu.",we==="exam"&&"Masukkan kode untuk mulai mengerjakan.",we==="history"&&"Lihat progress perkembangan nilaimu.",we==="settings"&&"Kelola preferensi akunmu."]})]})]}),p.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center font-black text-slate-700 border-2 border-slate-100 shadow-sm text-xl shrink-0",children:i?.name.charAt(0)})]}),p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[we==="overview"&&p.jsxs("div",{className:"space-y-8",children:[b?p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[p.jsx(Sm,{}),p.jsx(Sm,{})]}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[p.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-8 rounded-[32px] text-white shadow-2xl shadow-indigo-500/30 relative overflow-hidden transition-transform hover:scale-[1.01]",children:p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm w-fit mb-6",children:p.jsx(Zc,{size:32})}),p.jsx("div",{className:"text-5xl font-black mb-2",children:ms.length>0?Math.round(ms.reduce((w,G)=>w+G.score,0)/ms.length):0}),p.jsx("div",{className:"text-indigo-100 font-bold text-lg",children:"Rata-rata Nilai (Terpublikasi)"})]})}),p.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-xl shadow-slate-200/50 hover:shadow-2xl transition-shadow",children:[p.jsx("div",{className:"p-4 bg-blue-100 text-blue-600 rounded-2xl w-fit mb-6",children:p.jsx(Al,{size:32})}),p.jsx("div",{className:"text-5xl font-black text-slate-800 mb-2",children:Q.length}),p.jsx("div",{className:"text-slate-500 font-bold text-lg",children:"Ujian Diselesaikan"})]})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-3",children:[p.jsx(Sl,{size:24,className:"text-orange-500"})," Aktivitas Terbaru (5)"]}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:Q.length>0?Q.slice(0,5).map(w=>p.jsx("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-lg transition-all flex items-center justify-between group",children:p.jsxs("div",{className:"flex items-center gap-5",children:[p.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center font-black text-xl ${w.isPublished?w.score>=75?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"} group-hover:scale-110 transition-transform`,children:w.isPublished?w.score:p.jsx(Sl,{size:20})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 text-lg mb-1",children:w.quizTitle}),p.jsxs("div",{className:"text-slate-500 text-xs font-bold flex gap-2 items-center",children:[p.jsx("span",{children:w.timestamp?w.timestamp.seconds?new Date(w.timestamp.seconds*1e3).toLocaleDateString():"Baru saja":"-"}),p.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-600",children:["Kode: ",w.quizCode]}),!w.isPublished&&p.jsxs("span",{className:"text-orange-500 flex items-center gap-1",children:[p.jsx(wm,{size:10})," Menunggu Nilai"]})]})]})]})},w.id)):p.jsx("div",{className:"p-10 text-center flex flex-col items-center text-slate-400 bg-white rounded-[32px] border border-slate-100 border-dashed",children:p.jsx("p",{className:"font-medium",children:"Belum ada aktivitas."})})})]})]}),we==="classroom"&&p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[32px] shadow-sm border border-slate-100",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[p.jsx(eh,{size:24,className:"text-blue-600"})," Gabung Kelas Baru"]}),p.jsxs("form",{onSubmit:ui,className:"flex flex-col md:flex-row gap-4",children:[p.jsx("input",{value:qi,onChange:w=>Gs(w.target.value.toUpperCase()),placeholder:"Masukkan Kode Kelas dari Guru...",className:"flex-1 p-4 border border-slate-200 rounded-xl outline-none focus:border-blue-500 font-bold tracking-widest uppercase placeholder:normal-case placeholder:tracking-normal w-full"}),p.jsx("button",{type:"submit",disabled:!qi||o,className:"bg-slate-900 text-white px-8 py-4 rounded-xl font-bold hover:bg-black transition disabled:opacity-50 w-full md:w-auto active:scale-95",children:o?p.jsx($o,{className:"animate-spin"}):"Gabung Kelas"})]}),Fn&&p.jsx("div",{className:"mt-4 text-red-500 text-sm font-bold bg-red-50 p-3 rounded-xl",children:Fn})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:"Kelas Saya"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.length>0?F.map(w=>p.jsxs("div",{onClick:()=>er(w),className:"bg-white p-6 rounded-[24px] border border-slate-100 shadow-sm hover:shadow-md transition-all group cursor-pointer active:scale-95 duration-200",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-xl",children:p.jsx(Nl,{size:24})}),p.jsx("div",{className:"bg-slate-100 text-slate-500 px-3 py-1 rounded-lg text-xs font-bold",children:w.code})]}),p.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:w.name}),p.jsxs("div",{className:"space-y-1 mb-4",children:[p.jsxs("p",{className:"text-sm font-semibold text-slate-500 flex items-center gap-2",children:[p.jsx(eb,{size:14})," ",w.school]}),p.jsxs("p",{className:"text-sm font-semibold text-slate-500 flex items-center gap-2",children:[p.jsx(Wv,{size:14})," ",w.subject]})]}),p.jsxs("div",{className:"pt-4 border-t border-slate-50 text-xs font-bold text-slate-400 flex items-center gap-2",children:[p.jsx(Tm,{size:14})," Guru: ",w.teacherName]})]},w.id)):p.jsxs("div",{className:"col-span-full p-12 text-center text-slate-400 bg-white rounded-[32px] border border-slate-100 border-dashed",children:[p.jsx(Nl,{size:48,className:"mx-auto mb-4 opacity-20"}),p.jsx("p",{className:"font-medium",children:"Belum bergabung dengan kelas manapun."})]})})]})]}),Ni&&p.jsx(nh,{title:"Isi Absen Kelas",onClose:()=>sn(null),icon:tI,children:p.jsxs("div",{className:"space-y-6 text-center",children:[p.jsxs("p",{className:"text-slate-500",children:["Pilih nomor urut absen Anda di kelas ",p.jsx("strong",{children:Ni.name}),"."]}),p.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-3 max-h-[300px] overflow-y-auto p-2",children:[...Array(50)].map((w,G)=>{const W=G+1,ee=Ni.students?.some(ue=>ue.absen===W);return p.jsx("button",{disabled:ee,onClick:()=>Tn(W.toString()),className:`p-3 rounded-xl font-bold text-sm transition-all active:scale-90 ${At===W.toString()?"bg-blue-600 text-white ring-4 ring-blue-200":ee?"bg-slate-100 text-slate-300 cursor-not-allowed":"bg-white border border-slate-200 text-slate-700 hover:border-blue-400"}`,children:W},W)})}),p.jsx("div",{className:"pt-4 border-t border-slate-100",children:p.jsx("button",{onClick:St,disabled:!At,className:"w-full bg-slate-900 text-white py-4 rounded-xl font-bold hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:"Simpan Absen & Masuk"})})]})}),we==="exam"&&p.jsx("div",{className:"max-w-2xl",children:p.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-[40px] shadow-2xl shadow-blue-900/10 border border-white text-center relative overflow-hidden group hover:scale-[1.01] transition-transform duration-300",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),p.jsx("div",{className:"inline-flex p-4 bg-blue-50 text-blue-600 rounded-full mb-6 group-hover:rotate-12 transition-transform",children:p.jsx(xm,{size:32})}),p.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-3",children:"Gabung Ujian"}),p.jsx("p",{className:"text-slate-500 font-medium mb-8",children:"Masukkan kode unik dari gurumu untuk mulai."}),p.jsxs("form",{onSubmit:Lr,className:"relative",children:[p.jsx("input",{type:"text",value:Qs,onChange:w=>Gi(w.target.value.toUpperCase()),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-5 text-center text-4xl font-black tracking-[0.2em] text-slate-800 uppercase focus:border-blue-500 focus:bg-white transition-all outline-none placeholder:text-slate-300 shadow-inner",placeholder:"CODE"}),Fn&&p.jsx("div",{className:"mt-4 text-red-500 font-bold text-sm bg-red-50 py-3 px-4 rounded-xl inline-block border border-red-100 animate-pulse",children:Fn}),p.jsx("button",{type:"submit",disabled:!Qs||o,className:"w-full mt-8 bg-slate-900 text-white py-5 rounded-2xl font-bold text-lg hover:bg-black hover:shadow-xl hover:-translate-y-1 transition-all disabled:opacity-50 disabled:hover:translate-y-0 disabled:shadow-none shadow-lg shadow-slate-900/20 active:scale-95",children:o?p.jsx($o,{className:"animate-spin mx-auto"}):"Masuk Ruang Ujian"})]})]})}),we==="history"&&p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-3",children:[p.jsx(Sl,{size:24,className:"text-blue-500"})," Riwayat Lengkap (12 Terakhir)"]}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:Q.length>0?Q.slice(0,12).map(w=>p.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-lg transition-all flex items-center justify-between group",children:[p.jsxs("div",{className:"flex items-center gap-5",children:[p.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center font-black text-2xl ${w.isPublished?w.score>=75?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"} group-hover:scale-110 transition-transform`,children:w.isPublished?w.score:p.jsx(Sl,{size:24})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 text-lg mb-1",children:w.quizTitle}),p.jsxs("div",{className:"text-slate-500 text-xs font-bold flex gap-2 items-center",children:[p.jsx(Sl,{size:12}),p.jsx("span",{children:w.timestamp?w.timestamp.seconds?new Date(w.timestamp.seconds*1e3).toLocaleDateString():"Baru saja":"-"}),p.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-600",children:["Kode: ",w.quizCode]}),!w.isPublished&&p.jsxs("span",{className:"text-orange-500 flex items-center gap-1",children:[p.jsx(wm,{size:10})," Menunggu Nilai"]})]})]})]}),p.jsx("div",{className:"hidden sm:block opacity-50 group-hover:opacity-100 transition-opacity",children:w.isPublished&&(w.score>=90?p.jsx("span",{className:"text-4xl",children:""}):w.score>=75?p.jsx("span",{className:"text-4xl",children:""}):p.jsx("span",{className:"text-4xl",children:""}))})]},w.id)):p.jsxs("div",{className:"p-16 text-center flex flex-col items-center text-slate-400 bg-white rounded-[32px] border border-slate-100 border-dashed",children:[p.jsx("div",{className:"bg-slate-50 p-6 rounded-full mb-4",children:p.jsx(Xo,{size:40,className:"opacity-50"})}),p.jsx("p",{className:"font-medium",children:"Belum ada riwayat pengerjaan."})]})})]}),we==="settings"&&p.jsx("div",{className:"max-w-3xl",children:p.jsxs("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-slate-100",children:[p.jsx("h3",{className:"font-bold text-xl mb-4",children:"Profil Saya"}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-3xl font-black text-slate-400",children:i?.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-lg text-slate-800",children:i?.name}),p.jsx("div",{className:"text-slate-500 font-medium",children:"Siswa"}),p.jsx("div",{className:"mt-2 text-xs bg-green-100 text-green-700 px-2 py-1 rounded inline-block font-bold",children:"Akun Aktif"})]})]})]}),p.jsxs("div",{className:"p-8 bg-slate-50/50",children:[p.jsx("h3",{className:"font-bold text-xl mb-4",children:"Preferensi"}),p.jsxs("div",{className:"space-y-4 opacity-50 pointer-events-none",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 bg-white rounded-xl border border-slate-200",children:[p.jsx("span",{className:"font-medium",children:"Notifikasi Email"}),p.jsx("div",{className:"w-10 h-6 bg-slate-300 rounded-full"})]}),p.jsxs("div",{className:"flex justify-between items-center p-4 bg-white rounded-xl border border-slate-200",children:[p.jsx("span",{className:"font-medium",children:"Mode Gelap"}),p.jsx("div",{className:"w-10 h-6 bg-slate-300 rounded-full"})]})]}),p.jsx("p",{className:"text-xs text-slate-400 mt-4 text-center",children:"Fitur pengaturan segera hadir."})]})]})})]},we)]})]}),f==="quiz"&&rt&&p.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col font-sans",children:fs?rn?p.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6 animate-in zoom-in-95 duration-500",children:p.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[48px] shadow-2xl shadow-blue-900/20 overflow-hidden text-center p-12 relative border border-white",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-green-400 to-emerald-600"}),p.jsx("div",{className:"inline-flex p-8 bg-green-50 text-green-600 rounded-full mb-8 animate-bounce shadow-inner",children:p.jsx(kI,{size:80})}),p.jsx("h2",{className:"text-4xl font-black text-slate-800 mb-4 tracking-tight",children:"Selesai!"}),p.jsxs("p",{className:"text-slate-500 font-medium mb-10 text-lg",children:["Kamu telah menyelesaikan ",p.jsx("br",{}),p.jsx("span",{className:"text-slate-800 font-bold",children:rt.title})]}),p.jsx("div",{className:"bg-slate-50 rounded-[32px] p-8 mb-10 border border-slate-100 relative overflow-hidden",children:p.jsx("div",{className:"text-slate-600 font-bold text-lg",children:"Jawaban Sudah Tersimpan Menunggu Nilai Akhir"})}),p.jsx("button",{onClick:()=>y("student-dash"),className:"w-full bg-slate-900 text-white py-5 rounded-2xl font-bold text-lg hover:bg-black transition-all hover:-translate-y-1 shadow-xl shadow-slate-900/20 active:scale-95",children:"Kembali ke Dashboard"})]})}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"h-3 bg-slate-200 w-full fixed top-0 left-0 z-50",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${(gn+1)/(rt.questions?.length||1)*100}%`}})}),p.jsxs("div",{className:"flex-1 max-w-4xl mx-auto w-full p-6 flex flex-col justify-center mt-8",children:[p.jsxs("div",{className:"mb-10 flex flex-col items-start animate-in fade-in slide-in-from-bottom-8 duration-700",children:[p.jsxs("span",{className:"text-blue-600 font-black tracking-widest text-xs uppercase bg-blue-100 px-4 py-2 rounded-full mb-6 inline-block shadow-sm",children:["Pertanyaan ",gn+1," / ",rt.questions?.length||0]}),p.jsx("h2",{className:"text-2xl md:text-5xl font-black text-slate-900 leading-[1.2]",children:rt.questions?.[gn]?.question})]}),p.jsx("div",{className:"grid gap-5 mb-12 animate-in fade-in slide-in-from-bottom-12 duration-700 delay-100",children:rt.questions?.[gn]?.options.map((w,G)=>p.jsxs("button",{onClick:()=>Xn(w),className:`w-full text-left p-6 rounded-2xl border-2 font-bold text-xl flex gap-6 items-center transition-all duration-200 group relative overflow-hidden active:scale-[0.98] ${vt===w?"border-blue-600 bg-blue-50 text-blue-900 shadow-xl shadow-blue-900/10 ring-2 ring-blue-400 transform scale-[1.02]":"border-slate-200 text-slate-600 hover:bg-white hover:border-blue-300 hover:shadow-md"}`,children:[p.jsx("span",{className:`w-12 h-12 flex shrink-0 items-center justify-center rounded-xl text-lg font-black transition-colors shadow-sm ${vt===w?"bg-blue-600 text-white":"bg-slate-100 text-slate-500 group-hover:bg-blue-100 group-hover:text-blue-600"}`,children:String.fromCharCode(65+G)}),p.jsx("span",{className:"relative z-10",children:w})]},G))}),p.jsx("div",{className:"flex justify-end animate-in fade-in slide-in-from-bottom-16 duration-700 delay-200",children:p.jsxs("button",{onClick:ir,disabled:!vt,className:"bg-slate-900 text-white px-10 py-5 rounded-2xl font-bold text-xl hover:bg-black shadow-2xl shadow-slate-900/30 transition-all hover:-translate-y-1 disabled:opacity-50 disabled:hover:translate-y-0 disabled:shadow-none flex items-center gap-3 active:scale-95",children:[gn+1===(rt.questions?.length||0)?"Selesai & Kumpulkan":"Selanjutnya"," ",p.jsx(Em,{size:24})]})})]})]}):p.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-slate-50 animate-in fade-in duration-500",children:p.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[40px] shadow-2xl p-10 text-center animate-in zoom-in-95",children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:"Pilih Kelas Anda"}),p.jsx("p",{className:"text-slate-500 mb-8",children:"Pilih salah satu kelas target untuk memulai ujian."}),p.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:rt.validClassesForStudent&&rt.validClassesForStudent.length>0?rt.validClassesForStudent.map((w,G)=>p.jsx("button",{onClick:()=>Za(w),className:"p-4 rounded-2xl border-2 border-slate-100 hover:border-blue-500 hover:bg-blue-50 text-slate-700 font-bold transition-all active:scale-95",children:w},G)):p.jsx("div",{className:"col-span-2 text-slate-400 italic",children:rt.allowedClassNames&&rt.allowedClassNames.length>0?"Anda tidak terdaftar di kelas target kuis ini.":"Kuis ini terbuka untuk umum."})}),(!rt.allowedClassNames||rt.allowedClassNames.length===0)&&p.jsx("button",{onClick:()=>Za("Umum"),className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold hover:bg-blue-700 transition active:scale-95",children:"Lanjutkan (Umum)"}),p.jsx("button",{onClick:()=>y("student-dash"),className:"text-slate-400 hover:text-slate-600 font-bold mt-4 block mx-auto active:scale-95 transition-transform",children:"Batal"})]})})})]})}function YI(){return p.jsx(FI,{children:p.jsx(QI,{})})}Tx.createRoot(document.getElementById("root")).render(p.jsx(fe.StrictMode,{children:p.jsx(YI,{})}));
